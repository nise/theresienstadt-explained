(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"224d":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("56ec"),o=n("6ffb"),r=n("703f"),s=n("6f27"),a=function(t){function e(e){t.call(this,e,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,i){var o=n.resolve(i.map(this.head));return e.valid(o)?new e(o):t.near(o)},e.prototype.content=function(){return s.Slice.empty},e.prototype.eq=function(t){return t instanceof e&&t.head==this.head},e.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new e(t.resolve(n.pos))},e.prototype.getBookmark=function(){return new c(this.anchor)},e.valid=function(t){var e=t.parent;if(e.isTextblock||!l(t)||!h(t))return!1;var n=e.type.spec.allowGapCursor;if(null!=n)return n;var i=e.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock},e.findFrom=function(t,n,i){if(!i&&e.valid(t))return t;for(var o=t.pos,r=null,s=t.depth;;s--){var a=t.node(s);if(n>0?t.indexAfter(s)<a.childCount:t.index(s)>0){r=a.maybeChild(n>0?t.indexAfter(s):t.index(s)-1);break}if(0==s)return null;o+=n;var c=t.doc.resolve(o);if(e.valid(c))return c}for(;;){if(r=n>0?r.firstChild:r.lastChild,!r)break;o+=n;var l=t.doc.resolve(o);if(e.valid(l))return l}return null},e}(o.Selection);a.prototype.visible=!1,o.Selection.jsonID("gapcursor",a);var c=function(t){this.pos=t};function l(t){for(var e=t.depth;e>=0;e--){var n=t.index(e);if(0!=n)for(var i=t.node(e).child(n-1);;i=i.lastChild){if(0==i.childCount&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function h(t){for(var e=t.depth;e>=0;e--){var n=t.indexAfter(e),i=t.node(e);if(n!=i.childCount)for(var o=i.child(n);;o=o.firstChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}c.prototype.map=function(t){return new c(t.map(this.pos))},c.prototype.resolve=function(t){var e=t.resolve(this.pos);return a.valid(e)?new a(e):o.Selection.near(e)};var u=function(){return new o.Plugin({props:{decorations:m,createSelectionBetween:function(t,e,n){if(e.pos==n.pos&&a.valid(n))return new a(n)},handleClick:f,handleKeyDown:d}})},d=i.keydownHandler({ArrowLeft:p("horiz",-1),ArrowRight:p("horiz",1),ArrowUp:p("vert",-1),ArrowDown:p("vert",1)});function p(t,e){var n="vert"==t?e>0?"down":"up":e>0?"right":"left";return function(t,i,r){var s=t.selection,c=e>0?s.$to:s.$from,l=s.empty;if(s instanceof o.TextSelection){if(!r.endOfTextblock(n))return!1;l=!1,c=t.doc.resolve(e>0?c.after():c.before())}var h=a.findFrom(c,e,l);return!!h&&(i&&i(t.tr.setSelection(new a(h))),!0)}}function f(t,e,n){if(t.someProp("editable",function(e){return!1===e(t.state)}))return!1;var i=t.state.doc.resolve(e);if(!a.valid(i))return!1;var r=t.posAtCoords({left:n.clientX,top:n.clientY}),s=r.inside;return!(s>-1&&o.NodeSelection.isSelectable(t.state.doc.nodeAt(s)))&&(t.dispatch(t.state.tr.setSelection(new a(i))),!0)}function m(t){if(!(t.selection instanceof a))return null;var e=document.createElement("div");return e.className="ProseMirror-gapcursor",r.DecorationSet.create(t.doc,[r.Decoration.widget(t.selection.head,e,{key:"gapcursor"})])}e.gapCursor=u,e.GapCursor=a},"2b3c":function(t,e,n){},"2ec8":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("6ffb"),o=n("b923");function r(t){return void 0===t&&(t={}),new i.Plugin({view:function(e){return new s(e,t)}})}var s=function(t,e){var n=this;this.editorView=t,this.width=e.width||1,this.color=e.color||"black",this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map(function(e){var i=function(t){return n[e](t)};return t.dom.addEventListener(e,i),{name:e,handler:i}})};s.prototype.destroy=function(){var t=this;this.handlers.forEach(function(e){var n=e.name,i=e.handler;return t.editorView.dom.removeEventListener(n,i)})},s.prototype.update=function(t,e){null!=this.cursorPos&&e.doc!=t.state.doc&&this.updateOverlay()},s.prototype.setCursor=function(t){t!=this.cursorPos&&(this.cursorPos=t,null==t?(this.element.remove(),this.element=null):this.updateOverlay())},s.prototype.updateOverlay=function(){var t,e=this.editorView.state.doc.resolve(this.cursorPos);if(!e.parent.inlineContent){var n=e.nodeBefore,i=e.nodeAfter;if(n||i){var o=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),r=n?o.bottom:o.top;n&&i&&(r=(r+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),t={left:o.left,right:o.right,top:r-this.width/2,bottom:r+this.width/2}}}if(!t){var s=this.editorView.coordsAtPos(this.cursorPos);t={left:s.left-this.width/2,right:s.left+this.width/2,top:s.top,bottom:s.bottom}}var a=this.editorView.dom.offsetParent;this.element||(this.element=a.appendChild(document.createElement("div")),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);var c=a==document.body&&"static"==getComputedStyle(a).position?{left:-pageXOffset,top:-pageYOffset}:a.getBoundingClientRect();this.element.style.left=t.left-c.left+"px",this.element.style.top=t.top-c.top+"px",this.element.style.width=t.right-t.left+"px",this.element.style.height=t.bottom-t.top+"px"},s.prototype.scheduleRemoval=function(t){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){return e.setCursor(null)},t)},s.prototype.dragover=function(t){var e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY});if(e){var n=e.pos;this.editorView.dragging&&this.editorView.dragging.slice&&(n=o.dropPoint(this.editorView.state.doc,n,this.editorView.dragging.slice),null==n&&(n=e.pos)),this.setCursor(n),this.scheduleRemoval(5e3)}},s.prototype.dragend=function(){this.scheduleRemoval(20)},s.prototype.drop=function(){this.scheduleRemoval(20)},s.prototype.dragleave=function(t){t.target!=this.editorView.dom&&this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)},e.dropCursor=r},"3e10":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("h1",[t._v("Protagonisten")]),t._l(t.persons,function(e){return n("div",[t._v(t._s(e.name))])})],2)},o=[],r=n("2b0e"),s=n("5f5b");n("f9e3"),n("2dd8");r["default"].use(s["a"]);var a={name:"home",data:function(){return{error:"",persons:[{shortname:"Maximilian Adler",name:"Maximilian",surename:"Adler",birth:"21.09.1884",birth_place:"Budweis",death:"16.10.1944",death_place:"KZ Auschwitz",profession:"Philologe und Hochschullehrer",bio:"",updated_at:{$date:"2018-09-21T18:34:42.989Z"}},{shortname:"Karel Ancerl",name:"Karel",surename:"Ančerl",birth:"22.03.1905",birth_place:"Tučapy",death:"",death_place:"Toronto",profession:"Dirigent",bio:"Ančerl war ein bekannter tschechischer Dirigent. Am 16. November 1942 wurde er nach Theresienstadt deportiert, wo er 1943 ein Kammerorchester gründete, das bei der Interpretation großer musikalischer Werke im Ghetto hohes Niveau erreichte.\nAm 16. Oktober 1944 wurde er nach Auschwitz deportiert und kam später in andere Konzentrationslager. Nach der Befreiung arbeitete er \nbeim tschechischen Rundfunk. Ab 1950 war er Chefdirigent der Tschechischen Philharmoniker.\n\nQuelle:http://www.ghetto-theresienstadt.info/pages/a/ancerlk.htm",updated_at:{$date:"2018-09-21T18:34:42.990Z"}},{shortname:"Leo Baeck",name:"Leo",surename:"Baeck",birth:"23.05.1873",birth_place:"Lissa",death:"02.11.1956",death_place:"London",profession:"Rabbiner",bio:"Leo Baeck wird am 23. Mai in Lissa (heute Lezno/Polen \nEr wird früh in der jüdischen Kultur und Religion unterrichtet. Er besucht das konservative „Jüdisch-Theologische Seminar“ von Breslau (Wroclaw)und bis 1894 das Philosophische Seminar der Universität Breslau. Zum weiteren Studium der Philosophie, Geschichte und Religionsphilosophie zieht er nach Berlin. Er beginnt das Rabbinatsstudium an der liberalen „Lehranstalt für die Wissenschaft des Judentums“.\nBaeck promoviert 1895 und veröffentlicht seine vielbeachtete Dissertation über „Spinozas erste Einwirkungen auf Deutschland“. Im Herbst des Jahres geht er als junger Rabbiner nach Oppeln (Opole).\nEr wird zum führenden Vertreter des jüdischen Liberalismus. 1907 – 1912, Baeck ist Rabbiner in Düsseldorf. 1912 wird Baeck als Rabbiner nach Berlin berufen und arbeitet in der neu errichteten Synagoge in der Fasanenstraße. Zudem wird er Dozent an der „Hochschule für die Wissenschaft des Judentums“.\nWährend des 1. Weltkrieges wird Baeck Feldrabbiner an der West- und Ostfront.\n1933 – 1943, trotz mehrfacher Gelegenheit zur Emigration bleibt Baeck bei seiner Gemeinde, um den deutschen Juden in den Jahren der Diskriminierung und der Verfolgung beizustehen. Er organisiert die Emigration von Juden.\nAls am 1. Nov. 1938 der jüdische Religionsphilosoph Martin Buber aus Deutschland emigriert, ist Baeck der letzte hohe Repräsentant des Judentums in Deutschland. \n1943 wird Baeck zusammen mit seiner Familie in das Ghetto Theresienstadt deportiert. Dort unterstützt er die Gefangenen durch Vorträge und Predigten. Schwer misshandelt überlebt Baeck. Seine vier Schwestern sind im Ghetto umgekommen.\nIm Juli 1945 läßt sich Leo Baeck in London nieder. Ab 1948 bemüht er sich in ganz Deutschland um Versöhnung und Dialoge zwischen Juden und Christen. Die Wiederaufnahme der von ihm 1919 initiierten Gespräche zwischen den Glaubensgruppen ist ihm zunächst wichtiger als die Bestrafung der Schuldigen am Völkermord an den europäischen Juden. Neben seinen repräsentativen Funktionen beginnt Baeck eine umfangreiche Lehrtätigkeit an verschiedenen Universitäten in Europa und den USA. Leo Baeck stirbt am 2. November 1956 in London\nQuelle:http://www.ghetto-theresienstadt.info/pages/b/baeckl.htm",updated_at:{$date:"2018-09-21T18:34:42.990Z"}},{shortname:"Cornelia Cohen",name:"Cornelia",surename:"Cohen",birth:"",birth_place:"",death:"",death_place:"",profession:"",bio:"Eine geborene Spitzer. Ehefrau von David Cohen.",updated_at:{$date:"2018-09-21T18:34:42.990Z"}},{shortname:"David Cohen",name:"David",surename:"Cohen",birth:"31.12.1882",birth_place:"Deventer",death:"03.09.1967",death_place:"Amsterdam",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:42.991Z"}},{shortname:"Elisabeth Czech",name:"Elisabeth",surename:"Czech",birth:"",birth_place:"",death:"",death_place:"",profession:"",bio:"Witwe eines früheren tschechischen Ministers.",updated_at:{$date:"2018-09-21T18:34:42.991Z"},__v:0},{shortname:"Heinrich Dessauer",name:"Heinrich",surename:"Dessauer",birth:"",birth_place:"",death:"",death_place:"",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:42.991Z"}},{shortname:"Paul Eppstein; ",name:"Paul",surename:"Eppstein",birth:"04.03.1902",birth_place:"Ludwigshafen",death:"28.09.1944",death_place:"Ghetto Theresienstadt",profession:"Soziologe",bio:"Eppstein war Judenälteste r im Ghetto Theresienstadt",updated_at:{$date:"2018-09-21T18:34:42.992Z"}},{shortname:"Karel Fischer",name:"Karel",surename:"Fischer",birth:"",birth_place:"",death:"",death_place:"",profession:"Dirigent",bio:"",updated_at:{$date:"2018-09-21T18:34:42.992Z"}},{shortname:"Max Friediger",name:"Max",surename:"Friediger",birth:"09.04.1884",birth_place:"Budapest",death:"09.04.1947",death_place:"Kopenhagen",profession:"Oberrabbiner",bio:"",updated_at:{$date:"2018-09-21T18:34:42.992Z"}},{shortname:"Desider Friedmann",name:"Desider",surename:"Friedmann",birth:"24.11.1880",birth_place:"Boskovice",death:"00.10.1944",death_place:"",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:42.992Z"}},{shortname:"Heinrich Gans",name:"Heinrich",surename:"Gans",birth:"",birth_place:"",death:"",death_place:"",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:42.993Z"}},{shortname:"Kurt Gerron",name:"Kurt",surename:"Gerron",birth:"11.05.1897",birth_place:"Berlin",death:"28.10.1944",death_place:"KZ Auschwitz",profession:"Schauspieler, Sänger, Regisseur",bio:"",updated_at:{$date:"2018-09-21T18:34:42.993Z"}},{shortname:"Rolf Grabower",name:"Rolf",surename:"Grabower",birth:"21.05.1883",birth_place:"Berlin",death:"07.03.1963",death_place:"München",profession:"Steuerrechtler, Ministerialrat, Richter",bio:"",updated_at:{$date:"2018-09-21T18:34:42.993Z"}},{shortname:"Georg Gradnauer",name:"Georg",surename:"Gradnauer",birth:"16.11.1866",birth_place:"Magdeburg",death:"18.11.1946",death_place:"Berlin-Schlachtensee",profession:"Politiker",bio:"",updated_at:{$date:"2018-09-21T18:34:42.993Z"}},{shortname:"Fritz Gutmann",name:"Fritz",surename:"Gutmann",birth:"",birth_place:"",death:"",death_place:"",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:42.994Z"}},{shortname:"Pavel Haas ",name:"Pavel",surename:"Haas",birth:"21.06.1899",birth_place:"Brünn",death:"18.10.1944",death_place:"KZ Auschwitz",profession:"Komponist",bio:"",updated_at:{$date:"2018-09-21T18:34:42.994Z"}},{shortname:"Franz Kahn",name:"Franz",surename:"Kahn",birth:"",birth_place:"",death:"",death_place:"",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:42.994Z"}},{shortname:"Ernst Kantorowicz",name:"Ernst",surename:"Kantorowicz",birth:"",birth_place:"",death:"",death_place:"",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:42.995Z"}},{shortname:"Heinrich Klang",name:"Heinrich",surename:"Klang",birth:"15.04.1875",birth_place:"Wien",death:"22.01.1954",death_place:"Wien",profession:"Rechtswissenschaftler",bio:"",updated_at:{$date:"2018-09-21T18:34:42.995Z"}},{shortname:"Alfred Klein",name:"Alfred",surename:"Klein",birth:"",birth_place:"",death:"",death_place:"",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:42.995Z"}},{shortname:"Gisela Kozower",name:"Giesela",surename:"Kozower",birth:"",birth_place:"",death:"",death_place:"",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:42.995Z"}},{shortname:"Philipp Kozower",name:"Philipp",surename:"Kozower",birth:"28.01.1894",birth_place:"Berlin",death:"00.10.1944",death_place:"KZ Auschwitz",profession:"Jurist",bio:"",updated_at:{$date:"2018-09-21T18:34:42.996Z"}},{shortname:"Hans Krasa",name:"Hans",surename:"Krása",birth:"30.11.1899",birth_place:"Prag",death:"17.10.1944",death_place:"KZ Auschwitz",profession:"Komponist",bio:'Die Eltern waren assimilierte Juden in Prag. Als 10 jähriger bekommt Krasa Violinen- und Klaverunterricht, als 11 jähriger komponierte er erste Stücke. Krasa studiert an der "Deutschen Akademie für Musik und darstellende Kunst" in Prag. 1924 Uraufführung einer "Orchestergroteske" nach den galgenliedern von Christian Morgenstern. 1938 schreibt Krasa sein bekanntestes Werk, die Kinderoper "Brundibar" im Stil Brechtscher Lehrstücke.\n1942 wird Krasa nach Thersienstadt deportiert, wo Brundibar über 50 mal aufgeführt wird, das erste mal am 23.8.1943 auf dem Dachboden der Magdeburger Kaserne.\nKrasa ging am 16.10.1944 auf "Transport" nach Auschwitz, mit ihm wurden auch so wichtige Künstler wie Haas, Klein und Ullmann deportiert. Keiner kehrte zurück.\nQuellen:\n(1) http://www.ghetto-theresienstadt.de/pages/k/krasah.htm',updated_at:{$date:"2018-09-21T18:34:42.996Z"}},{shortname:"Karl Löwenstein",name:"Karl",surename:"Löwenstein",birth:"02.05.1887",birth_place:"Siegen",death:"1976",death_place:"Bad Neuenahr-Ahrweiler",profession:"Privatbankdirektor",bio:"",updated_at:{$date:"2018-09-21T18:34:42.996Z"}},{shortname:"Leo Löwenstein",name:"Leo",surename:"Löwenstein",birth:"08.02.1879",birth_place:"Aachen",death:"13.02.1956",death_place:"",profession:"Physiker, Chemiker",bio:"",updated_at:{$date:"2018-09-21T18:34:42.996Z"}},{shortname:"Robert Mandler",name:"Robert",surename:"Mandler",birth:"",birth_place:"",death:"",death_place:"",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:42.996Z"}},{shortname:"Carl Meinhard",name:"Carl",surename:"Meinhard",birth:"28.11.1875",birth_place:"Iglau",death:"12.02.1949",death_place:"Buenos Aires",profession:"Schauspieler, Theaterdirektor",bio:"",updated_at:{$date:"2018-09-21T18:34:42.997Z"}},{shortname:"Alfred Meissner",name:"Alfred",surename:"Meissner",birth:"10.04.1871",birth_place:"Jungbunzlau",death:"29.09.1950",death_place:"Prag",profession:"Justizminister",bio:"",updated_at:{$date:"2018-09-21T18:34:42.997Z"}},{shortname:"Leon Meyer",name:"Léon",surename:"Meyer",birth:"11.09.1868",birth_place:"Le Havre",death:"22.01.1948",death_place:"Paris",profession:"Minister",bio:"",updated_at:{$date:"2018-09-21T18:34:42.997Z"}},{shortname:"Ove Meyer",name:"Ove",surename:"Meyer",birth:"",birth_place:"",death:"",death_place:"",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:42.997Z"}},{shortname:"Julius Moritz",name:"Julius",surename:"Moritz",birth:"",birth_place:"",death:"",death_place:"",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:42.998Z"}},{shortname:"Benjamin Murmelstein",name:"Benjamin",surename:"Murmelstein",birth:"09.06.1805",birth_place:"Lemberg",death:"27.10.1989",death_place:"Rom",profession:"Rabbiner",bio:"",updated_at:{$date:"2018-09-21T18:34:42.998Z"}},{shortname:"D. Leon Neuberger",name:"D. Leon",surename:"Neuberger",birth:"",birth_place:"",death:"",death_place:"",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:42.998Z"}},{shortname:"Melanie Oppenhejm",name:"Mélanie",surename:"Oppenhejm",birth:"10.15.1897",birth_place:"Hamburg",death:"",death_place:"",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:42.998Z"}},{shortname:"Morits Oppenhejm",name:"Morits",surename:"Oppenhejm",birth:"13.10.1943",birth_place:"Kopenhagen",death:"",death_place:"",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:42.999Z"}},{shortname:"Alfred Philippson",name:"Alfred",surename:"Philippson",birth:"01.01.1864",birth_place:"Bonn",death:"28.03.1953",death_place:"Bonn",profession:"Geograph",bio:"",updated_at:{$date:"2018-09-21T18:34:42.999Z"}},{shortname:"Ernst Rosenthal",name:"Ernst",surename:"Rosenthal",birth:"",birth_place:"",death:"",death_place:"",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:42.999Z"}},{shortname:"Rudolf Saudek",name:"Rudolf",surename:"Saudek",birth:"20.10.1880",birth_place:"Kolin",death:"19.07.1965",death_place:"Prag",profession:"Bildhauer, Grafiker",bio:'Rudolf Saudek ist ein tschechisch-deutscher Bildhauer und Grafiker. Nach der Handelsakademie und anschließender kaufmännischer Tätigkeit in Prag begann er 1903 seine künstlerische Ausbildung. Saudeck studierte drei Jahre bei Adolf Lehnert in Leipzig und danach bei Landislav Jan Saloun in Prag. An der Accademia dell arte in Florenz absolvierte er ebenfalls ein Studium bis er sich 1909 als freischaffender Bildhauer und Graphiker in Leipzig niederließ. Im Mittelpunkt seiner Arbeit standen Portraitbüsten, die teilweise heute noch sehr bekannt sind (z.B.: Friedrich Nietzsche (1912), Ludwig van Beethoven (1912) und Gerhard Hauptmann). 1910 folgten noch einmal Studienaufenthalte in Rom, Paris und London. 1933 wurde saudek wegen seiner jüdischen Herkunft von der Reichskammer der Künste mit einem Arbeitsverbot belegt. 1942 erfolgte die Deportation und Internierung in der „Kleinen Festung" im KZ Theresienstadt. Nach dem Zweiten Weltkrieg lebte und arbeite Saudek bis zu seinem Tode in Prag. Noch heute zieren einige seiner büsten Gebäude in der Leipziger Innenstadt.',updated_at:{$date:"2018-09-21T18:34:42.999Z"}},{shortname:"Franzi Schneidhuber",name:"Franzi",surename:"Schneidhuber",birth:"",birth_place:"",death:"",death_place:"",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:43.000Z"}},{shortname:"Emil Sommer",name:"Emil",surename:"Sommer",birth:"19.11.1869",birth_place:"Dorna-Watra",death:"10.04.1947",death_place:"Danvers",profession:"Offizier",bio:"",updated_at:{$date:"2018-09-21T18:34:43.000Z"}},{shortname:"Jo Spier",name:"Joseph Eduard Adolf",surename:"Spier",birth:"26.06.1900",birth_place:"Zutphen",death:"1978",death_place:"",profession:"Illustrator, Karrikaturist",bio:"",updated_at:{$date:"2018-09-21T18:34:43.000Z"}},{shortname:"Erich Springer",name:"Erich",surename:"Springer",birth:"",birth_place:"",death:"",death_place:"",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:43.000Z"}},{shortname:"Otto Stargardt",name:"Otto",surename:"Stargardt",birth:"",birth_place:"",death:"",death_place:"",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:43.001Z"}},{shortname:"Artur Stein",name:"Artur",surename:"Stein",birth:"",birth_place:"",death:"",death_place:"",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:43.001Z"}},{shortname:"Hermann Strauss",name:"Hermann",surename:"Strauss",birth:"",birth_place:"",death:"",death_place:"",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:43.001Z"},__v:0},{shortname:"Leo Taussig",name:"Leo",surename:"Taussig",birth:"",birth_place:"",death:"",death_place:"",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:43.001Z"}},{shortname:"Emil Utitz",name:"Emil",surename:"Utitz",birth:"27.05.1883",birth_place:"Rostocky (bei Prag)",death:"02.11.56",death_place:"Jena",profession:"Psychologe, Philosoph",bio:"",updated_at:{$date:"2018-09-21T18:34:43.002Z"}},{shortname:"Elly von Bleichröder",name:"Elly",surename:"von Bleichröder",birth:"17.09.1894",birth_place:"Drehsa",death:"00.00.1989",death_place:"",profession:"",bio:"Elli  von Bleichröder war die Tochter von James und # Harriet von Bleichröder. Obwohl bereits ihr  Großvater, der Bankier Baron Gerson von Bleichröder, vom Judentum zum  Christentum konvertiert war und sie über hochrangige Beziehungen  verfügte, wurde sie am 27. Juli 1942 in das KZ Theresienstadt   deportiert. Zu diesem Zeitpunkt war sie von Rudolph A. Herrschel   geschieden. Aus der Ehe hatte sie ein Kind. Bleichröder wurde am Ende   des Zweiten Weltkrieges aus dem KZ befreit.",updated_at:{$date:"2018-09-21T18:34:43.002Z"}},{shortname:"Clara von Schultz",name:"Clara",surename:"von Schultz",birth:"",birth_place:"",death:"",death_place:"",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:43.002Z"}},{shortname:"Julia Salinger",name:"Julie Frieda",surename:"Zeman",birth:"06.06.1873",birth_place:"Savar",death:"",death_place:"",profession:"",bio:"",updated_at:{$date:"2018-09-21T18:34:43.002Z"}}]}},methods:{}},c=a,l=n("2877"),h=Object(l["a"])(c,i,o,!1,null,null,null);e["default"]=h.exports},"4bb4":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{height:"20%",overflow:"auto"}},[n("h3",[t._v("Simple map")]),n("p",[t._v("First marker is placed at "+t._s(t.withPopup.lat)+", "+t._s(t.withPopup.lng))]),n("p",[t._v("Center is at "+t._s(t.currentCenter)+" and the zoom is: "+t._s(t.currentZoom))]),n("button",{on:{click:t.showLongText}},[t._v("Toggle long popup")])]),n("l-map",{staticStyle:{height:"300px",width:"300px",overflow:"none"},attrs:{zoom:t.zoom,center:t.center,options:t.mapOptions},on:{"update:center":t.centerUpdate,"update:zoom":t.zoomUpdate}},[n("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),n("l-marker",{attrs:{"lat-lng":t.withPopup}},[n("l-popup",[n("div",{on:{click:t.innerClick}},[t._v("\n          I am a popup\n          "),n("p",{directives:[{name:"show",rawName:"v-show",value:t.showParagraph,expression:"showParagraph"}]},[t._v("\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque\n            sed pretium nisl, ut sagittis sapien. Sed vel sollicitudin nisi.\n            Donec finibus semper metus id malesuada.\n          ")])])])],1),n("l-marker",{attrs:{"lat-lng":t.withTooltip}},[n("l-tooltip",{attrs:{options:{permanent:!0,interactive:!0}}},[n("div",{on:{click:t.innerClick}},[t._v("\n          I am a tooltip\n          "),n("p",{directives:[{name:"show",rawName:"v-show",value:t.showParagraph,expression:"showParagraph"}]},[t._v("\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque\n            sed pretium nisl, ut sagittis sapien. Sed vel sollicitudin nisi.\n            Donec finibus semper metus id malesuada.\n          ")])])])],1)],1)],1)},o=[],r=n("e11eb"),s=function(t,e){var n;return function(){var i=[],o=arguments.length;while(o--)i[o]=arguments[o];var r=this;n&&clearTimeout(n),n=setTimeout(function(){t.apply(r,i),n=null},e)}},a=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},c=function(t,e,n,i){var o=function(i){var o="set"+a(i),s=n[i].type===Object||n[i].type===Array||Array.isArray(n[i].type);n[i].custom&&t[o]?t.$watch(i,function(e,n){t[o](e,n)},{deep:s}):"setOptions"===o?t.$watch(i,function(t,n){Object(r["setOptions"])(e,t)},{deep:s}):e[o]&&t.$watch(i,function(t,n){e[o](t)},{deep:s})};for(var s in n)o(s)},l=function(t){var e={};for(var n in t){var i=t[n];null!==i&&void 0!==i&&(e[n]=i)}return e},h=function(t,e){var n=e.options&&e.options.constructor===Object?e.options:{};t=t&&t.constructor===Object?t:{};var i=l(n);t=l(t);var o=e.$options.props;for(var r in t){var s=o[r]?o[r].default:Symbol("unique");i[r]&&s!==t[r]?(console.warn(r+" props is overriding the value passed in the options props"),i[r]=t[r]):i[r]||(i[r]=t[r])}return i},u={props:{options:{type:Object,default:function(){return{}}}}},d={name:"LMap",mixins:[u],props:{center:{type:[Object,Array],custom:!0,default:function(){return[0,0]}},bounds:{type:[Array,Object],custom:!0,default:null},maxBounds:{type:[Array,Object],default:null},zoom:{type:Number,custom:!0,default:0},minZoom:{type:Number,default:null},maxZoom:{type:Number,default:null},paddingBottomRight:{type:Array,custom:!0,default:null},paddingTopLeft:{type:Array,custom:!0,default:null},padding:{type:Array,custom:!0,default:null},worldCopyJump:{type:Boolean,default:!1},crs:{type:Object,custom:!0,default:function(){return r["CRS"].EPSG3857}},maxBoundsViscosity:{type:Number,default:null},inertia:{type:Boolean,default:null},inertiaDeceleration:{type:Number,default:null},inertiaMaxSpeed:{type:Number,default:null},easeLinearity:{type:Number,default:null},zoomAnimation:{type:Boolean,default:null},zoomAnimationThreshold:{type:Number,default:null},fadeAnimation:{type:Boolean,default:null},markerZoomAnimation:{type:Boolean,default:null},noBlockingAnimations:{type:Boolean,default:!1}},data:function(){return{ready:!1,lastSetCenter:null,lastSetBounds:null,lastSetZoom:null,layerControl:void 0,layersToAdd:[]}},computed:{fitBoundsOptions:function(){var t={};return this.padding?t.padding=this.padding:(this.paddingBottomRight&&(t.paddingBottomRight=this.paddingBottomRight),this.paddingTopLeft&&(t.paddingTopLeft=this.paddingTopLeft)),t}},mounted:function(){var t=this,e=h({minZoom:this.minZoom,maxZoom:this.maxZoom,maxBounds:this.maxBounds,maxBoundsViscosity:this.maxBoundsViscosity,worldCopyJump:this.worldCopyJump,crs:this.crs,center:this.center,zoom:this.zoom,inertia:this.inertia,inertiaDeceleration:this.inertiaDeceleration,inertiaMaxSpeed:this.inertiaMaxSpeed,easeLinearity:this.easeLinearity,zoomAnimation:this.zoomAnimation,zoomAnimationThreshold:this.zoomAnimationThreshold,fadeAnimation:this.fadeAnimation,markerZoomAnimation:this.markerZoomAnimation},this);this.mapObject=Object(r["map"])(this.$el,e),this.setBounds(this.bounds),this.mapObject.on("moveend",s(this.moveEndHandler,100)),r["DomEvent"].on(this.mapObject,this.$listeners),c(this,this.mapObject,this.$options.props),this.ready=!0,this.$emit("leaflet:load"),this.$nextTick(function(){t.$emit("ready",t.mapObject)})},methods:{registerLayerControl:function(t){var e=this;this.layerControl=t,this.mapObject.addControl(t.mapObject),this.layersToAdd.forEach(function(t){e.layerControl.addLayer(t)}),this.layersToAdd=[]},addLayer:function(t,e){void 0!==t.layerType&&(void 0===this.layerControl?this.layersToAdd.push(t):this.layerControl.addLayer(t)),e||this.mapObject.addLayer(t.mapObject)},removeLayer:function(t,e){void 0!==t.layerType&&(void 0===this.layerControl?this.layersToAdd=this.layersToAdd.filter(function(e){return e.name!==t.name}):this.layerControl.removeLayer(t)),e||this.mapObject.removeLayer(t.mapObject)},setZoom:function(t,e){this.mapObject.setZoom(t,{animate:!!this.noBlockingAnimations&&null})},setCenter:function(t,e){if(null!=t){var n=Object(r["latLng"])(t),i=this.lastSetCenter||this.mapObject.getCenter();i.lat===n.lat&&i.lng===n.lng||(this.lastSetCenter=n,this.mapObject.panTo(n,{animate:!!this.noBlockingAnimations&&null}))}},setBounds:function(t,e){if(t){var n=Object(r["latLngBounds"])(t);if(n.isValid()){var i=this.lastSetBounds||this.mapObject.getBounds(),o=!i.equals(n,0);o&&(this.lastSetBounds=n,this.mapObject.fitBounds(n,this.fitBoundsOptions))}}},setPaddingBottomRight:function(t,e){this.paddingBottomRight=t},setPaddingTopLeft:function(t,e){this.paddingTopLeft=t},setPadding:function(t,e){this.padding=t},setCrs:function(t,e){console.log("Changing CRS is not yet supported by Leaflet")},fitBounds:function(t){this.mapObject.fitBounds(t)},moveEndHandler:function(){this.$emit("update:zoom",this.mapObject.getZoom());var t=this.mapObject.getCenter();this.$emit("update:center",t);var e=this.mapObject.getBounds();this.$emit("update:bounds",e)}}};function p(t,e,n,i,o,r,s,a,c,l){"boolean"!==typeof s&&(c=a,a=s,s=!1);var h,u="function"===typeof n?n.options:n;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),i&&(u._scopeId=i),r?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=h):e&&(h=s?function(){e.call(this,l(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),h)if(u.functional){var d=u.render;u.render=function(t,e){return h.call(e),d(t,e)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,h):[h]}return n}var f=p,m="undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function v(t){return function(t,e){return _(t,e)}}var g=document.head||document.getElementsByTagName("head")[0],y={};function _(t,e){var n=m?e.media||"default":t,i=y[n]||(y[n]={ids:new Set,styles:[]});if(!i.ids.has(t)){i.ids.add(t);var o=e.source;if(e.map&&(o+="\n/*# sourceURL="+e.map.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",e.media&&i.element.setAttribute("media",e.media),g.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(o),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{var r=i.ids.size-1,s=document.createTextNode(o),a=i.element.childNodes;a[r]&&i.element.removeChild(a[r]),a.length?i.element.insertBefore(s,a[r]):i.element.appendChild(s)}}}var b=v,w=d,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue2leaflet-map"},[t.ready?t._t("default"):t._e()],2)},S=[],k=function(t){t&&t("data-v-09897586_0",{source:".vue2leaflet-map{height:100%;width:100%}",map:void 0,media:void 0})},C=void 0,T=void 0,M=!1,O=f({render:x,staticRenderFns:S},k,w,C,M,T,b,void 0),P=O,A=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},z=function(t,e,n,i){var o=function(i){var o="set"+A(i),s=n[i].type===Object||n[i].type===Array||Array.isArray(n[i].type);n[i].custom&&t[o]?t.$watch(i,function(e,n){t[o](e,n)},{deep:s}):"setOptions"===o?t.$watch(i,function(t,n){Object(r["setOptions"])(e,t)},{deep:s}):e[o]&&t.$watch(i,function(t,n){e[o](t)},{deep:s})};for(var s in n)o(s)},L=function(t){var e={};for(var n in t){var i=t[n];null!==i&&void 0!==i&&(e[n]=i)}return e},E=function(t,e){var n=e.options&&e.options.constructor===Object?e.options:{};t=t&&t.constructor===Object?t:{};var i=L(n);t=L(t);var o=e.$options.props;for(var r in t){var s=o[r]?o[r].default:Symbol("unique");i[r]&&s!==t[r]?(console.warn(r+" props is overriding the value passed in the options props"),i[r]=t[r]):i[r]||(i[r]=t[r])}return i},N=function(t){var e=!1;while(!e)void 0===t.mapObject?t=t.$parent:e=!0;return t},R={props:{pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}},mounted:function(){this.layerOptions={attribution:this.attribution,pane:this.pane}},beforeDestroy:function(){this.unbindPopup(),this.unbindTooltip(),this.parentContainer.removeLayer(this)},methods:{setAttribution:function(t,e){var n=this.$parent.mapObject.attributionControl;n.removeAttribution(e).addAttribution(t)},setName:function(t,e){t!==e&&(this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this))},setLayerType:function(t,e){t!==e&&(this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this))},setVisible:function(t,e){t!==e&&this.mapObject&&(t?this.parentContainer.addLayer(this):this.parentContainer.removeLayer(this))},unbindTooltip:function(){var t=this.mapObject?this.mapObject.getTooltip():null;t&&t.unbindTooltip()},unbindPopup:function(){var t=this.mapObject?this.mapObject.getPopup():null;t&&t.unbindPopup()}}},D={mixins:[R],props:{pane:{type:String,default:"tilePane"},opacity:{type:Number,custom:!1,default:1},zIndex:{type:Number,default:1},tileSize:{type:Number,default:256},noWrap:{type:Boolean,default:!1}},mounted:function(){this.gridLayerOptions=Object.assign({},this.layerOptions,{pane:this.pane,opacity:this.opacity,zIndex:this.zIndex,tileSize:this.tileSize,noWrap:this.noWrap})}},B={mixins:[D],props:{tms:{type:Boolean,default:!1},detectRetina:{type:Boolean,default:!1}},mounted:function(){this.tileLayerOptions=Object.assign({},this.gridLayerOptions,{tms:this.tms,detectRetina:this.detectRetina})},render:function(){return null}},I={props:{options:{type:Object,default:function(){return{}}}}},$={name:"LTileLayer",mixins:[B,I],props:{url:{type:String,default:null},tileLayerClass:{type:Function,default:r["tileLayer"]}},mounted:function(){var t=this,e=E(this.tileLayerOptions,this);this.mapObject=this.tileLayerClass(this.url,e),r["DomEvent"].on(this.mapObject,this.$listeners),z(this,this.mapObject,this.$options.props),this.parentContainer=N(this.$parent),this.parentContainer.addLayer(this,!this.visible),this.$nextTick(function(){t.$emit("ready",t.mapObject)})}};function j(t,e,n,i,o,r,s,a,c,l){"boolean"!==typeof s&&(c=a,a=s,s=!1);var h,u="function"===typeof n?n.options:n;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),i&&(u._scopeId=i),r?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=h):e&&(h=s?function(){e.call(this,l(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),h)if(u.functional){var d=u.render;u.render=function(t,e){return h.call(e),d(t,e)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,h):[h]}return n}var Z=j,F=$,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},W=[],K=void 0,H=void 0,J=void 0,U=!1,q=Z({render:V,staticRenderFns:W},K,F,H,U,J,void 0,void 0),G=q,X=function(t,e){var n;return function(){var i=[],o=arguments.length;while(o--)i[o]=arguments[o];var r=this;n&&clearTimeout(n),n=setTimeout(function(){t.apply(r,i),n=null},e)}},Y=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Q=function(t,e,n,i){var o=function(i){var o="set"+Y(i),s=n[i].type===Object||n[i].type===Array||Array.isArray(n[i].type);n[i].custom&&t[o]?t.$watch(i,function(e,n){t[o](e,n)},{deep:s}):"setOptions"===o?t.$watch(i,function(t,n){Object(r["setOptions"])(e,t)},{deep:s}):e[o]&&t.$watch(i,function(t,n){e[o](t)},{deep:s})};for(var s in n)o(s)},tt=function(t){var e={};for(var n in t){var i=t[n];null!==i&&void 0!==i&&(e[n]=i)}return e},et=function(t,e){var n=e.options&&e.options.constructor===Object?e.options:{};t=t&&t.constructor===Object?t:{};var i=tt(n);t=tt(t);var o=e.$options.props;for(var r in t){var s=o[r]?o[r].default:Symbol("unique");i[r]&&s!==t[r]?(console.warn(r+" props is overriding the value passed in the options props"),i[r]=t[r]):i[r]||(i[r]=t[r])}return i},nt=function(t){var e=!1;while(!e)void 0===t.mapObject?t=t.$parent:e=!0;return t},it={props:{pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}},mounted:function(){this.layerOptions={attribution:this.attribution,pane:this.pane}},beforeDestroy:function(){this.unbindPopup(),this.unbindTooltip(),this.parentContainer.removeLayer(this)},methods:{setAttribution:function(t,e){var n=this.$parent.mapObject.attributionControl;n.removeAttribution(e).addAttribution(t)},setName:function(t,e){t!==e&&(this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this))},setLayerType:function(t,e){t!==e&&(this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this))},setVisible:function(t,e){t!==e&&this.mapObject&&(t?this.parentContainer.addLayer(this):this.parentContainer.removeLayer(this))},unbindTooltip:function(){var t=this.mapObject?this.mapObject.getTooltip():null;t&&t.unbindTooltip()},unbindPopup:function(){var t=this.mapObject?this.mapObject.getPopup():null;t&&t.unbindPopup()}}},ot={props:{options:{type:Object,default:function(){return{}}}}},rt={name:"LMarker",mixins:[it,ot],props:{pane:{type:String,default:"markerPane"},draggable:{type:Boolean,custom:!0,default:!1},latLng:{type:[Object,Array],custom:!0,default:null},icon:{type:[Object],custom:!1,default:function(){return new r["Icon"].Default}},zIndexOffset:{type:Number,custom:!1,default:null}},data:function(){return{ready:!1}},mounted:function(){var t=this,e=et(Object.assign({},this.layerOptions,{icon:this.icon,zIndexOffset:this.zIndexOffset,draggable:this.draggable}),this);this.mapObject=Object(r["marker"])(this.latLng,e),r["DomEvent"].on(this.mapObject,this.$listeners),this.mapObject.on("move",X(this.latLngSync,100)),Q(this,this.mapObject,this.$options.props),this.parentContainer=nt(this.$parent),this.parentContainer.addLayer(this,!this.visible),this.ready=!0,this.$nextTick(function(){t.$emit("ready",t.mapObject)})},methods:{setDraggable:function(t,e){this.mapObject.dragging&&(t?this.mapObject.dragging.enable():this.mapObject.dragging.disable())},setLatLng:function(t){if(null!=t&&this.mapObject){var e=this.mapObject.getLatLng(),n=Object(r["latLng"])(t);n.lat===e.lat&&n.lng===e.lng||this.mapObject.setLatLng(n)}},latLngSync:function(t){this.$emit("update:latLng",t.latlng)}},render:function(t){return this.ready&&this.$slots.default?t("div",{style:{display:"none"}},this.$slots.default):null}};function st(t,e,n,i,o,r,s,a,c,l){"boolean"!==typeof s&&(c=a,a=s,s=!1);var h,u="function"===typeof n?n.options:n;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),i&&(u._scopeId=i),r?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=h):e&&(h=s?function(){e.call(this,l(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),h)if(u.functional){var d=u.render;u.render=function(t,e){return h.call(e),d(t,e)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,h):[h]}return n}var at=st,ct=rt,lt=void 0,ht=void 0,ut=void 0,dt=void 0,pt=at({},lt,ct,ht,dt,ut,void 0,void 0),ft=pt,mt=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},vt=function(t,e,n,i){var o=function(i){var o="set"+mt(i),s=n[i].type===Object||n[i].type===Array||Array.isArray(n[i].type);n[i].custom&&t[o]?t.$watch(i,function(e,n){t[o](e,n)},{deep:s}):"setOptions"===o?t.$watch(i,function(t,n){Object(r["setOptions"])(e,t)},{deep:s}):e[o]&&t.$watch(i,function(t,n){e[o](t)},{deep:s})};for(var s in n)o(s)},gt=function(t){var e={};for(var n in t){var i=t[n];null!==i&&void 0!==i&&(e[n]=i)}return e},yt=function(t,e){var n=e.options&&e.options.constructor===Object?e.options:{};t=t&&t.constructor===Object?t:{};var i=gt(n);t=gt(t);var o=e.$options.props;for(var r in t){var s=o[r]?o[r].default:Symbol("unique");i[r]&&s!==t[r]?(console.warn(r+" props is overriding the value passed in the options props"),i[r]=t[r]):i[r]||(i[r]=t[r])}return i},_t=function(t){var e=!1;while(!e)void 0===t.mapObject?t=t.$parent:e=!0;return t},bt={props:{content:{type:String,default:null,custom:!0}},mounted:function(){this.popperOptions={}},methods:{setContent:function(t){this.mapObject&&null!==t&&void 0!==t&&this.mapObject.setContent(t)}},render:function(t){return this.$slots.default?t("div",this.$slots.default):null}},wt={props:{options:{type:Object,default:function(){return{}}}}},xt={name:"LPopup",mixins:[bt,wt],props:{latLng:{type:[Object,Array],default:function(){return[]}}},mounted:function(){var t=this,e=yt(this.popperOptions,this);this.mapObject=Object(r["popup"])(e),void 0!==this.latLng&&this.mapObject.setLatLng(this.latLng),r["DomEvent"].on(this.mapObject,this.$listeners),vt(this,this.mapObject,this.$options.props),this.mapObject.setContent(this.content||this.$el),this.parentContainer=_t(this.$parent),this.parentContainer.mapObject.bindPopup(this.mapObject),this.$nextTick(function(){t.$emit("ready",t.mapObject)})},beforeDestroy:function(){this.parentContainer&&this.parentContainer.unbindPopup()}};function St(t,e,n,i,o,r,s,a,c,l){"boolean"!==typeof s&&(c=a,a=s,s=!1);var h,u="function"===typeof n?n.options:n;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),i&&(u._scopeId=i),r?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=h):e&&(h=s?function(){e.call(this,l(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),h)if(u.functional){var d=u.render;u.render=function(t,e){return h.call(e),d(t,e)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,h):[h]}return n}var kt=St,Ct=xt,Tt=void 0,Mt=void 0,Ot=void 0,Pt=void 0,At=kt({},Tt,Ct,Mt,Pt,Ot,void 0,void 0),zt=At,Lt=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Et=function(t,e,n,i){var o=function(i){var o="set"+Lt(i),s=n[i].type===Object||n[i].type===Array||Array.isArray(n[i].type);n[i].custom&&t[o]?t.$watch(i,function(e,n){t[o](e,n)},{deep:s}):"setOptions"===o?t.$watch(i,function(t,n){Object(r["setOptions"])(e,t)},{deep:s}):e[o]&&t.$watch(i,function(t,n){e[o](t)},{deep:s})};for(var s in n)o(s)},Nt=function(t){var e={};for(var n in t){var i=t[n];null!==i&&void 0!==i&&(e[n]=i)}return e},Rt=function(t,e){var n=e.options&&e.options.constructor===Object?e.options:{};t=t&&t.constructor===Object?t:{};var i=Nt(n);t=Nt(t);var o=e.$options.props;for(var r in t){var s=o[r]?o[r].default:Symbol("unique");i[r]&&s!==t[r]?(console.warn(r+" props is overriding the value passed in the options props"),i[r]=t[r]):i[r]||(i[r]=t[r])}return i},Dt=function(t){var e=!1;while(!e)void 0===t.mapObject?t=t.$parent:e=!0;return t},Bt={props:{content:{type:String,default:null,custom:!0}},mounted:function(){this.popperOptions={}},methods:{setContent:function(t){this.mapObject&&null!==t&&void 0!==t&&this.mapObject.setContent(t)}},render:function(t){return this.$slots.default?t("div",this.$slots.default):null}},It={props:{options:{type:Object,default:function(){return{}}}}},$t={name:"LTooltip",mixins:[Bt,It],mounted:function(){var t=this,e=Rt(this.popperOptions,this);this.mapObject=Object(r["tooltip"])(e),r["DomEvent"].on(this.mapObject,this.$listeners),Et(this,this.mapObject,this.$options.props),this.mapObject.setContent(this.content||this.$el),this.parentContainer=Dt(this.$parent),this.parentContainer.mapObject.bindTooltip(this.mapObject),this.$nextTick(function(){t.$emit("ready",t.mapObject)})},beforeDestroy:function(){this.parentContainer&&this.parentContainer.unbindTooltip()}};function jt(t,e,n,i,o,r,s,a,c,l){"boolean"!==typeof s&&(c=a,a=s,s=!1);var h,u="function"===typeof n?n.options:n;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),i&&(u._scopeId=i),r?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=h):e&&(h=s?function(){e.call(this,l(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),h)if(u.functional){var d=u.render;u.render=function(t,e){return h.call(e),d(t,e)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,h):[h]}return n}var Zt=jt,Ft=$t,Vt=void 0,Wt=void 0,Kt=void 0,Ht=void 0,Jt=Zt({},Vt,Ft,Wt,Ht,Kt,void 0,void 0),Ut=Jt,qt={name:"Example",components:{LMap:P,LTileLayer:G,LMarker:ft,LPopup:zt,LTooltip:Ut},data:function(){return{zoom:13,center:Object(r["latLng"])(47.41322,-1.219482),url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',withPopup:Object(r["latLng"])(47.41322,-1.219482),withTooltip:Object(r["latLng"])(47.41422,-1.250482),currentZoom:11.5,currentCenter:Object(r["latLng"])(47.41322,-1.219482),showParagraph:!1,mapOptions:{zoomSnap:.5}}},methods:{zoomUpdate:function(t){},centerUpdate:function(t){this.currentCenter=t},showLongText:function(){this.showParagraph=!this.showParagraph},innerClick:function(){alert("Click!")}}},Gt=qt,Xt=n("2877"),Yt=Object(Xt["a"])(Gt,i,o,!1,null,null,null);e["default"]=Yt.exports},"4ca4":function(t,e){for(var n={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},i={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:";",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},o="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),r="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),s="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),a="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),c=o&&(a||+o[1]<57)||s&&a,l=0;l<10;l++)n[48+l]=n[96+l]=String(l);for(l=1;l<=24;l++)n[l+111]="F"+l;for(l=65;l<=90;l++)n[l]=String.fromCharCode(l+32),i[l]=String.fromCharCode(l);for(var h in n)i.hasOwnProperty(h)||(i[h]=n[h]);function u(t){var e=c&&(t.ctrlKey||t.altKey||t.metaKey)||r&&t.shiftKey&&t.key&&1==t.key.length,o=!e&&t.key||(t.shiftKey?i:n)[t.keyCode]||t.key||"Unidentified";return"Esc"==o&&(o="Escape"),"Del"==o&&(o="Delete"),"Left"==o&&(o="ArrowLeft"),"Up"==o&&(o="ArrowUp"),"Right"==o&&(o="ArrowRight"),"Down"==o&&(o="ArrowDown"),o}t.exports=u,u.base=n,u.shift=i},"56ec":function(t,e,n){"use strict";function i(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n("4ca4")),r=n("6ffb"),s="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function a(t){var e,n,i,o,r=t.split(/-(?!$)/),a=r[r.length-1];"Space"==a&&(a=" ");for(var c=0;c<r.length-1;c++){var l=r[c];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))e=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))i=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);s?o=!0:n=!0}}return e&&(a="Alt-"+a),n&&(a="Ctrl-"+a),o&&(a="Meta-"+a),i&&(a="Shift-"+a),a}function c(t){var e=Object.create(null);for(var n in t)e[a(n)]=t[n];return e}function l(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}function h(t){return new r.Plugin({props:{handleKeyDown:u(t)}})}function u(t){var e=c(t);return function(t,n){var i,r=o(n),s=1==r.length&&" "!=r,a=e[l(r,n,!s)];if(a&&a(t.state,t.dispatch,t))return!0;if(s&&(n.shiftKey||n.altKey||n.metaKey)&&(i=o.base[n.keyCode])&&i!=r){var c=e[l(i,n,!0)];if(c&&c(t.state,t.dispatch,t))return!0}return!1}}e.keymap=h,e.keydownHandler=u},"6f27":function(t,e,n){"use strict";function i(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n("faa1"));function r(t,e,n){for(var i=0;;i++){if(i==t.childCount||i==e.childCount)return t.childCount==e.childCount?null:n;var o=t.child(i),s=e.child(i);if(o!=s){if(!o.sameMarkup(s))return n;if(o.isText&&o.text!=s.text){for(var a=0;o.text[a]==s.text[a];a++)n++;return n}if(o.content.size||s.content.size){var c=r(o.content,s.content,n+1);if(null!=c)return c}n+=o.nodeSize}else n+=o.nodeSize}}function s(t,e,n,i){for(var o=t.childCount,r=e.childCount;;){if(0==o||0==r)return o==r?null:{a:n,b:i};var a=t.child(--o),c=e.child(--r),l=a.nodeSize;if(a!=c){if(!a.sameMarkup(c))return{a:n,b:i};if(a.isText&&a.text!=c.text){var h=0,u=Math.min(a.text.length,c.text.length);while(h<u&&a.text[a.text.length-h-1]==c.text[c.text.length-h-1])h++,n--,i--;return{a:n,b:i}}if(a.content.size||c.content.size){var d=s(a.content,c.content,n-1,i-1);if(d)return d}n-=l,i-=l}else n-=l,i-=l}}var a=function(t,e){var n=this;if(this.content=t,this.size=e||0,null==e)for(var i=0;i<t.length;i++)n.size+=t[i].nodeSize},c={firstChild:{},lastChild:{},childCount:{}};a.prototype.nodesBetween=function(t,e,n,i,o){var r=this;void 0===i&&(i=0);for(var s=0,a=0;a<e;s++){var c=r.content[s],l=a+c.nodeSize;if(l>t&&!1!==n(c,i+a,o,s)&&c.content.size){var h=a+1;c.nodesBetween(Math.max(0,t-h),Math.min(c.content.size,e-h),n,i+h)}a=l}},a.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},a.prototype.textBetween=function(t,e,n,i){var o="",r=!0;return this.nodesBetween(t,e,function(s,a){s.isText?(o+=s.text.slice(Math.max(t,a)-a,e-a),r=!n):s.isLeaf&&i?(o+=i,r=!n):!r&&s.isBlock&&(o+=n,r=!0)},0),o},a.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,i=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(n)&&(i[i.length-1]=e.withText(e.text+n.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new a(i,this.size+t.size)},a.prototype.cut=function(t,e){var n=this;if(null==e&&(e=this.size),0==t&&e==this.size)return this;var i=[],o=0;if(e>t)for(var r=0,s=0;s<e;r++){var c=n.content[r],l=s+c.nodeSize;l>t&&((s<t||l>e)&&(c=c.isText?c.cut(Math.max(0,t-s),Math.min(c.text.length,e-s)):c.cut(Math.max(0,t-s-1),Math.min(c.content.size,e-s-1))),i.push(c),o+=c.nodeSize),s=l}return new a(i,o)},a.prototype.cutByIndex=function(t,e){return t==e?a.empty:0==t&&e==this.content.length?this:new a(this.content.slice(t,e))},a.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var i=this.content.slice(),o=this.size+e.nodeSize-n.nodeSize;return i[t]=e,new a(i,o)},a.prototype.addToStart=function(t){return new a([t].concat(this.content),this.size+t.nodeSize)},a.prototype.addToEnd=function(t){return new a(this.content.concat(t),this.size+t.nodeSize)},a.prototype.eq=function(t){var e=this;if(this.content.length!=t.content.length)return!1;for(var n=0;n<this.content.length;n++)if(!e.content[n].eq(t.content[n]))return!1;return!0},c.firstChild.get=function(){return this.content.length?this.content[0]:null},c.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},c.childCount.get=function(){return this.content.length},a.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},a.prototype.maybeChild=function(t){return this.content[t]},a.prototype.forEach=function(t){for(var e=this,n=0,i=0;n<this.content.length;n++){var o=e.content[n];t(o,i,n),i+=o.nodeSize}},a.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),r(this,t,e)},a.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),s(this,t,e,n)},a.prototype.findIndex=function(t,e){var n=this;if(void 0===e&&(e=-1),0==t)return h(0,t);if(t==this.size)return h(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var i=0,o=0;;i++){var r=n.child(i),s=o+r.nodeSize;if(s>=t)return s==t||e>0?h(i+1,s):h(i,o);o=s}},a.prototype.toString=function(){return"<"+this.toStringInner()+">"},a.prototype.toStringInner=function(){return this.content.join(", ")},a.prototype.toJSON=function(){return this.content.length?this.content.map(function(t){return t.toJSON()}):null},a.fromJSON=function(t,e){if(!e)return a.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new a(e.map(t.nodeFromJSON))},a.fromArray=function(t){if(!t.length)return a.empty;for(var e,n=0,i=0;i<t.length;i++){var o=t[i];n+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(e||(e=t.slice(0,i)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new a(e||t,n)},a.from=function(t){if(!t)return a.empty;if(t instanceof a)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new a([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(a.prototype,c);var l={index:0,offset:0};function h(t,e){return l.index=t,l.offset=e,l}function u(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var i=0;i<t.length;i++)if(!u(t[i],e[i]))return!1}else{for(var o in t)if(!(o in e)||!u(t[o],e[o]))return!1;for(var r in e)if(!(r in t))return!1}return!0}a.empty=new a([],0);var d=function(t,e){this.type=t,this.attrs=e};function p(t){var e=Error.call(this,t);return e.__proto__=p.prototype,e}d.prototype.addToSet=function(t){for(var e,n=this,i=!1,o=0;o<t.length;o++){var r=t[o];if(n.eq(r))return t;if(n.type.excludes(r.type))e||(e=t.slice(0,o));else{if(r.type.excludes(n.type))return t;!i&&r.type.rank>n.type.rank&&(e||(e=t.slice(0,o)),e.push(n),i=!0),e&&e.push(r)}}return e||(e=t.slice()),i||e.push(this),e},d.prototype.removeFromSet=function(t){for(var e=this,n=0;n<t.length;n++)if(e.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t},d.prototype.isInSet=function(t){for(var e=this,n=0;n<t.length;n++)if(e.eq(t[n]))return!0;return!1},d.prototype.eq=function(t){return this==t||this.type==t.type&&u(this.attrs,t.attrs)},d.prototype.toJSON=function(){var t=this,e={type:this.type.name};for(var n in t.attrs){e.attrs=t.attrs;break}return e},d.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},d.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},d.setFrom=function(t){if(!t||0==t.length)return d.none;if(t instanceof d)return[t];var e=t.slice();return e.sort(function(t,e){return t.type.rank-e.type.rank}),e},d.none=[],p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p.prototype.name="ReplaceError";var f=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},m={size:{}};function v(t,e,n){var i=t.findIndex(e),o=i.index,r=i.offset,s=t.maybeChild(o),a=t.findIndex(n),c=a.index,l=a.offset;if(r==e||s.isText){if(l!=n&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(o!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(o,s.copy(v(s.content,e-r-1,n-r-1)))}function g(t,e,n,i){var o=t.findIndex(e),r=o.index,s=o.offset,a=t.maybeChild(r);if(s==e||a.isText)return i&&!i.canReplace(r,r,n)?null:t.cut(0,e).append(n).append(t.cut(e));var c=g(a.content,e-s-1,n);return c&&t.replaceChild(r,a.copy(c))}function y(t,e,n){if(n.openStart>t.depth)throw new p("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new p("Inconsistent open depths");return _(t,e,n,0)}function _(t,e,n,i){var o=t.index(i),r=t.node(i);if(o==e.index(i)&&i<t.depth-n.openStart){var s=_(t,e,n,i+1);return r.copy(r.content.replaceChild(o,s))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=i||e.depth!=i){var a=M(n,t),c=a.start,l=a.end;return k(r,C(t,c,l,e,i))}var h=t.parent,u=h.content;return k(h,u.cut(0,t.parentOffset).append(n.content).append(u.cut(e.parentOffset)))}return k(r,T(t,e,i))}function b(t,e){if(!e.type.compatibleContent(t.type))throw new p("Cannot join "+e.type.name+" onto "+t.type.name)}function w(t,e,n){var i=t.node(n);return b(i,e.node(n)),i}function x(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function S(t,e,n,i){var o=(e||t).node(n),r=0,s=e?e.index(n):o.childCount;t&&(r=t.index(n),t.depth>n?r++:t.textOffset&&(x(t.nodeAfter,i),r++));for(var a=r;a<s;a++)x(o.child(a),i);e&&e.depth==n&&e.textOffset&&x(e.nodeBefore,i)}function k(t,e){if(!t.type.validContent(e))throw new p("Invalid content for node "+t.type.name);return t.copy(e)}function C(t,e,n,i,o){var r=t.depth>o&&w(t,e,o+1),s=i.depth>o&&w(n,i,o+1),c=[];return S(null,t,o,c),r&&s&&e.index(o)==n.index(o)?(b(r,s),x(k(r,C(t,e,n,i,o+1)),c)):(r&&x(k(r,T(t,e,o+1)),c),S(e,n,o,c),s&&x(k(s,T(n,i,o+1)),c)),S(i,null,o,c),new a(c)}function T(t,e,n){var i=[];if(S(null,t,n,i),t.depth>n){var o=w(t,e,n+1);x(k(o,T(t,e,n+1)),i)}return S(e,null,n,i),new a(i)}function M(t,e){for(var n=e.depth-t.openStart,i=e.node(n),o=i.copy(t.content),r=n-1;r>=0;r--)o=e.node(r).copy(a.from(o));return{start:o.resolveNoCache(t.openStart+n),end:o.resolveNoCache(o.content.size-t.openEnd-n)}}m.size.get=function(){return this.content.size-this.openStart-this.openEnd},f.prototype.insertAt=function(t,e){var n=g(this.content,t+this.openStart,e,null);return n&&new f(n,this.openStart,this.openEnd)},f.prototype.removeBetween=function(t,e){return new f(v(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},f.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},f.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},f.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},f.fromJSON=function(t,e){if(!e)return f.empty;var n=e.openStart||0,i=e.openEnd||0;if("number"!=typeof n||"number"!=typeof i)throw new RangeError("Invalid input for Slice.fromJSON");return new f(a.fromJSON(t,e.content),e.openStart||0,e.openEnd||0)},f.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,i=0,o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)n++;for(var r=t.lastChild;r&&!r.isLeaf&&(e||!r.type.spec.isolating);r=r.lastChild)i++;return new f(t,n,i)},Object.defineProperties(f.prototype,m),f.empty=new f(a.empty,0,0);var O=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},P={parent:{},doc:{},textOffset:{},nodeAfter:{},nodeBefore:{}};O.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},P.parent.get=function(){return this.node(this.depth)},P.doc.get=function(){return this.node(0)},O.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},O.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},O.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},O.prototype.start=function(t){return t=this.resolveDepth(t),0==t?0:this.path[3*t-1]+1},O.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},O.prototype.before=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},O.prototype.after=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},P.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},P.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],i=t.child(e);return n?t.child(e).cut(n):i},P.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},O.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return d.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),i=t.maybeChild(e);if(!n){var o=n;n=i,i=o}for(var r=n.marks,s=0;s<r.length;s++)!1!==r[s].type.spec.inclusive||i&&r[s].isInSet(i.marks)||(r=r[s--].removeFromSet(r));return r},O.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,i=t.parent.maybeChild(t.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||i&&n[o].isInSet(i.marks)||(n=n[o--].removeFromSet(n));return n},O.prototype.sharedDepth=function(t){for(var e=this,n=this.depth;n>0;n--)if(e.start(n)<=t&&e.end(n)>=t)return n;return 0},O.prototype.blockRange=function(t,e){var n=this;if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var i=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);i>=0;i--)if(t.pos<=n.end(i)&&(!e||e(n.node(i))))return new E(n,t,i)},O.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},O.prototype.max=function(t){return t.pos>this.pos?t:this},O.prototype.min=function(t){return t.pos<this.pos?t:this},O.prototype.toString=function(){for(var t=this,e="",n=1;n<=this.depth;n++)e+=(e?"/":"")+t.node(n).type.name+"_"+t.index(n-1);return e+":"+this.parentOffset},O.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],i=0,o=e,r=t;;){var s=r.content.findIndex(o),a=s.index,c=s.offset,l=o-c;if(n.push(r,a,i+c),!l)break;if(r=r.child(a),r.isText)break;o=l-1,i+=c+1}return new O(e,n,o)},O.resolveCached=function(t,e){for(var n=0;n<A.length;n++){var i=A[n];if(i.pos==e&&i.doc==t)return i}var o=A[z]=O.resolve(t,e);return z=(z+1)%L,o},Object.defineProperties(O.prototype,P);var A=[],z=0,L=12,E=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},N={start:{},end:{},parent:{},startIndex:{},endIndex:{}};N.start.get=function(){return this.$from.before(this.depth+1)},N.end.get=function(){return this.$to.after(this.depth+1)},N.parent.get=function(){return this.$from.node(this.depth)},N.startIndex.get=function(){return this.$from.index(this.depth)},N.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(E.prototype,N);var R=Object.create(null),D=function(t,e,n,i){this.type=t,this.attrs=e,this.content=n||a.empty,this.marks=i||d.none},B={nodeSize:{},childCount:{},textContent:{},firstChild:{},lastChild:{},isBlock:{},isTextblock:{},inlineContent:{},isInline:{},isText:{},isLeaf:{},isAtom:{}};B.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},B.childCount.get=function(){return this.content.childCount},D.prototype.child=function(t){return this.content.child(t)},D.prototype.maybeChild=function(t){return this.content.maybeChild(t)},D.prototype.forEach=function(t){this.content.forEach(t)},D.prototype.nodesBetween=function(t,e,n,i){void 0===i&&(i=0),this.content.nodesBetween(t,e,n,i,this)},D.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},B.textContent.get=function(){return this.textBetween(0,this.content.size,"")},D.prototype.textBetween=function(t,e,n,i){return this.content.textBetween(t,e,n,i)},B.firstChild.get=function(){return this.content.firstChild},B.lastChild.get=function(){return this.content.lastChild},D.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},D.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},D.prototype.hasMarkup=function(t,e,n){return this.type==t&&u(this.attrs,e||t.defaultAttrs||R)&&d.sameSet(this.marks,n||d.none)},D.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},D.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},D.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},D.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return f.empty;var i=this.resolve(t),o=this.resolve(e),r=n?0:i.sharedDepth(e),s=i.start(r),a=i.node(r),c=a.content.cut(i.pos-s,o.pos-s);return new f(c,i.depth-r,o.depth-r)},D.prototype.replace=function(t,e,n){return y(this.resolve(t),this.resolve(e),n)},D.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),i=n.index,o=n.offset;if(e=e.maybeChild(i),!e)return null;if(o==t||e.isText)return e;t-=o+1}},D.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,i=e.offset;return{node:this.content.maybeChild(n),index:n,offset:i}},D.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,i=e.offset;if(i<t)return{node:this.content.child(n),index:n,offset:i};var o=this.content.child(n-1);return{node:o,index:n-1,offset:i-o.nodeSize}},D.prototype.resolve=function(t){return O.resolveCached(this,t)},D.prototype.resolveNoCache=function(t){return O.resolve(this,t)},D.prototype.rangeHasMark=function(t,e,n){var i=!1;return e>t&&this.nodesBetween(t,e,function(t){return n.isInSet(t.marks)&&(i=!0),!i}),i},B.isBlock.get=function(){return this.type.isBlock},B.isTextblock.get=function(){return this.type.isTextblock},B.inlineContent.get=function(){return this.type.inlineContent},B.isInline.get=function(){return this.type.isInline},B.isText.get=function(){return this.type.isText},B.isLeaf.get=function(){return this.type.isLeaf},B.isAtom.get=function(){return this.type.isAtom},D.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),$(this.marks,t)},D.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},D.prototype.canReplace=function(t,e,n,i,o){var r=this;void 0===n&&(n=a.empty),void 0===i&&(i=0),void 0===o&&(o=n.childCount);var s=this.contentMatchAt(t).matchFragment(n,i,o),c=s&&s.matchFragment(this.content,e);if(!c||!c.validEnd)return!1;for(var l=i;l<o;l++)if(!r.type.allowsMarks(n.child(l).marks))return!1;return!0},D.prototype.canReplaceWith=function(t,e,n,i){if(i&&!this.type.allowsMarks(i))return!1;var o=this.contentMatchAt(t).matchType(n),r=o&&o.matchFragment(this.content,e);return!!r&&r.validEnd},D.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},D.prototype.defaultContentType=function(t){return this.contentMatchAt(t).defaultType},D.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));this.content.forEach(function(t){return t.check()})},D.prototype.toJSON=function(){var t=this,e={type:this.type.name};for(var n in t.attrs){e.attrs=t.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(function(t){return t.toJSON()})),e},D.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var i=a.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,i,n)},Object.defineProperties(D.prototype,B);var I=function(t){function e(e,n,i,o){if(t.call(this,e,n,null,o),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={textContent:{},nodeSize:{}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):$(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},e.prototype.textBetween=function(t,e){return this.text.slice(t,e)},n.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(t){return t==this.marks?this:new e(this.type,this.attrs,this.text,t)},e.prototype.withText=function(t){return t==this.text?this:new e(this.type,this.attrs,t,this.marks)},e.prototype.cut=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.text.length),0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))},e.prototype.eq=function(t){return this.sameMarkup(t)&&this.text==t.text},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.text=this.text,e},Object.defineProperties(e.prototype,n),e}(D);function $(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}var j=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},Z={inlineContent:{},defaultType:{},edgeCount:{}};j.parse=function(t,e){var n=new F(t,e);if(null==n.next)return j.empty;var i=W(n);n.next&&n.err("Unexpected trailing text");var o=tt(X(i));return et(o,n),o},j.prototype.matchType=function(t){for(var e=this,n=0;n<this.next.length;n+=2)if(e.next[n]==t)return e.next[n+1];return null},j.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var i=this,o=e;i&&o<n;o++)i=i.matchType(t.child(o).type);return i},Z.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},Z.defaultType.get=function(){for(var t=this,e=0;e<this.next.length;e+=2){var n=t.next[e];if(!n.isText&&!n.hasRequiredAttrs())return n}},j.prototype.compatible=function(t){for(var e=this,n=0;n<this.next.length;n+=2)for(var i=0;i<t.next.length;i+=2)if(e.next[n]==t.next[i])return!0;return!1},j.prototype.fillBefore=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0);var i=[this];function o(r,s){var c=r.matchFragment(t,n);if(c&&(!e||c.validEnd))return a.from(s.map(function(t){return t.createAndFill()}));for(var l=0;l<r.next.length;l+=2){var h=r.next[l],u=r.next[l+1];if(!h.isText&&!h.hasRequiredAttrs()&&-1==i.indexOf(u)){i.push(u);var d=o(u,s.concat(h));if(d)return d}}}return o(this,[])},j.prototype.findWrapping=function(t){for(var e=this,n=0;n<this.wrapCache.length;n+=2)if(e.wrapCache[n]==t)return e.wrapCache[n+1];var i=this.computeWrapping(t);return this.wrapCache.push(t,i),i},j.prototype.computeWrapping=function(t){var e=Object.create(null),n=[{match:this,type:null,via:null}];while(n.length){var i=n.shift(),o=i.match;if(o.matchType(t)){for(var r=[],s=i;s.type;s=s.via)r.push(s.type);return r.reverse()}for(var a=0;a<o.next.length;a+=2){var c=o.next[a];c.isLeaf||c.hasRequiredAttrs()||c.name in e||i.type&&!o.next[a+1].validEnd||(n.push({match:c.contentMatch,type:c,via:i}),e[c.name]=!0)}}},Z.edgeCount.get=function(){return this.next.length>>1},j.prototype.edge=function(t){var e=t<<1;if(e>this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},j.prototype.toString=function(){var t=[];function e(n){t.push(n);for(var i=1;i<n.next.length;i+=2)-1==t.indexOf(n.next[i])&&e(n.next[i])}return e(this),t.map(function(e,n){for(var i=n+(e.validEnd?"*":" ")+" ",o=0;o<e.next.length;o+=2)i+=(o?", ":"")+e.next[o].name+"->"+t.indexOf(e.next[o+1]);return i}).join("\n")},Object.defineProperties(j.prototype,Z),j.empty=new j(!0);var F=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.unshift()},V={next:{}};function W(t){var e=[];do{e.push(K(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function K(t){var e=[];do{e.push(H(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function H(t){for(var e=G(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=U(t,e)}return e}function J(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function U(t,e){var n=J(t),i=n;return t.eat(",")&&(i="}"!=t.next?J(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:e}}function q(t,e){var n=t.nodeTypes,i=n[e];if(i)return[i];var o=[];for(var r in n){var s=n[r];s.groups.indexOf(e)>-1&&o.push(s)}return 0==o.length&&t.err("No node type or group '"+e+"' found"),o}function G(t){if(t.eat("(")){var e=W(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=q(t,t.next).map(function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}});return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}function X(t){var e=[[]];return o(r(t,0),n()),e;function n(){return e.push([])-1}function i(t,n,i){var o={term:i,to:n};return e[t].push(o),o}function o(t,e){t.forEach(function(t){return t.to=e})}function r(t,e){if("choice"==t.type)return t.exprs.reduce(function(t,n){return t.concat(r(n,e))},[]);if("seq"==t.type)for(var s=0;;s++){var a=r(t.exprs[s],e);if(s==t.exprs.length-1)return a;o(a,e=n())}else{if("star"==t.type){var c=n();return i(e,c),o(r(t.expr,c),c),[i(c)]}if("plus"==t.type){var l=n();return o(r(t.expr,e),l),o(r(t.expr,l),l),[i(l)]}if("opt"==t.type)return[i(e)].concat(r(t.expr,e));if("range"==t.type){for(var h=e,u=0;u<t.min;u++){var d=n();o(r(t.expr,h),d),h=d}if(-1==t.max)o(r(t.expr,h),h);else for(var p=t.min;p<t.max;p++){var f=n();i(h,f),o(r(t.expr,h),f),h=f}return[i(h)]}if("name"==t.type)return[i(e,null,t.value)]}}}function Y(t,e){return t-e}function Q(t,e){var n=[];return i(e),n.sort(Y);function i(e){var o=t[e];if(1==o.length&&!o[0].term)return i(o[0].to);n.push(e);for(var r=0;r<o.length;r++){var s=o[r],a=s.term,c=s.to;a||-1!=n.indexOf(c)||i(c)}}}function tt(t){var e=Object.create(null);return n(Q(t,0));function n(i){var o=[];i.forEach(function(e){t[e].forEach(function(e){var n=e.term,i=e.to;if(n){var r=o.indexOf(n),s=r>-1&&o[r+1];Q(t,i).forEach(function(t){s||o.push(n,s=[]),-1==s.indexOf(t)&&s.push(t)})}})});for(var r=e[i.join(",")]=new j(i.indexOf(t.length-1)>-1),s=0;s<o.length;s+=2){var a=o[s+1].sort(Y);r.next.push(o[s],e[a.join(",")]||n(a))}return r}}function et(t,e){for(var n=0,i=[t];n<i.length;n++){for(var o=i[n],r=!o.validEnd,s=[],a=0;a<o.next.length;a+=2){var c=o.next[a],l=o.next[a+1];s.push(c.name),!r||c.isText||c.hasRequiredAttrs()||(r=!1),-1==i.indexOf(l)&&i.push(l)}r&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position")}}function nt(t){var e=Object.create(null);for(var n in t){var i=t[n];if(!i.hasDefault)return null;e[n]=i.default}return e}function it(t,e){var n=Object.create(null);for(var i in t){var o=e&&e[i];if(void 0===o){var r=t[i];if(!r.hasDefault)throw new RangeError("No value supplied for attribute "+i);o=r.default}n[i]=o}return n}function ot(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new at(t[n]);return e}V.next.get=function(){return this.tokens[this.pos]},F.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},F.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(F.prototype,V);var rt=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=ot(n.attrs),this.defaultAttrs=nt(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},st={isInline:{},isTextblock:{},isLeaf:{},isAtom:{}};st.isInline.get=function(){return!this.isBlock},st.isTextblock.get=function(){return this.isBlock&&this.inlineContent},st.isLeaf.get=function(){return this.contentMatch==j.empty},st.isAtom.get=function(){return this.isLeaf||this.spec.atom},rt.prototype.hasRequiredAttrs=function(t){var e=this;for(var n in e.attrs)if(e.attrs[n].isRequired&&(!t||!(n in t)))return!0;return!1},rt.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},rt.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:it(this.attrs,t)},rt.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new D(this,this.computeAttrs(t),a.from(e),d.setFrom(n))},rt.prototype.createChecked=function(t,e,n){if(e=a.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new D(this,this.computeAttrs(t),e,d.setFrom(n))},rt.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),e=a.from(e),e.size){var i=this.contentMatch.fillBefore(e);if(!i)return null;e=i.append(e)}var o=this.contentMatch.matchFragment(e).fillBefore(a.empty,!0);return o?new D(this,t,e.append(o),d.setFrom(n)):null},rt.prototype.validContent=function(t){var e=this,n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(var i=0;i<t.childCount;i++)if(!e.allowsMarks(t.child(i).marks))return!1;return!0},rt.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},rt.prototype.allowsMarks=function(t){var e=this;if(null==this.markSet)return!0;for(var n=0;n<t.length;n++)if(!e.allowsMarkType(t[n].type))return!1;return!0},rt.prototype.allowedMarks=function(t){var e,n=this;if(null==this.markSet)return t;for(var i=0;i<t.length;i++)n.allowsMarkType(t[i].type)?e&&e.push(t[i]):e||(e=t.slice(0,i));return e?e.length?e:d.empty:t},rt.compile=function(t,e){var n=Object.create(null);t.forEach(function(t,i){return n[t]=new rt(t,e,i)});var i=e.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(rt.prototype,st);var at=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},ct={isRequired:{}};ct.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(at.prototype,ct);var lt=function(t,e,n,i){this.name=t,this.schema=n,this.spec=i,this.attrs=ot(i.attrs),this.rank=e,this.excluded=null;var o=nt(this.attrs);this.instance=o&&new d(this,o)};lt.prototype.create=function(t){return!t&&this.instance?this.instance:new d(this,it(this.attrs,t))},lt.compile=function(t,e){var n=Object.create(null),i=0;return t.forEach(function(t,o){return n[t]=new lt(t,i++,e,o)}),n},lt.prototype.removeFromSet=function(t){for(var e=this,n=0;n<t.length;n++)if(t[n].type==e)return t.slice(0,n).concat(t.slice(n+1));return t},lt.prototype.isInSet=function(t){for(var e=this,n=0;n<t.length;n++)if(t[n].type==e)return t[n]},lt.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var ht=function(t){var e=this;for(var n in this.spec={},t)e.spec[n]=t[n];this.spec.nodes=o.from(t.nodes),this.spec.marks=o.from(t.marks),this.nodes=rt.compile(this.spec.nodes,this),this.marks=lt.compile(this.spec.marks,this);var i=Object.create(null);for(var r in e.nodes){if(r in e.marks)throw new RangeError(r+" can not be both a node and a mark");var s=e.nodes[r],a=s.spec.content||"",c=s.spec.marks;s.contentMatch=i[a]||(i[a]=j.parse(a,e.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.markSet="_"==c?null:c?ut(e,c.split(" ")):""!=c&&s.inlineContent?null:[]}for(var l in e.marks){var h=e.marks[l],u=h.spec.excludes;h.excluded=null==u?[h]:""==u?[]:ut(e,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function ut(t,e){for(var n=[],i=0;i<e.length;i++){var o=e[i],r=t.marks[o],s=r;if(r)n.push(r);else for(var a in t.marks){var c=t.marks[a];("_"==o||c.spec.group&&c.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=c)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return n}ht.prototype.node=function(t,e,n,i){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof rt))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,i)},ht.prototype.text=function(t,e){var n=this.nodes.text;return new I(n,n.defaultAttrs,t,d.setFrom(e))},ht.prototype.mark=function(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)},ht.prototype.nodeFromJSON=function(t){return D.fromJSON(this,t)},ht.prototype.markFromJSON=function(t){return d.fromJSON(this,t)},ht.prototype.nodeType=function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e};var dt=function(t,e){var n=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach(function(t){t.tag?n.tags.push(t):t.style&&n.styles.push(t)})};dt.prototype.parse=function(t,e){void 0===e&&(e={});var n=new wt(this,e,!1);return n.addAll(t,null,e.from,e.to),n.finish()},dt.prototype.parseSlice=function(t,e){void 0===e&&(e={});var n=new wt(this,e,!0);return n.addAll(t,null,e.from,e.to),f.maxOpen(n.finish())},dt.prototype.matchTag=function(t,e){for(var n=this,i=0;i<this.tags.length;i++){var o=n.tags[i];if(kt(t,o.tag)&&(void 0===o.namespace||t.namespaceURI==o.namespace)&&(!o.context||e.matchesContext(o.context))){if(o.getAttrs){var r=o.getAttrs(t);if(!1===r)continue;o.attrs=r}return o}}},dt.prototype.matchStyle=function(t,e,n){for(var i=this,o=0;o<this.styles.length;o++){var r=i.styles[o];if(!(0!=r.style.indexOf(t)||r.context&&!n.matchesContext(r.context)||r.style.length>t.length&&(61!=r.style.charCodeAt(t.length)||r.style.slice(t.length+1)!=e))){if(r.getAttrs){var s=r.getAttrs(e);if(!1===s)continue;r.attrs=s}return r}}},dt.schemaRules=function(t){var e=[];function n(t){for(var n=null==t.priority?50:t.priority,i=0;i<e.length;i++){var o=e[i],r=null==o.priority?50:o.priority;if(r<n)break}e.splice(i,0,t)}var i=function(e){var i=t.marks[e].spec.parseDOM;i&&i.forEach(function(t){n(t=Tt(t)),t.mark=e})};for(var o in t.marks)i(o);var r=function(e){var i=t.nodes[s].spec.parseDOM;i&&i.forEach(function(t){n(t=Tt(t)),t.node=s})};for(var s in t.nodes)r(o);return e},dt.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new dt(t,dt.schemaRules(t)))};var pt={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ft={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},mt={ol:!0,ul:!0},vt=1,gt=2,yt=4;function _t(t){return(t?vt:0)|("full"===t?gt:0)}var bt=function(t,e,n,i,o,r){this.type=t,this.attrs=e,this.solid=i,this.match=o||(r&yt?null:t.contentMatch),this.options=r,this.content=[],this.marks=n,this.activeMarks=d.none};bt.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(a.from(t));if(!e){var n,i=this.type.contentMatch;return(n=i.findWrapping(t.type))?(this.match=i,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},bt.prototype.finish=function(t){if(!(this.options&vt)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/\s+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var i=a.from(this.content);return!t&&this.match&&(i=i.append(this.match.fillBefore(a.empty,!0))),this.type?this.type.create(this.attrs,i,this.marks):i};var wt=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n,this.pendingMarks=[];var i,o=e.topNode,r=_t(e.preserveWhitespace)|(n?yt:0);i=o?new bt(o.type,o.attrs,d.none,!0,e.topMatch||o.type.contentMatch,r):new bt(n?null:t.schema.topNodeType,null,d.none,!0,null,r),this.nodes=[i],this.open=0,this.find=e.findPositions,this.needsBlock=!1},xt={top:{},currentPos:{}};function St(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var i=1==e.nodeType?e.nodeName.toLowerCase():null;i&&mt.hasOwnProperty(i)&&n?(n.appendChild(e),e=n):"li"==i?n=e:i&&(n=null)}}function kt(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Ct(t){var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,i=[];while(e=n.exec(t))i.push(e[1],e[2].trim());return i}function Tt(t){var e={};for(var n in t)e[n]=t[n];return e}xt.top.get=function(){return this.nodes[this.open]},wt.prototype.addDOM=function(t){var e=this;if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var n=t.getAttribute("style"),i=n?this.readStyles(Ct(n)):null;if(null!=i)for(var o=0;o<i.length;o++)e.addPendingMark(i[o]);if(this.addElement(t),null!=i)for(var r=0;r<i.length;r++)e.removePendingMark(i[r])}},wt.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if((n.type?n.type.inlineContent:n.content.length&&n.content[0].isInline)||/\S/.test(e)){if(n.options&vt)n.options&gt||(e=e.replace(/\r?\n|\r/g," "));else if(e=e.replace(/\s+/g," "),/^\s/.test(e)&&this.open==this.nodes.length-1){var i=n.content[n.content.length-1],o=t.previousSibling;(!i||o&&"BR"==o.nodeName||i.isText&&/\s$/.test(i.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},wt.prototype.addElement=function(t){var e=t.nodeName.toLowerCase();mt.hasOwnProperty(e)&&St(t);var n=this.options.ruleFromNode&&this.options.ruleFromNode(t)||this.parser.matchTag(t,this);if(n?n.ignore:ft.hasOwnProperty(e))this.findInside(t);else if(!n||n.skip){n&&n.skip.nodeType&&(t=n.skip);var i,o=this.top,r=this.needsBlock;pt.hasOwnProperty(e)&&(i=!0,o.type||(this.needsBlock=!0)),this.addAll(t),i&&this.sync(o),this.needsBlock=r}else this.addElementByRule(t,n)},wt.prototype.readStyles=function(t){for(var e=this,n=d.none,i=0;i<t.length;i+=2){var o=e.parser.matchStyle(t[i],t[i+1],e);if(o){if(o.ignore)return null;n=e.parser.schema.marks[o.mark].create(o.attrs).addToSet(n)}}return n},wt.prototype.addElementByRule=function(t,e){var n,i,o,r,s=this;e.node?(i=this.parser.schema.nodes[e.node],i.isLeaf?this.insertNode(i.create(e.attrs)):n=this.enter(i,e.attrs,e.preserveWhitespace)):(o=this.parser.schema.marks[e.mark],r=o.create(e.attrs),this.addPendingMark(r));var a=this.top;if(i&&i.isLeaf)this.findInside(t);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(function(t){return s.insertNode(t)});else{var c=e.contentElement;"string"==typeof c?c=t.querySelector(c):"function"==typeof c&&(c=c(t)),c||(c=t),this.findAround(t,c,!0),this.addAll(c,n)}return n&&(this.sync(a),this.open--),r&&this.removePendingMark(r),!0},wt.prototype.addAll=function(t,e,n,i){for(var o=this,r=n||0,s=n?t.childNodes[n]:t.firstChild,a=null==i?null:t.childNodes[i];s!=a;s=s.nextSibling,++r)o.findAtPoint(t,r),o.addDOM(s),e&&pt.hasOwnProperty(s.nodeName.toLowerCase())&&o.sync(e);this.findAtPoint(t,r)},wt.prototype.findPlace=function(t){for(var e,n,i=this,o=this.open;o>=0;o--){var r=i.nodes[o],s=r.findWrapping(t);if(s&&(!e||e.length>s.length)&&(e=s,n=r,!s.length))break;if(r.solid)break}if(!e)return!1;this.sync(n);for(var a=0;a<e.length;a++)i.enterInner(e[a],null,!1);return!0},wt.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;this.applyPendingMarks(n),n.match&&(n.match=n.match.matchType(t.type));for(var i=n.activeMarks,o=0;o<t.marks.length;o++)n.type&&!n.type.allowsMarkType(t.marks[o].type)||(i=t.marks[o].addToSet(i));n.content.push(t.mark(i))}},wt.prototype.applyPendingMarks=function(t){for(var e=this,n=0;n<this.pendingMarks.length;n++){var i=e.pendingMarks[n];t.type&&!t.type.allowsMarkType(i.type)||i.isInSet(t.activeMarks)||(t.activeMarks=i.addToSet(t.activeMarks),e.pendingMarks.splice(n--,1))}},wt.prototype.enter=function(t,e,n){var i=this.findPlace(t.create(e));return i&&(this.applyPendingMarks(this.top),this.enterInner(t,e,!0,n)),i},wt.prototype.enterInner=function(t,e,n,i){this.closeExtra();var o=this.top;o.match=o.match&&o.match.matchType(t,e);var r=null==i?o.options&~yt:_t(i);o.options&yt&&0==o.content.length&&(r|=yt),this.nodes.push(new bt(t,e,o.activeMarks,n,null,r)),this.open++},wt.prototype.closeExtra=function(t){var e=this,n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)e.nodes[n-1].content.push(e.nodes[n].finish(t));this.nodes.length=this.open+1}},wt.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},wt.prototype.sync=function(t){for(var e=this,n=this.open;n>=0;n--)if(e.nodes[n]==t)return void(e.open=n)},wt.prototype.addPendingMark=function(t){this.pendingMarks.push(t)},wt.prototype.removePendingMark=function(t){var e=this.pendingMarks.lastIndexOf(t);if(e>-1)this.pendingMarks.splice(e,1);else{var n=this.top;n.activeMarks=t.removeFromSet(n.activeMarks)}},xt.currentPos.get=function(){var t=this;this.closeExtra();for(var e=0,n=this.open;n>=0;n--){for(var i=t.nodes[n].content,o=i.length-1;o>=0;o--)e+=i[o].nodeSize;n&&e++}return e},wt.prototype.findAtPoint=function(t,e){var n=this;if(this.find)for(var i=0;i<this.find.length;i++)n.find[i].node==t&&n.find[i].offset==e&&(n.find[i].pos=n.currentPos)},wt.prototype.findInside=function(t){var e=this;if(this.find)for(var n=0;n<this.find.length;n++)null==e.find[n].pos&&1==t.nodeType&&t.contains(e.find[n].node)&&(e.find[n].pos=e.currentPos)},wt.prototype.findAround=function(t,e,n){var i=this;if(t!=e&&this.find)for(var o=0;o<this.find.length;o++)if(null==i.find[o].pos&&1==t.nodeType&&t.contains(i.find[o].node)){var r=e.compareDocumentPosition(i.find[o].node);r&(n?2:4)&&(i.find[o].pos=i.currentPos)}},wt.prototype.findInText=function(t){var e=this;if(this.find)for(var n=0;n<this.find.length;n++)e.find[n].node==t&&(e.find[n].pos=e.currentPos-(t.nodeValue.length-e.find[n].offset))},wt.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),i=this.options.context,o=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),r=-(i?i.depth+1:0)+(o?0:1),s=function(t,a){for(;t>=0;t--){var c=n[t];if(""==c){if(t==n.length-1||0==t)continue;for(;a>=r;a--)if(s(t-1,a))return!0;return!1}var l=a>0||0==a&&o?e.nodes[a].type:i&&a>=r?i.node(a-r).type:null;if(!l||l.name!=c&&-1==l.groups.indexOf(c))return!1;a--}return!0};return s(n.length-1,this.open)},wt.prototype.textblockFromContext=function(){var t=this,e=this.options.context;if(e)for(var n=e.depth;n>=0;n--){var i=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(var o in t.parser.schema.nodes){var r=t.parser.schema.nodes[o];if(r.isTextblock&&r.defaultAttrs)return r}},Object.defineProperties(wt.prototype,xt);var Mt=function(t,e){this.nodes=t||{},this.marks=e||{}};function Ot(t){var e={};for(var n in t){var i=t[n].spec.toDOM;i&&(e[n]=i)}return e}function Pt(t){return t.document||window.document}Mt.prototype.serializeFragment=function(t,e,n){var i=this;void 0===e&&(e={}),n||(n=Pt(e).createDocumentFragment());var o=n,r=null;return t.forEach(function(t){if(r||t.marks.length){r||(r=[]);var n=0,s=0;while(n<r.length&&s<t.marks.length){var a=t.marks[s];if(i.marks[a.type.name]){if(!a.eq(r[n])||!1===a.type.spec.spanning)break;n+=2,s++}else s++}while(n<r.length)o=r.pop(),r.pop();while(s<t.marks.length){var c=t.marks[s++],l=i.serializeMark(c,t.isInline,e);l&&(r.push(c,o),o.appendChild(l.dom),o=l.contentDOM||l.dom)}}o.appendChild(i.serializeNode(t,e))}),n},Mt.prototype.serializeNode=function(t,e){void 0===e&&(e={});var n=Mt.renderSpec(Pt(e),this.nodes[t.type.name](t)),i=n.dom,o=n.contentDOM;if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,o,e):this.serializeFragment(t.content,e,o)}return i},Mt.prototype.serializeNodeAndMarks=function(t,e){var n=this;void 0===e&&(e={});for(var i=this.serializeNode(t,e),o=t.marks.length-1;o>=0;o--){var r=n.serializeMark(t.marks[o],t.isInline,e);r&&((r.contentDOM||r.dom).appendChild(i),i=r.dom)}return i},Mt.prototype.serializeMark=function(t,e,n){void 0===n&&(n={});var i=this.marks[t.type.name];return i&&Mt.renderSpec(Pt(n),i(t,e))},Mt.renderSpec=function(t,e){if("string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};var n=t.createElement(e[0]),i=null,o=e[1],r=1;if(o&&"object"==typeof o&&null==o.nodeType&&!Array.isArray(o))for(var s in r=2,o)null!=o[s]&&n.setAttribute(s,o[s]);for(var a=r;a<e.length;a++){var c=e[a];if(0===c){if(a<e.length-1||a>r)throw new RangeError("Content hole must be the only child of its parent node");return{dom:n,contentDOM:n}}var l=Mt.renderSpec(t,c),h=l.dom,u=l.contentDOM;if(n.appendChild(h),u){if(i)throw new RangeError("Multiple content holes");i=u}}return{dom:n,contentDOM:i}},Mt.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new Mt(this.nodesFromSchema(t),this.marksFromSchema(t)))},Mt.nodesFromSchema=function(t){var e=Ot(t.nodes);return e.text||(e.text=function(t){return t.text}),e},Mt.marksFromSchema=function(t){return Ot(t.marks)},e.Node=D,e.ResolvedPos=O,e.NodeRange=E,e.Fragment=a,e.Slice=f,e.ReplaceError=p,e.Mark=d,e.Schema=ht,e.NodeType=rt,e.MarkType=lt,e.ContentMatch=j,e.DOMParser=dt,e.DOMSerializer=Mt},"6ffb":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("6f27"),o=n("b923"),r=Object.create(null),s=function(t,e,n){this.ranges=n||[new c(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},a={anchor:{},head:{},from:{},to:{},$from:{},$to:{},empty:{}};a.anchor.get=function(){return this.$anchor.pos},a.head.get=function(){return this.$head.pos},a.from.get=function(){return this.$from.pos},a.to.get=function(){return this.$to.pos},a.$from.get=function(){return this.ranges[0].$from},a.$to.get=function(){return this.ranges[0].$to},a.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0},s.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},s.prototype.replace=function(t,e){void 0===e&&(e=i.Slice.empty);for(var n=e.content.lastChild,o=null,r=0;r<e.openEnd;r++)o=n,n=n.lastChild;for(var s=t.steps.length,a=this.ranges,c=0;c<a.length;c++){var l=a[c],h=l.$from,u=l.$to,d=t.mapping.slice(s);t.replaceRange(d.map(h.pos),d.map(u.pos),c?i.Slice.empty:e),0==c&&v(t,s,(n?n.isInline:o&&o.isTextblock)?-1:1)}},s.prototype.replaceWith=function(t,e){for(var n=t.steps.length,i=this.ranges,o=0;o<i.length;o++){var r=i[o],s=r.$from,a=r.$to,c=t.mapping.slice(n),l=c.map(s.pos),h=c.map(a.pos);o?t.deleteRange(l,h):(t.replaceRangeWith(l,h,e),v(t,n,e.isInline?-1:1))}},s.findFrom=function(t,e,n){var i=t.parent.inlineContent?new l(t):m(t.node(0),t.parent,t.pos,t.index(),e,n);if(i)return i;for(var o=t.depth-1;o>=0;o--){var r=e<0?m(t.node(0),t.node(o),t.before(o+1),t.index(o),e,n):m(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,e,n);if(r)return r}},s.near=function(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new p(t.node(0))},s.atStart=function(t){return m(t,t,0,0,1)||new p(t)},s.atEnd=function(t){return m(t,t,t.content.size,t.childCount,-1)||new p(t)},s.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=r[e.type];if(!n)throw new RangeError("No selection type "+e.type+" defined");return n.fromJSON(t,e)},s.jsonID=function(t,e){if(t in r)throw new RangeError("Duplicate use of selection JSON ID "+t);return r[t]=e,e.prototype.jsonID=t,e},s.prototype.getBookmark=function(){return l.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(s.prototype,a),s.prototype.visible=!0;var c=function(t,e){this.$from=t,this.$to=e},l=function(t){function e(e,n){void 0===n&&(n=e),t.call(this,e,n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(n,i){var o=n.resolve(i.map(this.head));if(!o.parent.inlineContent)return t.near(o);var r=n.resolve(i.map(this.anchor));return new e(r.parent.inlineContent?r:o,o)},e.prototype.replace=function(e,n){if(void 0===n&&(n=i.Slice.empty),t.prototype.replace.call(this,e,n),n==i.Slice.empty){var o=this.$from.marksAcross(this.$to);o&&e.ensureMarks(o)}},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor&&t.head==this.head},e.prototype.getBookmark=function(){return new h(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,e,n){void 0===n&&(n=e);var i=t.resolve(e);return new this(i,n==e?i:t.resolve(n))},e.between=function(n,i,o){var r=n.pos-i.pos;if(o&&!r||(o=r>=0?1:-1),!i.parent.inlineContent){var s=t.findFrom(i,o,!0)||t.findFrom(i,-o,!0);if(!s)return t.near(i,o);i=s.$head}return n.parent.inlineContent||(0==r?n=i:(n=(t.findFrom(n,-o,!0)||t.findFrom(n,o,!0)).$anchor,n.pos<i.pos!=r<0&&(n=i))),new e(n,i)},Object.defineProperties(e.prototype,n),e}(s);s.jsonID("text",l);var h=function(t,e){this.anchor=t,this.head=e};h.prototype.map=function(t){return new h(t.map(this.anchor),t.map(this.head))},h.prototype.resolve=function(t){return l.between(t.resolve(this.anchor),t.resolve(this.head))};var u=function(t){function e(e){var n=e.nodeAfter,i=e.node(0).resolve(e.pos+n.nodeSize);t.call(this,e,i),this.node=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,i){var o=i.mapResult(this.anchor),r=o.deleted,s=o.pos,a=n.resolve(s);return r?t.near(a):new e(a)},e.prototype.content=function(){return new i.Slice(i.Fragment.from(this.node),0,0)},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new d(this.anchor)},e.fromJSON=function(t,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(t.resolve(n.anchor))},e.create=function(t,e){return new this(t.resolve(e))},e.isSelectable=function(t){return!t.isText&&!1!==t.type.spec.selectable},e}(s);u.prototype.visible=!1,s.jsonID("node",u);var d=function(t){this.anchor=t};d.prototype.map=function(t){var e=t.mapResult(this.anchor),n=e.deleted,i=e.pos;return n?new h(i,i):new d(i)},d.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&u.isSelectable(n)?new u(e):s.near(e)};var p=function(t){function e(e){t.call(this,e.resolve(0),e.resolve(e.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(t){return new e(t)},e.prototype.map=function(t){return new e(t)},e.prototype.eq=function(t){return t instanceof e},e.prototype.getBookmark=function(){return f},e}(s);s.jsonID("all",p);var f={map:function(){return this},resolve:function(t){return new p(t)}};function m(t,e,n,i,o,r){if(e.inlineContent)return l.create(t,n);for(var s=i-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){var a=e.child(s);if(a.isAtom){if(!r&&u.isSelectable(a))return u.create(t,n-(o<0?a.nodeSize:0))}else{var c=m(t,a,n+o,o<0?a.childCount:0,o,r);if(c)return c}n+=a.nodeSize*o}}function v(t,e,n){var i=t.steps.length-1;if(!(i<e)){var r=t.steps[i];if(r instanceof o.ReplaceStep||r instanceof o.ReplaceAroundStep){var a,c=t.mapping.maps[i];c.forEach(function(t,e,n,i){null==a&&(a=i)}),t.setSelection(s.near(t.doc.resolve(a),n))}}}var g=1,y=2,_=4,b=function(t){function e(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{},selectionSet:{},storedMarksSet:{},isGeneric:{},scrolledIntoView:{}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(t){return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|g)&~y,this.storedMarks=null,this},n.selectionSet.get=function(){return(this.updated&g)>0},e.prototype.setStoredMarks=function(t){return this.storedMarks=t,this.updated|=y,this},e.prototype.ensureMarks=function(t){return i.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this},e.prototype.addStoredMark=function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(this.updated&y)>0},e.prototype.addStep=function(e,n){t.prototype.addStep.call(this,e,n),this.updated=this.updated&~y,this.storedMarks=null},e.prototype.setTime=function(t){return this.time=t,this},e.prototype.replaceSelection=function(t){return this.selection.replace(this,t),this},e.prototype.replaceSelectionWith=function(t,e){var n=this.selection;return!1!==e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||i.Mark.none))),n.replaceWith(this,t),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(t,e,n){void 0===n&&(n=e);var i=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,n);var o=this.storedMarks;if(!o){var r=this.doc.resolve(e);o=n==e?r.marks():r.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,i.text(t,o)),this.selection.empty||this.setSelection(s.near(this.selection.$to)),this},e.prototype.setMeta=function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this},e.prototype.getMeta=function(t){return this.meta["string"==typeof t?t:t.key]},n.isGeneric.get=function(){var t=this;for(var e in t.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=_,this},n.scrolledIntoView.get=function(){return(this.updated&_)>0},Object.defineProperties(e.prototype,n),e}(o.Transform);function w(t,e){return e&&t?t.bind(e):t}var x=function(t,e,n){this.name=t,this.init=w(e.init,n),this.apply=w(e.apply,n)},S=[new x("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new x("selection",{init:function(t,e){return t.selection||s.atStart(e.doc)},apply:function(t){return t.selection}}),new x("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,i){return i.selection.$cursor?t.storedMarks:null}}),new x("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],k=function(t,e){var n=this;this.schema=t,this.fields=S.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach(function(t){if(n.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");n.plugins.push(t),n.pluginsByKey[t.key]=t,t.spec.state&&n.fields.push(new x(t.key,t.spec.state,t))})},C=function(t){this.config=t},T={schema:{},plugins:{},tr:{}};T.schema.get=function(){return this.config.schema},T.plugins.get=function(){return this.config.plugins},C.prototype.apply=function(t){return this.applyTransaction(t).state},C.prototype.filterTransaction=function(t,e){var n=this;void 0===e&&(e=-1);for(var i=0;i<this.config.plugins.length;i++)if(i!=e){var o=n.config.plugins[i];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,t,n))return!1}return!0},C.prototype.applyTransaction=function(t){var e=this;if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var n=[t],i=this.applyInner(t),o=null;;){for(var r=!1,s=0;s<this.config.plugins.length;s++){var a=e.config.plugins[s];if(a.spec.appendTransaction){var c=o?o[s].n:0,l=o?o[s].state:e,h=c<n.length&&a.spec.appendTransaction.call(a,c?n.slice(c):n,l,i);if(h&&i.filterTransaction(h,s)){if(h.setMeta("appendedTransaction",t),!o){o=[];for(var u=0;u<this.config.plugins.length;u++)o.push(u<s?{state:i,n:n.length}:{state:e,n:0})}n.push(h),i=i.applyInner(h),r=!0}o&&(o[s]={state:i,n:n.length})}}if(!r)return{state:i,transactions:n}}},C.prototype.applyInner=function(t){var e=this;if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var n=new C(this.config),i=this.config.fields,o=0;o<i.length;o++){var r=i[o];n[r.name]=r.apply(t,e[r.name],e,n)}for(var s=0;s<M.length;s++)M[s](e,t,n);return n},T.tr.get=function(){return new b(this)},C.create=function(t){for(var e=new k(t.schema||t.doc.type.schema,t.plugins),n=new C(e),i=0;i<e.fields.length;i++)n[e.fields[i].name]=e.fields[i].init(t,n);return n},C.prototype.reconfigure=function(t){for(var e=this,n=new k(t.schema||this.schema,t.plugins),i=n.fields,o=new C(n),r=0;r<i.length;r++){var s=i[r].name;o[s]=e.hasOwnProperty(s)?e[s]:i[r].init(t,o)}return o},C.prototype.toJSON=function(t){var e=this,n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(function(t){return t.toJSON()})),t&&"object"==typeof t)for(var i in t){if("doc"==i||"selection"==i)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var o=t[i],r=o.spec.state;r&&r.toJSON&&(n[i]=r.toJSON.call(o,e[o.key]))}return n},C.fromJSON=function(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var o=new k(t.schema,t.plugins),r=new C(o);return o.fields.forEach(function(o){if("doc"==o.name)r.doc=i.Node.fromJSON(t.schema,e.doc);else if("selection"==o.name)r.selection=s.fromJSON(r.doc,e.selection);else if("storedMarks"==o.name)e.storedMarks&&(r.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var a in n){var c=n[a],l=c.spec.state;if(c.key==o.name&&l&&l.fromJSON&&Object.prototype.hasOwnProperty.call(e,a))return void(r[o.name]=l.fromJSON.call(c,t,e[a],r))}r[o.name]=o.init(t,r)}}),r},C.addApplyListener=function(t){M.push(t)},C.removeApplyListener=function(t){var e=M.indexOf(t);e>-1&&M.splice(e,1)},Object.defineProperties(C.prototype,T);var M=[];function O(t,e,n){for(var i in t){var o=t[i];o instanceof Function?o=o.bind(e):"handleDOMEvents"==i&&(o=O(o,e,{})),n[i]=o}return n}var P=function(t){this.props={},t.props&&O(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:z("plugin")};P.prototype.getState=function(t){return t[this.key]};var A=Object.create(null);function z(t){return t in A?t+"$"+ ++A[t]:(A[t]=0,t+"$")}var L=function(t){void 0===t&&(t="key"),this.key=z(t)};L.prototype.get=function(t){return t.config.pluginsByKey[this.key]},L.prototype.getState=function(t){return t[this.key]},e.Selection=s,e.SelectionRange=c,e.TextSelection=l,e.NodeSelection=u,e.AllSelection=p,e.Transaction=b,e.EditorState=C,e.Plugin=P,e.PluginKey=L},"703f":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("6f27"),o=n("6ffb"),r=n("b923"),s={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var a=/Edge\/(\d+)/.exec(navigator.userAgent),c=/MSIE \d/.test(navigator.userAgent),l=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);s.mac=/Mac/.test(navigator.platform);var h=s.ie=!!(c||l||a);s.ie_version=c?document.documentMode||6:l?+l[1]:a?+a[1]:null,s.gecko=!h&&/gecko\/(\d+)/i.test(navigator.userAgent),s.gecko_version=s.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var u=!h&&/Chrome\/(\d+)/.exec(navigator.userAgent);s.chrome=!!u,s.chrome_version=u&&+u[1],s.ios=!h&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),s.android=/Android \d/.test(navigator.userAgent),s.webkit=!h&&"WebkitAppearance"in document.documentElement.style,s.safari=/Apple Computer/.test(navigator.vendor),s.webkit_version=s.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var d=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},p=function(t){var e=t.parentNode;return e&&11==e.nodeType?e.host:e},f=function(t,e,n){var i=document.createRange();return i.setEnd(t,null==n?t.nodeValue.length:n),i.setStart(t,e||0),i},m=function(t,e,n,i){return n&&(g(t,e,n,i,-1)||g(t,e,n,i,1))},v=/^(img|br|input|textarea|hr)$/i;function g(t,e,n,i,o){for(;;){if(t==n&&e==i)return!0;if(e==(o<0?0:y(t))||3==t.nodeType&&"\ufeff"==t.nodeValue){var r=t.parentNode;if(1!=r.nodeType||_(t)||v.test(t.nodeName)||"false"==t.contentEditable)return!1;e=d(t)+(o<0?0:1),t=r}else{if(1!=t.nodeType)return!1;t=t.childNodes[e+(o<0?-1:0)],e=o<0?y(t):0}}}function y(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function _(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}var b=function(t){var e=t.isCollapsed;return e&&s.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function w(t,e){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function x(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function S(t,e){return"number"==typeof t?t:t[e]}function k(t,e,n){for(var i=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,r=t.dom.ownerDocument,s=r.defaultView,a=n||t.dom;;a=p(a)){if(!a)break;if(1==a.nodeType){var c=a==r.body||1!=a.nodeType,l=c?x(s):a.getBoundingClientRect(),h=0,u=0;if(e.top<l.top+S(i,"top")?u=-(l.top-e.top+S(o,"top")):e.bottom>l.bottom-S(i,"bottom")&&(u=e.bottom-l.bottom+S(o,"bottom")),e.left<l.left+S(i,"left")?h=-(l.left-e.left+S(o,"left")):e.right>l.right-S(i,"right")&&(h=e.right-l.right+S(o,"right")),(h||u)&&(c?s.scrollBy(h,u):(u&&(a.scrollTop+=u),h&&(a.scrollLeft+=h))),c)break}}}function C(t){for(var e,n,i=t.dom.getBoundingClientRect(),o=Math.max(0,i.top),r=t.dom.ownerDocument,s=(i.left+i.right)/2,a=o+1;a<Math.min(innerHeight,i.bottom);a+=5){var c=t.root.elementFromPoint(s,a);if(c!=t.dom&&t.dom.contains(c)){var l=c.getBoundingClientRect();if(l.top>=o-20){e=c,n=l.top;break}}}for(var h=[],u=t.dom;u;u=p(u))if(h.push({dom:u,top:u.scrollTop,left:u.scrollLeft}),u==r.body)break;return{refDOM:e,refTop:n,stack:h}}function T(t){for(var e=t.refDOM,n=t.refTop,i=t.stack,o=e?e.getBoundingClientRect().top:0,r=0==o?0:o-n,s=0;s<i.length;s++){var a=i[s],c=a.dom,l=a.top,h=a.left;c.scrollTop!=l+r&&(c.scrollTop=l+r),c.scrollLeft!=h&&(c.scrollLeft=h)}}function M(t,e){for(var n,i,o=2e8,r=0,s=e.top,a=e.top,c=t.firstChild,l=0;c;c=c.nextSibling,l++){var h=void 0;if(1==c.nodeType)h=c.getClientRects();else{if(3!=c.nodeType)continue;h=f(c).getClientRects()}for(var u=0;u<h.length;u++){var d=h[u];if(d.top<=s&&d.bottom>=a){s=Math.max(d.bottom,s),a=Math.min(d.top,a);var p=d.left>e.left?d.left-e.left:d.right<e.left?e.left-d.right:0;if(p<o){n=c,o=p,i=p&&3==n.nodeType?{left:d.right<e.left?d.right:d.left,top:e.top}:e,1==c.nodeType&&p&&(r=l+(e.left>=(d.left+d.right)/2?1:0));continue}}!n&&(e.left>=d.right&&e.top>=d.top||e.left>=d.left&&e.top>=d.bottom)&&(r=l+1)}}return n&&3==n.nodeType?O(n,i):!n||o&&1==n.nodeType?{node:t,offset:r}:M(n,i)}function O(t,e){for(var n=t.nodeValue.length,i=document.createRange(),o=0;o<n;o++){i.setEnd(t,o+1),i.setStart(t,o);var r=R(i,1);if(r.top!=r.bottom&&P(e,r))return{node:t,offset:o+(e.left>=(r.left+r.right)/2?1:0)}}return{node:t,offset:0}}function P(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function A(t,e){var n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function z(t,e,n){var i=M(e,n),o=i.node,r=i.offset,s=-1;if(1==o.nodeType&&!o.firstChild){var a=o.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(o,r,s)}function L(t,e,n,i){for(var o=-1,r=e;;){if(r==t.dom)break;var s=t.docView.nearestDesc(r,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>i.left||a.top>i.top)o=s.posBefore;else{if(!(a.right<i.left||a.bottom<i.top))break;o=s.posAfter}}r=s.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n)}function E(t,e,n){var i=t.childNodes.length;if(i&&n.top<n.bottom)for(var o=Math.max(0,Math.floor(i*(e.top-n.top)/(n.bottom-n.top))-2),r=o;;){var s=t.childNodes[r];if(1==s.nodeType)for(var a=s.getClientRects(),c=0;c<a.length;c++){var l=a[c];if(P(e,l))return E(s,e,l)}if((r=(r+1)%i)==o)break}return t}function N(t,e){var n,i,o=t.root;if(o.caretPositionFromPoint){var r,s=o.caretPositionFromPoint(e.left,e.top);if(s)r=s,n=r.offsetNode,i=r.offset}if(!n&&o.caretRangeFromPoint){var a,c=o.caretRangeFromPoint(e.left,e.top);if(c)a=c,n=a.startContainer,i=a.startOffset}var l,h=o.elementFromPoint(e.left,e.top+1);if(!h||!t.dom.contains(1!=h.nodeType?h.parentNode:h)){var u=t.dom.getBoundingClientRect();if(!P(e,u))return null;if(h=E(t.dom,e,u),!h)return null}h=A(h,e),n&&(n==t.dom&&i==n.childNodes.length-1&&1==n.lastChild.nodeType&&e.top>n.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:0!=i&&1==n.nodeType&&"BR"==n.childNodes[i-1].nodeName||(l=L(t,n,i,e))),null==l&&(l=z(t,h,e));var d=t.docView.nearestDesc(h,!0);return{pos:l,inside:d?d.posAtStart-d.border:-1}}function R(t,e){var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}function D(t,e){var n=t.docView.domFromPos(e),i=n.node,o=n.offset;if(3==i.nodeType&&(s.chrome||s.gecko)){var r=R(f(i,o,o),0);if(s.gecko&&o&&/\s/.test(i.nodeValue[o-1])&&o<i.nodeValue.length){var a=R(f(i,o-1,o-1),-1);if(Math.abs(a.left-r.left)<1&&a.top==r.top){var c=R(f(i,o,o+1),-1);return B(c,c.left<a.left)}}return r}if(1==i.nodeType&&!t.state.doc.resolve(e).parent.inlineContent){var l,h=!0;if(o<i.childNodes.length){var u=i.childNodes[o];1==u.nodeType&&(l=u.getBoundingClientRect())}if(!l&&o){var d=i.childNodes[o-1];1==d.nodeType&&(l=d.getBoundingClientRect(),h=!1)}return I(l||i.getBoundingClientRect(),h)}for(var p=-1;p<2;p+=2)if(p<0&&o){var m=void 0,v=3==i.nodeType?f(i,o-1,o):3==(m=i.childNodes[o-1]).nodeType?f(m):1==m.nodeType&&"BR"!=m.nodeName?m:null;if(v){var g=R(v,1);if(g.top<g.bottom)return B(g,!1)}}else if(p>0&&o<y(i)){var _=void 0,b=3==i.nodeType?f(i,o,o+1):3==(_=i.childNodes[o]).nodeType?f(_):1==_.nodeType?_:null;if(b){var w=R(b,-1);if(w.top<w.bottom)return B(w,!0)}}return B(R(3==i.nodeType?f(i):i,0),!1)}function B(t,e){if(0==t.width)return t;var n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function I(t,e){if(0==t.height)return t;var n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function $(t,e,n){var i=t.state,o=t.root.activeElement;i!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{i!=e&&t.updateState(i),o!=t.dom&&o.focus()}}function j(t,e,n){var i=e.selection,o="up"==n?i.$anchor.min(i.$head):i.$anchor.max(i.$head);return $(t,e,function(){for(var e=t.docView.domFromPos(o.pos),i=e.node;;){var r=t.docView.nearestDesc(i,!0);if(!r)break;if(r.node.isBlock){i=r.dom;break}i=r.dom.parentNode}for(var s=D(t,o.pos),a=i.firstChild;a;a=a.nextSibling){var c=void 0;if(1==a.nodeType)c=a.getClientRects();else{if(3!=a.nodeType)continue;c=f(a,0,a.nodeValue.length).getClientRects()}for(var l=0;l<c.length;l++){var h=c[l];if(h.bottom>h.top&&("up"==n?h.bottom<s.top+1:h.top>s.bottom-1))return!1}}return!0})}var Z=/[\u0590-\u08ac]/;function F(t,e,n){var i=e.selection,o=i.$head;if(!o.parent.isTextblock)return!1;var r=o.parentOffset,s=!r,a=r==o.parent.content.size,c=getSelection();return Z.test(o.parent.textContent)&&c.modify?$(t,e,function(){var e=c.getRangeAt(0),i=c.focusNode,r=c.focusOffset;c.modify("move",n,"character");var s=o.depth?t.docView.domAfterPos(o.before()):t.dom,a=!s.contains(1==c.focusNode.nodeType?c.focusNode:c.focusNode.parentNode)||i==c.focusNode&&r==c.focusOffset;return c.removeAllRanges(),c.addRange(e),a}):"left"==n||"backward"==n?s:a}var V=null,W=null,K=!1;function H(t,e,n){return V==e&&W==n?K:(V=e,W=n,K="up"==n||"down"==n?j(t,e,n):F(t,e,n))}var J=0,U=1,q=2,G=3,X=function(t,e,n,i){this.parent=t,this.children=e,this.dom=n,n.pmViewDesc=this,this.contentDOM=i,this.dirty=J},Y={beforePosition:{},size:{},border:{},posBefore:{},posAtStart:{},posAfter:{},posAtEnd:{},contentLost:{}};X.prototype.matchesWidget=function(){return!1},X.prototype.matchesMark=function(){return!1},X.prototype.matchesNode=function(){return!1},X.prototype.matchesHack=function(){return!1},Y.beforePosition.get=function(){return!1},X.prototype.parseRule=function(){return null},X.prototype.stopEvent=function(){return!1},Y.size.get=function(){for(var t=this,e=0,n=0;n<this.children.length;n++)e+=t.children[n].size;return e},Y.border.get=function(){return 0},X.prototype.destroy=function(){var t=this;this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)t.children[e].destroy()},X.prototype.posBeforeChild=function(t){for(var e=this,n=0,i=this.posAtStart;n<this.children.length;n++){var o=e.children[n];if(o==t)return i;i+=o.size}},Y.posBefore.get=function(){return this.parent.posBeforeChild(this)},Y.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},Y.posAfter.get=function(){return this.posBefore+this.size},Y.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},X.prototype.localPosFromDOM=function(t,e,n){var i,o=this;if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){var r,s;if(t==this.contentDOM)r=t.childNodes[e-1];else{while(t.parentNode!=this.contentDOM)t=t.parentNode;r=t.previousSibling}while(r&&(!(s=r.pmViewDesc)||s.parent!=this))r=r.previousSibling;return r?this.posBeforeChild(s)+s.size:this.posAtStart}var a,c;if(t==this.contentDOM)a=t.childNodes[e];else{while(t.parentNode!=this.contentDOM)t=t.parentNode;a=t.nextSibling}while(a&&(!(c=a.pmViewDesc)||c.parent!=this))a=a.nextSibling;return a?this.posBeforeChild(c):this.posAtEnd}if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var l=t;;l=l.parentNode){if(l==o.dom){i=!1;break}if(l.parentNode.firstChild!=l)break}if(null==i&&e==t.childNodes.length)for(var h=t;;h=h.parentNode){if(h==o.dom){i=!0;break}if(h.parentNode.lastChild!=h)break}}return(null==i?n>0:i)?this.posAtEnd:this.posAtStart},X.prototype.nearestDesc=function(t,e){for(var n=this,i=!0,o=t;o;o=o.parentNode){var r=n.getDesc(o);if(r&&(!e||r.node)){if(!i||!r.nodeDOM||(1==r.nodeDOM.nodeType?r.nodeDOM.contains(t):r.nodeDOM==t))return r;i=!1}}},X.prototype.getDesc=function(t){for(var e=this,n=t.pmViewDesc,i=n;i;i=i.parent)if(i==e)return n},X.prototype.posFromDOM=function(t,e,n){for(var i=this,o=t;;o=o.parentNode){var r=i.getDesc(o);if(r)return r.localPosFromDOM(t,e,n)}},X.prototype.descAt=function(t){for(var e=this,n=0,i=0;n<this.children.length;n++){var o=e.children[n],r=i+o.size;if(i==t&&r!=i){while(!o.border&&o.children.length)o=o.children[0];return o}if(t<r)return o.descAt(t-i-o.border);i=r}},X.prototype.domFromPos=function(t){var e=this;if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,i=0;;i++){if(n==t){while(i<this.children.length&&(this.children[i].beforePosition||this.children[i].dom.parentNode!=this.contentDOM))i++;return{node:e.contentDOM,offset:i==e.children.length?e.contentDOM.childNodes.length:d(e.children[i].dom)}}if(i==e.children.length)throw new Error("Invalid position "+t);var o=e.children[i],r=n+o.size;if(t<r)return o.domFromPos(t-n-o.border);n=r}},X.prototype.parseRange=function(t,e,n){var i=this;if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var o=-1,r=-1,s=n,a=0;;a++){var c=i.children[a],l=s+c.size;if(-1==o&&t<=l){var h=s+c.border;if(t>=h&&e<=l-c.border&&c.node&&c.contentDOM&&i.contentDOM.contains(c.contentDOM))return c.parseRange(t,e,h);t=s;for(var u=a;u>0;u--){var p=i.children[u-1];if(p.size&&p.dom.parentNode==i.contentDOM&&!p.emptyChildAt(1)){o=d(p.dom)+1;break}t-=p.size}-1==o&&(o=0)}if(o>-1&&e<=l){e=l;for(var f=a+1;f<this.children.length;f++){var m=i.children[f];if(m.size&&m.dom.parentNode==i.contentDOM&&!m.emptyChildAt(-1)){r=d(m.dom);break}e+=m.size}-1==r&&(r=i.contentDOM.childNodes.length);break}s=l}return{node:this.contentDOM,from:t,to:e,fromOffset:o,toOffset:r}},X.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)},X.prototype.domAfterPos=function(t){var e=this.domFromPos(t),n=e.node,i=e.offset;if(1!=n.nodeType||i==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[i]},X.prototype.setSelection=function(t,e,n,i){for(var o=this,r=Math.min(t,e),s=Math.max(t,e),a=0,c=0;a<this.children.length;a++){var l=o.children[a],h=c+l.size;if(r>c&&s<h)return l.setSelection(t-c-l.border,e-c-l.border,n,i);c=h}var u=this.domFromPos(t),d=this.domFromPos(e),p=n.getSelection(),f=document.createRange();if(i||!m(u.node,u.offset,p.anchorNode,p.anchorOffset)||!m(d.node,d.offset,p.focusNode,p.focusOffset)){if(p.extend)f.setEnd(u.node,u.offset),f.collapse(!1);else{if(t>e){var v=u;u=d,d=v}f.setEnd(d.node,d.offset),f.setStart(u.node,u.offset)}p.removeAllRanges(),p.addRange(f),p.extend&&p.extend(d.node,d.offset)}},X.prototype.ignoreMutation=function(t){return!this.contentDOM},Y.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},X.prototype.markDirty=function(t,e){for(var n=this,i=0,o=0;o<this.children.length;o++){var r=n.children[o],s=i+r.size;if(i==s?t<=s&&e>=i:t<s&&e>i){var a=i+r.border,c=s-r.border;if(t>=a&&e<=c)return n.dirty=t==i||e==s?q:U,void(t==a&&e==c&&r.contentLost?r.dirty=G:r.markDirty(t-a,e-a));r.dirty=G}i=s}this.dirty=q},X.prototype.markParentsDirty=function(){for(var t=1,e=this.parent;e;e=e.parent){var n=1==t?q:U;e.dirty<n&&(e.dirty=n)}},Object.defineProperties(X.prototype,Y);var Q=[],tt=function(t){function e(e,n,i,o){var r,s=n.type.toDOM;if("function"==typeof s&&(s=s(i,function(){return r?r.parent?r.parent.posBeforeChild(r):void 0:o})),!n.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add("ProseMirror-widget")}t.call(this,e,Q,s,null),this.widget=n,r=this}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={beforePosition:{}};return n.beforePosition.get=function(){return this.widget.type.side<0},e.prototype.matchesWidget=function(t){return this.dirty==J&&t.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(t){var e=this.widget.spec.stopEvent;return!!e&&e(t)},Object.defineProperties(e.prototype,n),e}(X),et=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseRule=function(){return{skip:Tt(this.dom)}},e.prototype.ignoreMutation=function(){return!1},e}(tt),nt=function(t){function e(e,n,i,o){t.call(this,e,Q,n,null),this.textDOM=i,this.text=o}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{}};return n.size.get=function(){return this.text.length},e.prototype.parseRule=function(){return{skip:Tt(this.dom)}},e.prototype.localPosFromDOM=function(t,e){if(t!=this.textDOM)return this.posAtStart+(e?this.size:0);var n=this.textDOM.nodeValue.indexOf("\ufeff");return this.posAtStart+e-(n>-1&&n<e?1:0)},e.prototype.domFromPos=function(t){var e=this.textDOM.nodeValue.indexOf("\ufeff");return{node:this.textDOM,offset:t+(e>-1&&e<=t?1:0)}},e.prototype.ignoreMutation=function(){return!1},Object.defineProperties(e.prototype,n),e}(X),it=function(t){function e(e,n,i,o){t.call(this,e,[],i,o),this.mark=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t,n,o,r){var s=r.nodeViews[n.type.name],a=s&&s(n,r,o);return a&&a.dom||(a=i.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n,o))),new e(t,n,a.dom,a.contentDOM||a.dom)},e.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(t){return this.dirty!=G&&this.mark.eq(t)},e.prototype.markDirty=function(e,n){if(t.prototype.markDirty.call(this,e,n),this.dirty!=J){var i=this.parent;while(!i.node)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=J}},e.prototype.slice=function(t,n,i){var o=e.create(this.parent,this.mark,!0,i),r=this.children,s=this.size;n<s&&(r=Ct(r,n,s,i)),t>0&&(r=Ct(r,0,t,i));for(var a=0;a<r.length;a++)r[a].parent=o;return o.children=r,o},e}(X),ot=function(t){function e(e,n,i,o,r,s,a,c,l){t.call(this,e,n.isLeaf?Q:[],r,s),this.nodeDOM=a,this.node=n,this.outerDeco=i,this.innerDeco=o,s&&this.updateChildren(c,l)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{},border:{}};return e.create=function(t,n,o,r,s,a){var c,l=s.nodeViews[n.type.name],h=l&&l(n,s,function(){return c?c.parent?c.parent.posBeforeChild(c):void 0:a},o),u=h&&h.dom,d=h&&h.contentDOM;if(n.isText)if(u){if(3!=u.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else u=document.createTextNode(n.text);else if(!u){var p;p=i.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n)),u=p.dom,d=p.contentDOM}d||n.isText||"BR"==u.nodeName||(u.hasAttribute("contenteditable")||(u.contentEditable=!1),n.type.spec.draggable&&(u.draggable=!0));var f=u;return u=mt(u,o,n),h?c=new ct(t,n,o,r,u,d,f,h,s,a+1):n.isText?new st(t,n,o,r,u,f,s):new e(t,n,o,r,u,d,f,s,a+1)},e.prototype.parseRule=function(){var t=this;if(this.node.type.spec.reparseInView)return null;var e={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(e.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?e.contentElement=this.contentDOM:e.getContent=function(){return t.contentDOM?i.Fragment.empty:t.node.content},e},e.prototype.matchesNode=function(t,e,n){return this.dirty==J&&t.eq(this.node)&&vt(e,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(t,e){var n=this,o=this.node.inlineContent,r=e,s=o&&t.composing&&this.localCompositionNode(t,e),a=new yt(this,s&&s.node);wt(this.node,this.innerDeco,function(e,s){e.spec.marks?a.syncToMarks(e.spec.marks,o,t):e.type.side>=0&&a.syncToMarks(s==n.node.childCount?i.Mark.none:n.node.child(s).marks,o,t),a.placeWidget(e,t,r)},function(e,n,i,s){a.syncToMarks(e.marks,o,t),a.findNodeMatch(e,n,i,s)||a.updateNextNode(e,n,i,t,s)||a.addNode(e,n,i,t,r),r+=e.nodeSize}),a.syncToMarks(Q,o,t),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==q)&&(s&&this.protectLocalComposition(t,s),this.renderChildren())},e.prototype.renderChildren=function(){lt(this.contentDOM,this.children,e.is),s.ios&&xt(this.dom)},e.prototype.localCompositionNode=function(t,e){var n=t.state.selection,i=n.from,r=n.to;if(!(!(t.state.selection instanceof o.TextSelection)||i<e||r>e+this.node.content.size)){var s=t.root.getSelection(),a=St(s.focusNode,s.focusOffset);if(a&&this.dom.contains(a.parentNode)){var c=a.nodeValue.replace(/\ufeff/g,""),l=kt(this.node.content,c,i-e,r-e);return l<0?null:{node:a,pos:l,text:c}}}},e.prototype.protectLocalComposition=function(t,e){var n=this,i=e.node,o=e.pos,r=e.text;if(!this.getDesc(i)){for(var s=i;;s=s.parentNode){if(s.parentNode==n.contentDOM)break;while(s.previousSibling)s.parentNode.removeChild(s.previousSibling);while(s.nextSibling)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=null)}var a=new nt(this,s,i,r);t.compositionNodes.push(a),this.children=Ct(this.children,o,o+r.length,t,a)}},e.prototype.update=function(t,e,n,i){return!(this.dirty==G||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,i),!0)},e.prototype.updateInner=function(t,e,n,i){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=J},e.prototype.updateOuterDeco=function(t){if(!vt(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=pt(this.dom,this.nodeDOM,dt(this.outerDeco,this.node,e),dt(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=t}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!1)},Object.defineProperties(e.prototype,n),e}(X);function rt(t,e,n,i,o){return mt(i,e,t),new ot(null,t,e,n,i,i,i,o,0)}var st=function(t){function e(e,n,i,o,r,s,a){t.call(this,e,n,i,o,r,null,s,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseRule=function(){var t=this.nodeDOM.parentNode;return t?{skip:t}:{ignore:!0}},e.prototype.update=function(t,e){return!(this.dirty==G||this.dirty!=J&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),this.dirty==J&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text),this.node=t,this.dirty=J,!0)},e.prototype.inParent=function(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1},e.prototype.domFromPos=function(t){return{node:this.nodeDOM,offset:t}},e.prototype.localPosFromDOM=function(e,n,i){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):t.prototype.localPosFromDOM.call(this,e,n,i)},e.prototype.ignoreMutation=function(t){return"characterData"!=t.type},e.prototype.slice=function(t,n,i){var o=this.node.cut(t,n),r=document.createTextNode(o.text);return new e(this.parent,o,this.outerDeco,this.innerDeco,r,r,i)},e}(ot),at=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(){return this.dirty==J},e}(X),ct=function(t){function e(e,n,i,o,r,s,a,c,l,h){t.call(this,e,n,i,o,r,s,a,l,h),this.spec=c}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(e,n,i,o){if(this.dirty==G)return!1;if(this.spec.update){var r=this.spec.update(e,n);return r&&this.updateInner(e,n,i,o),r}return!(!this.contentDOM&&!e.isLeaf)&&t.prototype.update.call(this,e,n,i,o)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(e,n,i,o){this.spec.setSelection?this.spec.setSelection(e,n,i):t.prototype.setSelection.call(this,e,n,i,o)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)},e.prototype.ignoreMutation=function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):t.prototype.ignoreMutation.call(this,e)},e}(ot);function lt(t,e){for(var n=t.firstChild,i=0;i<e.length;i++){var o=e[i],r=o.dom;if(r.parentNode==t){while(r!=n)n=gt(n);n=n.nextSibling}else t.insertBefore(r,n);if(o instanceof it){var s=n?n.previousSibling:t.lastChild;lt(o.contentDOM,o.children),n=s?s.nextSibling:t.firstChild}}while(n)n=gt(n)}function ht(t){t&&(this.nodeName=t)}ht.prototype=Object.create(null);var ut=[new ht];function dt(t,e,n){if(0==t.length)return ut;for(var i=n?ut[0]:new ht,o=[i],r=0;r<t.length;r++){var s=t[r].type.attrs,a=i;if(s)for(var c in s.nodeName&&o.push(a=new ht(s.nodeName)),s){var l=s[c];null!=l&&(n&&1==o.length&&o.push(a=i=new ht(e.isInline?"span":"div")),"class"==c?a.class=(a.class?a.class+" ":"")+l:"style"==c?a.style=(a.style?a.style+";":"")+l:"nodeName"!=c&&(a[c]=l))}}return o}function pt(t,e,n,i){if(n==ut&&i==ut)return e;for(var o=e,r=0;r<i.length;r++){var s=i[r],a=n[r];if(r){var c=void 0;a&&a.nodeName==s.nodeName&&o!=t&&(c=e.parentNode)&&c.tagName.toLowerCase()==s.nodeName?o=c:(c=document.createElement(s.nodeName),c.appendChild(o),o=c)}ft(o,a||ut[0],s)}return o}function ft(t,e,n){for(var i in e)"class"==i||"style"==i||"nodeName"==i||i in n||t.removeAttribute(i);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=e[o]&&t.setAttribute(o,n[o]);if(e.class!=n.class){for(var r=e.class?e.class.split(" "):Q,s=n.class?n.class.split(" "):Q,a=0;a<r.length;a++)-1==s.indexOf(r[a])&&t.classList.remove(r[a]);for(var c=0;c<s.length;c++)-1==r.indexOf(s[c])&&t.classList.add(s[c])}if(e.style!=n.style){if(e.style){var l,h=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;while(l=h.exec(e.style))t.style[l[1].toLowerCase()]=""}n.style&&(t.style.cssText+=n.style)}}function mt(t,e,n){return pt(t,t,ut,dt(e,n,1!=t.nodeType))}function vt(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function gt(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}var yt=function(t,e){this.top=t,this.lock=e,this.index=0,this.stack=[],this.changed=!1;var n=_t(t.node.content,t.children);this.preMatched=n.nodes,this.preMatchOffset=n.offset};function _t(t,e){for(var n=[],i=t.childCount,o=e.length-1;i>0&&o>=0;o--){var r=e[o],s=r.node;if(s){if(s!=t.child(i-1))break;n.push(r),--i}}return{nodes:n.reverse(),offset:i}}function bt(t,e){return t.type.side-e.type.side}function wt(t,e,n,i){var o=e.locals(t),r=0;if(0!=o.length)for(var s=0,a=[],c=null,l=0;;){if(s<o.length&&o[s].to==r){var h=o[s++],u=void 0;while(s<o.length&&o[s].to==r)(u||(u=[h])).push(o[s++]);if(u){u.sort(bt);for(var d=0;d<u.length;d++)n(u[d],l)}else n(h,l)}var p=void 0,f=void 0;if(c)f=-1,p=c,c=null;else{if(!(l<t.childCount))break;f=l,p=t.child(l++)}for(var m=0;m<a.length;m++)a[m].to<=r&&a.splice(m--,1);while(s<o.length&&o[s].from==r)a.push(o[s++]);var v=r+p.nodeSize;if(p.isText){var g=v;s<o.length&&o[s].from<g&&(g=o[s].from);for(var y=0;y<a.length;y++)a[y].to<g&&(g=a[y].to);g<v&&(c=p.cut(g-r),p=p.cut(0,g-r),v=g,f=-1)}i(p,a.length?a.slice():Q,e.forChild(r,p),f),r=v}else for(var _=0;_<t.childCount;_++){var b=t.child(_);i(b,o,e.forChild(r,b),_),r+=b.nodeSize}}function xt(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function St(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0)t=t.childNodes[e-1],e=y(t);else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}function kt(t,e,n,i){for(var o="",r=0,s=0;r<t.childCount;r++){var a=t.child(r),c=s+a.nodeSize;if(a.isText){if(o+=a.text,c>=i){var l=c-o.length,h=o.lastIndexOf(e);while(h>-1&&l+h>n)h=o.lastIndexOf(e,h-1);if(h>-1&&l+h+e.length>=i)return l+h;if(c>i-e.length)break}}else o="";s=c}return-1}function Ct(t,e,n,i,o){for(var r=[],s=0,a=0;s<t.length;s++){var c=t[s],l=a,h=a+=c.size;l>=n||h<=e?r.push(c):(l<e&&r.push(c.slice(0,e-l,i)),o&&(r.push(o),o=null),h>n&&r.push(c.slice(n-l,c.size,i)))}return r}function Tt(t){var e=t.cloneNode(!0);function n(t){if(1==t.nodeType)for(var e=t.firstChild;e;e=e.nextSibling)n(e);else 3==t.nodeType&&(t.nodeValue=t.nodeValue.replace(/\ufeff/g,""))}return n(e),e}function Mt(t,e){var n=t.selection,i=n.$anchor,r=n.$head,s=e>0?i.max(r):i.min(r),a=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return a&&o.Selection.findFrom(a,e)}function Ot(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Pt(t,e,n){var i=t.state.selection;if(i instanceof o.TextSelection){if(!i.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var r=Mt(t.state,e);return!!(r&&r instanceof o.NodeSelection)&&Ot(t,r)}var a,c=i.$head,l=c.textOffset?null:e<0?c.nodeBefore:c.nodeAfter;if(!l||l.isText)return!1;var h=e<0?c.pos-l.nodeSize:c.pos;return!!(l.isAtom||(a=t.docView.descAt(h))&&!a.contentDOM)&&(o.NodeSelection.isSelectable(l)?Ot(t,new o.NodeSelection(e<0?t.state.doc.resolve(c.pos-l.nodeSize):c)):!!s.webkit&&Ot(t,new o.TextSelection(t.state.doc.resolve(e<0?h:h+l.nodeSize))))}if(i instanceof o.NodeSelection&&i.node.isInline)return Ot(t,new o.TextSelection(e>0?i.$to:i.$from));var u=Mt(t.state,e);return!!u&&Ot(t,u)}function At(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function zt(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function Lt(t){var e=t.root.getSelection(),n=e.focusNode,i=e.focusOffset;if(n){var o,r,a=!1;for(s.gecko&&1==n.nodeType&&i<At(n)&&zt(n.childNodes[i])&&(a=!0);;)if(i>0)if(1!=n.nodeType){if(3!=n.nodeType||"\ufeff"!=n.nodeValue.charAt(i-1))break;s.ie&&s.ie_version<=11&&(a=!0),o=n,r=--i}else{var c=n.childNodes[i-1];if(zt(c))o=n,r=--i;else{if(3!=c.nodeType)break;n=c,i=n.nodeValue.length}}else{if(Nt(n))break;var l=n.previousSibling;while(l&&zt(l))o=n.parentNode,r=d(l),l=l.previousSibling;if(l)n=l,i=At(n);else{if(n=n.parentNode,n==t.dom)break;i=0}}a?Rt(t,e,n,i):o&&Rt(t,e,o,r)}}function Et(t){var e=t.root.getSelection(),n=e.focusNode,i=e.focusOffset;if(n){for(var o,r,s=At(n);;)if(i<s){if(1!=n.nodeType)break;var a=n.childNodes[i];if(!zt(a))break;o=n,r=++i}else{if(Nt(n))break;var c=n.nextSibling;while(c&&zt(c))o=c.parentNode,r=d(c)+1,c=c.nextSibling;if(c)n=c,i=0,s=At(n);else{if(n=n.parentNode,n==t.dom)break;i=s=0}}o&&Rt(t,e,o,r)}}function Nt(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Rt(t,e,n,i){if(b(e)){var o=document.createRange();o.setEnd(n,i),o.setStart(n,i),e.removeAllRanges(),e.addRange(o)}else e.extend&&e.extend(n,i);t.domObserver.setCurSelection()}function Dt(t,e,n){var i=t.state.selection;if(i instanceof o.TextSelection&&!i.empty||n.indexOf("s")>-1)return!1;var r=i.$from,s=i.$to;if(!r.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var a=Mt(t.state,e);if(a&&a instanceof o.NodeSelection)return Ot(t,a)}if(!r.parent.inlineContent){var c=o.Selection.findFrom(e<0?r:s,e);return!c||Ot(t,c)}return!1}function Bt(t,e){if(!(t.state.selection instanceof o.TextSelection))return!0;var n=t.state.selection,i=n.$head,r=n.$anchor,s=n.empty;if(!i.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var a=!i.textOffset&&(e<0?i.nodeBefore:i.nodeAfter);if(a&&!a.isText){var c=t.state.tr;return e<0?c.delete(i.pos-a.nodeSize,i.pos):c.delete(i.pos,i.pos+a.nodeSize),t.dispatch(c),!0}return!1}function It(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function $t(t){if(s.chrome&&!(t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),n=e.focusNode,i=e.focusOffset;if(n&&1==n.nodeType&&0==i&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;It(t,o,!0),setTimeout(function(){return It(t,o,!1)},20)}}}function jt(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Zt(t,e){var n=e.keyCode,i=jt(e);return 8==n||s.mac&&72==n&&"c"==i?Bt(t,-1)||Lt(t):46==n||s.mac&&68==n&&"c"==i?Bt(t,1)||Et(t):13==n||27==n||(37==n?Pt(t,-1,i)||Lt(t):39==n?Pt(t,1,i)||Et(t):38==n?Dt(t,-1,i)||Lt(t):40==n?$t(t)||Dt(t,1,i)||Et(t):i==(s.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function Ft(t,e){var n,i,r=t.root.getSelection(),s=t.state.doc,a=t.docView.nearestDesc(r.focusNode),c=a&&0==a.size,l=t.docView.posFromDOM(r.focusNode,r.focusOffset),h=s.resolve(l);if(b(r)){n=h;while(a&&!a.node)a=a.parent;if(a&&a.node.isAtom&&o.NodeSelection.isSelectable(a.node)&&a.parent){var u=a.posBefore;i=new o.NodeSelection(l==u?h:s.resolve(u))}}else n=s.resolve(t.docView.posFromDOM(r.anchorNode,r.anchorOffset));if(!i){var d="pointer"==e||t.state.selection.head<h.pos&&!c?1:-1;i=Gt(t,n,h,d)}return i}function Vt(t,e,n){var i=t.state.selection;if(Ut(t,i),t.editable&&!t.hasFocus()){if(!e)return;s.gecko&&s.gecko_version<=55&&(t.domObserver.disconnectSelection(),t.dom.focus(),t.domObserver.connectSelection())}else if(!t.editable&&!Yt(t)&&!e)return;if(t.domObserver.disconnectSelection(),t.cursorWrapper)Jt(t);else{var r,a,c=i.anchor,l=i.head;!Wt||i instanceof o.TextSelection||(i.$from.parent.inlineContent||(r=Kt(t,i.from)),i.empty||i.$from.parent.inlineContent||(a=Kt(t,i.to))),t.docView.setSelection(c,l,t.root,n),Wt&&(r&&(r.contentEditable="false"),a&&(a.contentEditable="false")),i.visible?t.dom.classList.remove("ProseMirror-hideselection"):c!=l&&(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Ht(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}yt.prototype.getPreMatch=function(t){return t>=this.preMatchOffset?this.preMatched[t-this.preMatchOffset]:null},yt.prototype.destroyBetween=function(t,e){var n=this;if(t!=e){for(var i=t;i<e;i++)n.top.children[i].destroy();this.top.children.splice(t,e-t),this.changed=!0}},yt.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},yt.prototype.syncToMarks=function(t,e,n){var i=this,o=0,r=this.stack.length>>1,s=Math.min(r,t.length);while(o<s&&(o==r-1?this.top:this.stack[o+1<<1]).matchesMark(t[o])&&!1!==t[o].type.spec.spanning)o++;while(o<r)i.destroyRest(),i.top.dirty=J,i.index=i.stack.pop(),i.top=i.stack.pop(),r--;while(r<t.length){i.stack.push(i.top,i.index+1);for(var a=-1,c=this.index;c<Math.min(this.index+3,this.top.children.length);c++)if(i.top.children[c].matchesMark(t[r])){a=c;break}if(a>-1)a>i.index&&(i.changed=!0,i.top.children.splice(i.index,a-i.index)),i.top=i.top.children[i.index];else{var l=it.create(i.top,t[r],e,n);i.top.children.splice(i.index,0,l),i.top=l,i.changed=!0}i.index=0,r++}},yt.prototype.findNodeMatch=function(t,e,n,i){var o=this,r=-1,s=i<0?void 0:this.getPreMatch(i),a=this.top.children;if(s&&s.matchesNode(t,e,n))r=a.indexOf(s);else for(var c=this.index,l=Math.min(a.length,c+5);c<l;c++){var h=a[c];if(h.matchesNode(t,e,n)&&o.preMatched.indexOf(h)<0){r=c;break}}return!(r<0)&&(this.destroyBetween(this.index,r),this.index++,!0)},yt.prototype.updateNextNode=function(t,e,n,i,o){if(this.index==this.top.children.length)return!1;var r=this.top.children[this.index];if(r instanceof ot){var s=this.preMatched.indexOf(r);if(s>-1&&s+this.preMatchOffset!=o)return!1;var a=r.dom,c=this.lock&&(a==this.lock||1==a.nodeType&&a.contains(this.lock.parentNode))&&!(t.isText&&r.node&&r.node.isText&&r.nodeDOM.nodeValue==t.text&&r.dirty!=G&&vt(e,r.outerDeco));if(!c&&r.update(t,e,n,i))return r.dom!=a&&(this.changed=!0),this.index++,!0}return!1},yt.prototype.addNode=function(t,e,n,i,o){this.top.children.splice(this.index++,0,ot.create(this.top,t,e,n,i,o)),this.changed=!0},yt.prototype.placeWidget=function(t,e,n){if(this.index<this.top.children.length&&this.top.children[this.index].matchesWidget(t))this.index++;else{var i=new(t.spec.isCursorWrapper?et:tt)(this.top,t,e,n);this.top.children.splice(this.index++,0,i),this.changed=!0}},yt.prototype.placeComposition=function(t,e){this.syncToMarks(Q,!0,t),this.top.children[this.index]==e?this.index++:(this.top.children.splice(this.index++,0,e),this.changed=!0)},yt.prototype.addTextblockHacks=function(){var t=this.top.children[this.index-1];while(t instanceof it)t=t.children[t.children.length-1];if(!t||!(t instanceof st)||/\n$/.test(t.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var e=document.createElement("br");this.top.children.splice(this.index++,0,new at(this.top,Q,e,null)),this.changed=!0}};var Wt=s.safari||s.chrome&&s.chrome_version<63;function Kt(t,e){var n=t.docView.domFromPos(e),i=n.node,o=n.offset,r=o<i.childNodes.length?i.childNodes[o]:null,s=o?i.childNodes[o-1]:null;if((!r||"false"==r.contentEditable)&&(!s||"false"==s.contentEditable)){if(r)return r.contentEditable="true",r;if(s)return s.contentEditable="true",s}}function Ht(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var n=t.root.getSelection(),i=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){n.anchorNode==i&&n.anchorOffset==o||(e.removeEventListener("selectionchange",t.hideSelectionGuard),t.dom.classList.remove("ProseMirror-hideselection"))})}function Jt(t){var e=t.root.getSelection(),n=document.createRange(),i=t.cursorWrapper.dom;n.setEnd(i,i.childNodes.length),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!t.state.selection.visible&&s.ie&&s.ie_version<=11&&(i.disabled=!0,i.disabled=!1)}function Ut(t,e){if(e instanceof o.NodeSelection){var n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(qt(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else qt(t)}function qt(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function Gt(t,e,n,i){return t.someProp("createSelectionBetween",function(i){return i(t,e,n)})||o.TextSelection.between(e,n,i)}function Xt(t){return(!t.editable||t.root.activeElement==t.dom)&&Yt(t)}function Yt(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(n){return!1}}function Qt(t){return!1===t.type.spec.inclusive}function te(t){var e=t.selection,n=e.$head,i=e.$anchor,o=e.visible,r=n.pos!=i.pos||o&&!n.parent.inlineContent?null:n;return r&&(!o||t.storedMarks||0==r.parent.content.length||r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.some(Qt))?r:null}function ee(t){var e=t.docView.domFromPos(t.state.selection.anchor),n=t.root.getSelection();return m(e.node,e.offset,n.anchorNode,n.anchorOffset)}function ne(t,e,n){var o=t.docView.parseRange(e,n),r=o.node,a=o.fromOffset,c=o.toOffset,l=o.from,h=o.to,u=t.root.getSelection(),d=null,p=u.anchorNode;if(p&&t.dom.contains(1==p.nodeType?p:p.parentNode)&&(d=[{node:p,offset:u.anchorOffset}],b(u)||d.push({node:u.focusNode,offset:u.focusOffset})),s.chrome&&8===t.lastKeyCode)for(var f=c;f>a;f--){var m=r.childNodes[f-1],v=m.pmViewDesc;if("BR"==m.nodeType&&!v){c=f;break}if(!v||v.size)break}var g=t.state.doc,y=t.someProp("domParser")||i.DOMParser.fromSchema(t.state.schema),_=g.resolve(l),w=null,x=y.parse(r,{topNode:_.parent,topMatch:_.parent.contentMatchAt(_.index()),topOpen:!0,from:a,to:c,preserveWhitespace:!_.parent.type.spec.code||"full",editableContent:!0,findPositions:d,ruleFromNode:ie(y,_),context:_});if(d&&null!=d[0].pos){var S=d[0].pos,k=d[1]&&d[1].pos;null==k&&(k=S),w={anchor:S+l,head:k+l}}return{doc:x,sel:w,from:l,to:h}}function ie(t,e){return function(n){var i=n.pmViewDesc;if(i)return i.parseRule();if("BR"==n.nodeName&&n.parentNode){if(s.safari&&/^(ul|ol)$/i.test(n.parentNode.nodeName))return t.matchTag(document.createElement("li"),e);if(n.parentNode.lastChild==n||s.safari&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}}}function oe(t,e,n,i){if(e<0){var r=t.lastSelectionTime>Date.now()-50?t.lastSelectionOrigin:null,a=Ft(t,r);if(!t.state.selection.eq(a)){var c=t.state.tr.setSelection(a);"pointer"==r?c.setMeta("pointer",!0):"key"==r&&c.scrollIntoView(),t.dispatch(c)}}else{var l=t.state.doc.resolve(e),h=l.sharedDepth(n);e=l.before(h+1),n=t.state.doc.resolve(n).after(h+1);var u,d,p=t.state.selection,f=ne(t,e,n),m=t.state.doc,v=m.slice(f.from,f.to);8===t.lastKeyCode&&Date.now()-100<t.lastKeyCodeTime?(u=t.state.selection.to,d="end"):(u=t.state.selection.from,d="start"),t.lastKeyCode=null;var g=le(v.content,f.doc.content,f.from,u,d);if(g){t.domChangeCount++,t.state.selection.from<t.state.selection.to&&g.start==g.endB&&t.state.selection instanceof o.TextSelection&&(g.start>t.state.selection.from&&g.start<=t.state.selection.from+2?g.start=t.state.selection.from:g.endA<t.state.selection.to&&g.endA>=t.state.selection.to-2&&(g.endB+=t.state.selection.to-g.endA,g.endA=t.state.selection.to));var y,_=f.doc.resolveNoCache(g.start-f.from),b=f.doc.resolveNoCache(g.endB-f.from);if(!(!_.sameParent(b)&&_.pos<f.doc.content.size&&(y=o.Selection.findFrom(f.doc.resolve(_.pos+1),1,!0))&&y.head==b.pos&&t.someProp("handleKeyDown",function(e){return e(t,w(13,"Enter"))})))if(t.state.selection.anchor>g.start&&ae(m,g.start,g.endA,_,b)&&t.someProp("handleKeyDown",function(e){return e(t,w(8,"Backspace"))}))s.android&&s.chrome&&t.domObserver.suppressSelectionUpdates();else{var x,S,k,C,T=g.start,M=g.endA;if(_.sameParent(b)&&_.parent.inlineContent)if(_.pos==b.pos)s.ie&&s.ie_version<=11&&0==_.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout(function(){return Vt(t)},20)),x=t.state.tr.delete(T,M),S=m.resolve(g.start).marksAcross(m.resolve(g.endA));else if(g.endA==g.endB&&(C=m.resolve(g.start))&&(k=se(_.parent.content.cut(_.parentOffset,b.parentOffset),C.parent.content.cut(C.parentOffset,g.endA-C.start()))))x=t.state.tr,"add"==k.type?x.addMark(T,M,k.mark):x.removeMark(T,M,k.mark);else if(_.parent.child(_.index()).isText&&_.index()==b.index()-(b.textOffset?0:1)){var O=_.parent.textBetween(_.parentOffset,b.parentOffset);if(t.someProp("handleTextInput",function(e){return e(t,T,M,O)}))return;x=t.state.tr.insertText(O,T,M)}if(x||(x=t.state.tr.replace(T,M,f.doc.slice(g.start-f.from,g.endB-f.from))),f.sel){var P=re(t,x.doc,f.sel);P&&x.setSelection(P)}S&&x.ensureMarks(S),t.dispatch(x.scrollIntoView())}}else if(!(i&&p instanceof o.TextSelection&&!p.empty&&p.$head.sameParent(p.$anchor))||t.composing||f.sel&&f.sel.anchor!=f.sel.head){if(f.sel){var A=re(t,t.state.doc,f.sel);A&&!A.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(A))}}else{var z=t.state,L=z.selection;t.dispatch(z.tr.replaceSelectionWith(z.schema.text(z.doc.textBetween(L.from,L.to)),!0).scrollIntoView())}}}function re(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Gt(t,e.resolve(n.anchor),e.resolve(n.head))}function se(t,e){for(var n,o,r,s=t.firstChild.marks,a=e.firstChild.marks,c=s,l=a,h=0;h<a.length;h++)c=a[h].removeFromSet(c);for(var u=0;u<s.length;u++)l=s[u].removeFromSet(l);if(1==c.length&&0==l.length)o=c[0],n="add",r=function(t){return t.mark(o.addToSet(t.marks))};else{if(0!=c.length||1!=l.length)return null;o=l[0],n="remove",r=function(t){return t.mark(o.removeFromSet(t.marks))}}for(var d=[],p=0;p<e.childCount;p++)d.push(r(e.child(p)));if(i.Fragment.from(d).eq(t))return{mark:o,type:n}}function ae(t,e,n,i,o){if(!i.parent.isTextblock||n-e<=o.pos-i.pos||ce(i,!0,!1)<o.pos)return!1;var r=t.resolve(e);if(r.parentOffset<r.parent.content.size||!r.parent.isTextblock)return!1;var s=t.resolve(ce(r,!0,!0));return!(!s.parent.isTextblock||s.pos>n||ce(s,!0,!1)<n)&&i.parent.content.cut(i.parentOffset).eq(s.parent.content)}function ce(t,e,n){var i=t.depth,o=e?t.end():t.pos;while(i>0&&(e||t.indexAfter(i)==t.node(i).childCount))i--,o++,e=!1;if(n){var r=t.node(i).maybeChild(t.indexAfter(i));while(r&&!r.isLeaf)r=r.firstChild,o++}return o}function le(t,e,n,i,o){var r=t.findDiffStart(e,n);if(null==r)return null;var s=t.findDiffEnd(e,n+t.size,n+e.size),a=s.a,c=s.b;if("end"==o){var l=Math.max(0,r-Math.min(a,c));i-=a+l-r}if(a<r&&t.size<e.size){var h=i<=r&&i>=a?r-i:0;r-=h,c=r+(c-a),a=r}else if(c<r){var u=i<=r&&i>=c?r-i:0;r-=u,a=r+(a-c),c=r}return{start:r,endA:a,endB:c}}function he(t,e){var n=[],o=e.content,r=e.openStart,s=e.openEnd;while(r>1&&s>1&&1==o.childCount&&1==o.firstChild.childCount){r--,s--;var a=o.firstChild;n.push(a.type.name,a.type.hasRequiredAttrs()?a.attrs:null),o=a.content}var c=t.someProp("clipboardSerializer")||i.DOMSerializer.fromSchema(t.state.schema),l=document.createElement("div");l.appendChild(c.serializeFragment(o));var h,u=l.firstChild;while(u&&1==u.nodeType&&(h=ve[u.nodeName.toLowerCase()])){for(var d=h.length-1;d>=0;d--){var p=document.createElement(h[d]);while(l.firstChild)p.appendChild(l.firstChild);l.appendChild(p)}u=l.firstChild}u&&1==u.nodeType&&u.setAttribute("data-pm-slice",r+" "+s+" "+JSON.stringify(n));var f=t.someProp("clipboardTextSerializer",function(t){return t(e)})||e.content.textBetween(0,e.content.size,"\n\n");return{dom:l,text:f}}function ue(t,e,n,o,r){var s,a,c=r.parent.type.spec.code;if(!n&&!e)return null;var l=e&&(o||c||!n);if(l){if(t.someProp("transformPastedText",function(t){e=t(e)}),c)return new i.Slice(i.Fragment.from(t.state.schema.text(e)),0,0);var h=t.someProp("clipboardTextParser",function(t){return t(e,r)});h?a=h:(s=document.createElement("div"),e.trim().split(/(?:\r\n?|\n)+/).forEach(function(t){s.appendChild(document.createElement("p")).textContent=t}))}else t.someProp("transformPastedHTML",function(t){n=t(n)}),s=ye(n);var u=s&&s.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+) (.*)/.exec(u.getAttribute("data-pm-slice"));if(!a){var p=t.someProp("clipboardParser")||t.someProp("domParser")||i.DOMParser.fromSchema(t.state.schema);a=p.parseSlice(s,{preserveWhitespace:!(!l&&!d),context:r})}return a=d?_e(new i.Slice(a.content,Math.min(a.openStart,+d[1]),Math.min(a.openEnd,+d[2])),d[3]):i.Slice.maxOpen(de(a.content,r),!1),t.someProp("transformPasted",function(t){a=t(a)}),a}function de(t,e){if(t.childCount<2)return t;for(var n=function(n){var o=e.node(n),r=o.contentMatchAt(e.index(n)),s=void 0,a=[];if(t.forEach(function(t){if(a){var e,n=r.findWrapping(t.type);if(!n)return a=null;if(e=a.length&&s.length&&fe(n,s,t,a[a.length-1],0))a[a.length-1]=e;else{a.length&&(a[a.length-1]=me(a[a.length-1],s.length));var i=pe(t,n);a.push(i),r=r.matchType(i.type,i.attrs),s=n}}}),a)return{v:i.Fragment.from(a)}},o=e.depth;o>=0;o--){var r=n(o);if(r)return r.v}return t}function pe(t,e,n){void 0===n&&(n=0);for(var o=e.length-1;o>=n;o--)t=e[o].create(null,i.Fragment.from(t));return t}function fe(t,e,n,o,r){if(r<t.length&&r<e.length&&t[r]==e[r]){var s=fe(t,e,n,o.lastChild,r+1);if(s)return o.copy(o.content.replaceChild(o.childCount-1,s));var a=o.contentMatchAt(o.childCount);if(a.matchType(r==t.length-1?n.type:t[r+1]))return o.copy(o.content.append(i.Fragment.from(pe(n,t,r+1))))}}function me(t,e){if(0==e)return t;var n=t.content.replaceChild(t.childCount-1,me(t.lastChild,e-1)),o=t.contentMatchAt(t.childCount).fillBefore(i.Fragment.empty,!0);return t.copy(n.append(o))}var ve={thead:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},ge=null;function ye(t){var e=/(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var n,i=ge||(ge=document.implementation.createHTMLDocument("title")),o=i.createElement("div"),r=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(t),s=0;(n=r&&ve[r[1].toLowerCase()])&&(t=n.map(function(t){return"<"+t+">"}).join("")+t+n.map(function(t){return"</"+t+">"}).reverse().join(""),s=n.length),o.innerHTML=t;for(var a=0;a<s;a++)o=o.firstChild;return o}function _e(t,e){if(!t.size)return t;var n,o=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(h){return t}for(var r=t.content,s=t.openStart,a=t.openEnd,c=n.length-2;c>=0;c-=2){var l=o.nodes[n[c]];if(!l||l.hasRequiredAttrs())break;r=i.Fragment.from(l.create(n[c+1],r)),s++,a++}return new i.Slice(r,s,a)}var be={childList:!0,characterData:!0,attributes:!0,subtree:!0,characterDataOldValue:!0},we=s.ie&&s.ie_version<=11,xe=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};xe.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset},xe.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var Se=function(t,e){var n=this;this.view=t,this.handleDOMChange=e,this.observer=window.MutationObserver&&new window.MutationObserver(function(t){return n.flush(t)}),this.currentSelection=new xe,this.queue=[],we&&(this.onCharData=function(t){n.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),window.setTimeout(function(){return n.flush()},20)}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Se.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,be),we&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},Se.prototype.stop=function(){var t=this,e=this.observer.takeRecords();if(e.length){for(var n=0;n<e.length;n++)t.queue.push(e[n]);window.setTimeout(function(){return t.flush()},20)}this.observer&&this.observer.disconnect(),we&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},Se.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},Se.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},Se.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return t.suppressingSelectionUpdates=!1},50)},Se.prototype.onSelectionChange=function(){if(Xt(this.view))return this.suppressingSelectionUpdates?Vt(this.view):void this.flush()},Se.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Se.prototype.flush=function(t){var e=this;if(this.view.docView){t||(t=this.observer.takeRecords()),this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var n=this.view.root.getSelection(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Yt(this.view),o=-1,r=-1,s=!1;if(this.view.editable)for(var a=0;a<t.length;a++){var c=e.registerMutation(t[a]);c&&(o=o<0?c.from:Math.min(c.from,o),r=r<0?c.to:Math.max(c.to,r),c.typeOver&&(s=!0))}(o>-1||i)&&(o>-1&&this.view.docView.markDirty(o,r),this.handleDOMChange(o,r,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(n)||Vt(this.view))}},Se.prototype.registerMutation=function(t){var e=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(e==this.view.docView||"contenteditable"==t.attributeName))return null;if(!e||e.ignoreMutation(t))return null;if("childList"==t.type){var n=t.previousSibling&&t.previousSibling.parentNode==t.target?d(t.previousSibling)+1:0,i=e.localPosFromDOM(t.target,n,-1),o=t.nextSibling&&t.nextSibling.parentNode==t.target?d(t.nextSibling):t.target.childNodes.length,r=e.localPosFromDOM(t.target,o,1);return{from:i,to:r}}return"attributes"==t.type?{from:e.posAtStart-e.border,to:e.posAtEnd+e.border}:{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var ke={},Ce={};function Te(t){t.shiftKey=!1,t.mouseDown=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.lastSelectionOrigin=null,t.lastSelectionTime=0,t.composing=!1,t.composingTimeout=null,t.compositionNodes=[],t.compositionEndedAt=-2e8,t.domObserver=new Se(t,function(e,n,i){return oe(t,e,n,i)}),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var e=function(e){var n=ke[e];t.dom.addEventListener(e,t.eventHandlers[e]=function(e){!ze(t,e)||Ae(t,e)||!t.editable&&e.type in Ce||n(t,e)})};for(var n in ke)e(n);s.safari&&t.dom.addEventListener("input",function(){return null}),Pe(t)}function Me(t,e){t.lastSelectionOrigin=e,t.lastSelectionTime=Date.now()}function Oe(t){for(var e in t.domObserver.stop(),t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e]);clearTimeout(t.composingTimeout)}function Pe(t){t.someProp("handleDOMEvents",function(e){for(var n in e)t.eventHandlers[n]||t.dom.addEventListener(n,t.eventHandlers[n]=function(e){return Ae(t,e)})})}function Ae(t,e){return t.someProp("handleDOMEvents",function(n){var i=n[e.type];return!!i&&(i(t,e)||e.defaultPrevented)})}function ze(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Le(t,e){Ae(t,e)||!ke[e.type]||!t.editable&&e.type in Ce||ke[e.type](t,e)}function Ee(t){return{left:t.clientX,top:t.clientY}}function Ne(t,e){var n=e.x-t.clientX,i=e.y-t.clientY;return n*n+i*i<100}function Re(t,e,n,i,o){if(-1==i)return!1;for(var r=t.state.doc.resolve(i),s=function(i){if(t.someProp(e,function(e){return i>r.depth?e(t,n,r.nodeAfter,r.before(i),o,!0):e(t,n,r.node(i),r.before(i),o,!1)}))return{v:!0}},a=r.depth+1;a>0;a--){var c=s(a);if(c)return c.v}return!1}function De(t,e,n){t.focused||t.focus();var i=t.state.tr.setSelection(e);"pointer"==n&&i.setMeta("pointer",!0),t.dispatch(i)}function Be(t,e){if(-1==e)return!1;var n=t.state.doc.resolve(e),i=n.nodeAfter;return!!(i&&i.isAtom&&o.NodeSelection.isSelectable(i))&&(De(t,new o.NodeSelection(n),"pointer"),!0)}function Ie(t,e){if(-1==e)return!1;var n,i,r=t.state.selection;r instanceof o.NodeSelection&&(n=r.node);for(var s=t.state.doc.resolve(e),a=s.depth+1;a>0;a--){var c=a>s.depth?s.nodeAfter:s.node(a);if(o.NodeSelection.isSelectable(c)){i=n&&r.$from.depth>0&&a>=r.$from.depth&&s.before(r.$from.depth+1)==r.$from.pos?s.before(r.$from.depth):s.before(a);break}}return null!=i&&(De(t,o.NodeSelection.create(t.state.doc,i),"pointer"),!0)}function $e(t,e,n,i,o){return Re(t,"handleClickOn",e,n,i)||t.someProp("handleClick",function(n){return n(t,e,i)})||(o?Ie(t,n):Be(t,n))}function je(t,e,n,i){return Re(t,"handleDoubleClickOn",e,n,i)||t.someProp("handleDoubleClick",function(n){return n(t,e,i)})}function Ze(t,e,n,i){return Re(t,"handleTripleClickOn",e,n,i)||t.someProp("handleTripleClick",function(n){return n(t,e,i)})||Fe(t,n)}function Fe(t,e){var n=t.state.doc;if(-1==e)return!!n.inlineContent&&(De(t,o.TextSelection.create(n,0,n.content.size),"pointer"),!0);for(var i=n.resolve(e),r=i.depth+1;r>0;r--){var s=r>i.depth?i.nodeAfter:i.node(r),a=i.before(r);if(s.inlineContent)De(t,o.TextSelection.create(n,a+1,a+1+s.content.size),"pointer");else{if(!o.NodeSelection.isSelectable(s))continue;De(t,o.NodeSelection.create(n,a),"pointer")}return!0}}function Ve(t){return qe(t)}Ce.keydown=function(t,e){t.shiftKey=16==e.keyCode||e.shiftKey,He(t,e)||(t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),t.someProp("handleKeyDown",function(n){return n(t,e)})||Zt(t,e)?e.preventDefault():Me(t,"key"))},Ce.keyup=function(t,e){16==e.keyCode&&(t.shiftKey=!1)},Ce.keypress=function(t,e){if(!(He(t,e)||!e.charCode||e.ctrlKey&&!e.altKey||s.mac&&e.metaKey))if(t.someProp("handleKeyPress",function(n){return n(t,e)}))e.preventDefault();else{var n=t.state.selection;if(!(n instanceof o.TextSelection)||!n.$from.sameParent(n.$to)){var i=String.fromCharCode(e.charCode);t.someProp("handleTextInput",function(e){return e(t,n.$from.pos,n.$to.pos,i)})||t.dispatch(t.state.tr.insertText(i).scrollIntoView()),e.preventDefault()}}};var We=s.mac?"metaKey":"ctrlKey";ke.mousedown=function(t,e){t.shiftKey=e.shiftKey;var n=Ve(t),i=Date.now(),o="singleClick";i-t.lastClick.time<500&&Ne(e,t.lastClick)&&!e[We]&&("singleClick"==t.lastClick.type?o="doubleClick":"doubleClick"==t.lastClick.type&&(o="tripleClick")),t.lastClick={time:i,x:e.clientX,y:e.clientY,type:o};var r=t.posAtCoords(Ee(e));r&&("singleClick"==o?t.mouseDown=new Ke(t,r,e,n):("doubleClick"==o?je:Ze)(t,r.pos,r.inside,e)?e.preventDefault():Me(t,"pointer"))};var Ke=function(t,e,n,i){var r,a,c=this;if(this.view=t,this.startDoc=t.state.doc,this.pos=e,this.event=n,this.flushed=i,this.selectNode=n[We],this.allowDefault=n.shiftKey,e.inside>-1)r=t.state.doc.nodeAt(e.inside),a=e.inside;else{var l=t.state.doc.resolve(e.pos);r=l.parent,a=l.depth?l.before():0}this.mightDrag=null;var h=i?null:n.target,u=h?t.docView.nearestDesc(h,!0):null;this.target=u?u.dom:null,(r.type.spec.draggable&&!1!==r.type.spec.selectable||t.state.selection instanceof o.NodeSelection&&a==t.state.selection.from)&&(this.mightDrag={node:r,pos:a,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&s.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){return c.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Me(t,"pointer")};function He(t,e){return!!t.composing||!!(s.safari&&Math.abs(e.timeStamp-t.compositionEndedAt)<500)&&(t.compositionEndedAt=-2e8,!0)}Ke.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!1),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},Ke.prototype.up=function(t){if(this.done(),this.view.dom.contains(3==t.target.nodeType?t.target.parentNode:t.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(Ee(t))),this.allowDefault||!e?(s.ie&&te(this.view.state)&&this.view.updateState(this.view.state),Me(this.view,"pointer")):$e(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():!this.flushed&&(!s.chrome||this.view.state.selection instanceof o.TextSelection||e.pos!=this.view.state.selection.from&&e.pos!=this.view.state.selection.to)?Me(this.view,"pointer"):(De(this.view,o.Selection.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault())}},Ke.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),Me(this.view,"pointer")},ke.touchdown=function(t){Ve(t),Me(t,"pointer")},ke.contextmenu=function(t){return Ve(t)};var Je=s.android?5e3:-1;function Ue(t,e){clearTimeout(t.composingTimeout),e>-1&&(t.composingTimeout=setTimeout(function(){return qe(t)},e))}function qe(t){t.composing=!1;while(t.compositionNodes.length>0)t.compositionNodes.pop().markParentsDirty();return!!t.docView.dirty&&(t.updateState(t.state),!0)}function Ge(t,e){var n=e.ownerDocument,i=n.body.appendChild(n.createElement("div"));i.appendChild(e),i.style.cssText="position: fixed; left: -10000px; top: 10px";var o=getSelection(),r=n.createRange();r.selectNodeContents(e),t.dom.blur(),o.removeAllRanges(),o.addRange(r),setTimeout(function(){n.body.removeChild(i),t.focus()},50)}Ce.compositionstart=Ce.compositionupdate=function(t){t.composing||(t.domObserver.flush(),qe(t),t.composing=!0),Ue(t,Je)},Ce.compositionend=function(t,e){t.composing&&(t.composing=!1,t.compositionEndedAt=e.timeStamp,Ue(t,20))};var Xe=s.ie&&s.ie_version<15||s.ios&&s.webkit_version<604;function Ye(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}function Qe(t,e){var n=t.dom.ownerDocument,i=t.shiftKey||t.state.selection.$from.parent.type.spec.code,o=n.body.appendChild(n.createElement(i?"textarea":"div"));i||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus(),setTimeout(function(){t.focus(),n.body.removeChild(o),i?tn(t,o.value,null,e):tn(t,o.textContent,o.innerHTML,e)},50)}function tn(t,e,n,o){var r=ue(t,e,n,t.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",function(e){return e(t,o,r||i.Slice.empty)})||!r)return!0;var s=Ye(r),a=s?t.state.tr.replaceSelectionWith(s,t.shiftKey):t.state.tr.replaceSelection(r);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}ke.copy=Ce.cut=function(t,e){var n=t.state.selection,i="cut"==e.type;if(!n.empty){var o=Xe?null:e.clipboardData,r=n.content(),s=he(t,r),a=s.dom,c=s.text;o?(e.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",c)):Ge(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},Ce.paste=function(t,e){var n=Xe?null:e.clipboardData;n&&(tn(t,n.getData("text/plain"),n.getData("text/html"),e)||n.files.length>0)?e.preventDefault():Qe(t,e)};var en=function(t,e){this.slice=t,this.move=e},nn=s.mac?"altKey":"ctrlKey";for(var on in ke.dragstart=function(t,e){var n=t.mouseDown;if(n&&n.done(),e.dataTransfer){var i=t.state.selection,r=i.empty?null:t.posAtCoords(Ee(e));if(r&&r.pos>=i.from&&r.pos<=(i instanceof o.NodeSelection?i.to-1:i.to));else if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(o.NodeSelection.create(t.state.doc,n.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var s=t.docView.nearestDesc(e.target,!0);if(!s||!s.node.type.spec.draggable||s==t.docView)return;t.dispatch(t.state.tr.setSelection(o.NodeSelection.create(t.state.doc,s.posBefore)))}var a=t.state.selection.content(),c=he(t,a),l=c.dom,h=c.text;e.dataTransfer.clearData(),e.dataTransfer.setData(Xe?"Text":"text/html",l.innerHTML),Xe||e.dataTransfer.setData("text/plain",h),t.dragging=new en(a,!e[nn])}},ke.dragend=function(t){window.setTimeout(function(){return t.dragging=null},50)},Ce.dragover=Ce.dragenter=function(t,e){return e.preventDefault()},Ce.drop=function(t,e){var n=t.dragging;if(t.dragging=null,e.dataTransfer){var i=t.posAtCoords(Ee(e));if(i){var s=t.state.doc.resolve(i.pos);if(s){var a=n&&n.slice||ue(t,e.dataTransfer.getData(Xe?"Text":"text/plain"),Xe?null:e.dataTransfer.getData("text/html"),!1,s);if(a&&(e.preventDefault(),!t.someProp("handleDrop",function(i){return i(t,e,a,n&&n.move)}))){var c=a?r.dropPoint(t.state.doc,s.pos,a):s.pos;null==c&&(c=s.pos);var l=t.state.tr;n&&n.move&&l.deleteSelection();var h=l.mapping.map(c),u=0==a.openStart&&0==a.openEnd&&1==a.content.childCount,d=l.doc;if(u?l.replaceRangeWith(h,h,a.content.firstChild):l.replaceRange(h,h,a),!l.doc.eq(d)){var p=l.doc.resolve(h);u&&o.NodeSelection.isSelectable(a.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(a.content.firstChild)?l.setSelection(new o.NodeSelection(p)):l.setSelection(Gt(t,p,l.doc.resolve(l.mapping.map(c)))),t.focus(),t.dispatch(l.setMeta("uiEvent","drop"))}}}}}},ke.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0)},ke.blur=function(t){t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),t.focused=!1)},ke.beforeinput=function(t,e){if(s.chrome&&s.android&&"deleteContentBackward"==e.inputType){var n=t.domChangeCount;setTimeout(function(){if(t.domChangeCount==n&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",function(e){return e(t,w(8,"Backspace"))}))){var e=t.state.selection,i=e.$cursor;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())}},50)}},Ce)ke[on]=Ce[on];function rn(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;for(var i in e)if(!(i in t))return!1;return!0}var sn=function(t,e){this.spec=e||dn,this.side=this.spec.side||0,this.toDOM=t};sn.prototype.map=function(t,e,n,i){var o=t.mapResult(e.from+i,this.side<0?-1:1),r=o.pos,s=o.deleted;return s?null:new ln(r-n,r-n,this)},sn.prototype.valid=function(){return!0},sn.prototype.eq=function(t){return this==t||t instanceof sn&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&rn(this.spec,t.spec))};var an=function(t,e){this.spec=e||dn,this.attrs=t};an.prototype.map=function(t,e,n,i){var o=t.map(e.from+i,this.spec.inclusiveStart?-1:1)-n,r=t.map(e.to+i,this.spec.inclusiveEnd?1:-1)-n;return o>=r?null:new ln(o,r,this)},an.prototype.valid=function(t,e){return e.from<e.to},an.prototype.eq=function(t){return this==t||t instanceof an&&rn(this.attrs,t.attrs)&&rn(this.spec,t.spec)},an.is=function(t){return t.type instanceof an};var cn=function(t,e){this.spec=e||dn,this.attrs=t};cn.prototype.map=function(t,e,n,i){var o=t.mapResult(e.from+i,1);if(o.deleted)return null;var r=t.mapResult(e.to+i,-1);return r.deleted||r.pos<=o.pos?null:new ln(o.pos-n,r.pos-n,this)},cn.prototype.valid=function(t,e){var n=t.content.findIndex(e.from),i=n.index,o=n.offset;return o==e.from&&o+t.child(i).nodeSize==e.to},cn.prototype.eq=function(t){return this==t||t instanceof cn&&rn(this.attrs,t.attrs)&&rn(this.spec,t.spec)};var ln=function(t,e,n){this.from=t,this.to=e,this.type=n},hn={spec:{}};ln.prototype.copy=function(t,e){return new ln(t,e,this.type)},ln.prototype.eq=function(t){return this.type.eq(t.type)&&this.from==t.from&&this.to==t.to},ln.prototype.map=function(t,e,n){return this.type.map(t,this,e,n)},ln.widget=function(t,e,n){return new ln(t,t,new sn(e,n))},ln.inline=function(t,e,n,i){return new ln(t,e,new an(n,i))},ln.node=function(t,e,n,i){return new ln(t,e,new cn(n,i))},hn.spec.get=function(){return this.type.spec},Object.defineProperties(ln.prototype,hn);var un=[],dn={},pn=function(t,e){this.local=t&&t.length?t:un,this.children=e&&e.length?e:un};pn.create=function(t,e){return e.length?wn(e,t,0,dn):fn},pn.prototype.find=function(t,e,n){var i=[];return this.findInner(null==t?0:t,null==e?1e9:e,i,0,n),i},pn.prototype.findInner=function(t,e,n,i,o){for(var r=this,s=0;s<this.local.length;s++){var a=r.local[s];a.from<=e&&a.to>=t&&(!o||o(a.spec))&&n.push(a.copy(a.from+i,a.to+i))}for(var c=0;c<this.children.length;c+=3)if(r.children[c]<e&&r.children[c+1]>t){var l=r.children[c]+1;r.children[c+2].findInner(t-l,e-l,n,i+l,o)}},pn.prototype.map=function(t,e,n){return this==fn||0==t.maps.length?this:this.mapInner(t,e,0,0,n||dn)},pn.prototype.mapInner=function(t,e,n,i,o){for(var r,s=this,a=0;a<this.local.length;a++){var c=s.local[a].map(t,n,i);c&&c.type.valid(e,c)?(r||(r=[])).push(c):o.onRemove&&o.onRemove(s.local[a].spec)}return this.children.length?vn(this.children,r,t,e,n,i,o):r?new pn(r.sort(xn)):fn},pn.prototype.add=function(t,e){return e.length?this==fn?pn.create(t,e):this.addInner(t,e,0):this},pn.prototype.addInner=function(t,e,n){var i,o=this,r=0;t.forEach(function(t,s){var a,c=s+n;if(a=_n(e,t,c)){i||(i=o.children.slice());while(r<i.length&&i[r]<s)r+=3;i[r]==s?i[r+2]=i[r+2].addInner(t,a,c+1):i.splice(r,0,s,s+t.nodeSize,wn(a,t,c+1,dn)),r+=3}});var s=gn(r?bn(e):e,-n);return new pn(s.length?this.local.concat(s).sort(xn):this.local,i||this.children)},pn.prototype.remove=function(t){return 0==t.length||this==fn?this:this.removeInner(t,0)},pn.prototype.removeInner=function(t,e){for(var n=this,i=this.children,o=this.local,r=0;r<i.length;r+=3){for(var s=void 0,a=i[r]+e,c=i[r+1]+e,l=0,h=void 0;l<t.length;l++)(h=t[l])&&h.from>a&&h.to<c&&(t[l]=null,(s||(s=[])).push(h));if(s){i==n.children&&(i=n.children.slice());var u=i[r+2].removeInner(s,a+1);u!=fn?i[r+2]=u:(i.splice(r,3),r-=3)}}if(o.length)for(var d=0,p=void 0;d<t.length;d++)if(p=t[d])for(var f=0;f<o.length;f++)o[f].type.eq(p.type)&&(o==n.local&&(o=n.local.slice()),o.splice(f--,1));return i==this.children&&o==this.local?this:o.length||i.length?new pn(o,i):fn},pn.prototype.forChild=function(t,e){var n,i,o=this;if(this==fn)return this;if(e.isLeaf)return pn.empty;for(var r=0;r<this.children.length;r+=3)if(o.children[r]>=t){o.children[r]==t&&(n=o.children[r+2]);break}for(var s=t+1,a=s+e.content.size,c=0;c<this.local.length;c++){var l=o.local[c];if(l.from<a&&l.to>s&&l.type instanceof an){var h=Math.max(s,l.from)-s,u=Math.min(a,l.to)-s;h<u&&(i||(i=[])).push(l.copy(h,u))}}if(i){var d=new pn(i.sort(xn));return n?new mn([d,n]):d}return n||fn},pn.prototype.eq=function(t){var e=this;if(this==t)return!0;if(!(t instanceof pn)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var n=0;n<this.local.length;n++)if(!e.local[n].eq(t.local[n]))return!1;for(var i=0;i<this.children.length;i+=3)if(e.children[i]!=t.children[i]||e.children[i+1]!=t.children[i+1]||!e.children[i+2].eq(t.children[i+2]))return!1;return!1},pn.prototype.locals=function(t){return Sn(this.localsInner(t))},pn.prototype.localsInner=function(t){var e=this;if(this==fn)return un;if(t.inlineContent||!this.local.some(an.is))return this.local;for(var n=[],i=0;i<this.local.length;i++)e.local[i].type instanceof an||n.push(e.local[i]);return n};var fn=new pn;pn.empty=fn,pn.removeOverlap=Sn;var mn=function(t){this.members=t};function vn(t,e,n,i,o,r,s){for(var a=t.slice(),c=function(t,e,n,i){for(var s=0;s<a.length;s+=3){var c=a[s+1],l=void 0;-1==c||t>c+r||(e>=a[s]+r?a[s+1]=-1:(l=i-n-(e-t)+(r-o))&&(a[s]+=l,a[s+1]+=l))}},l=0;l<n.maps.length;l++)n.maps[l].forEach(c);for(var h=!1,u=0;u<a.length;u+=3)if(-1==a[u+1]){var d=n.map(a[u]+r),p=d-o;if(p<0||p>=i.content.size){h=!0;continue}var f=n.map(t[u+1]+r,-1),m=f-o,v=i.content.findIndex(p),g=v.index,y=v.offset,_=i.maybeChild(g);if(_&&y==p&&y+_.nodeSize==m){var b=a[u+2].mapInner(n,_,d+1,a[u]+r+1,s);b!=fn?(a[u]=p,a[u+1]=m,a[u+2]=b):(a[u+1]=-2,h=!0)}else h=!0}if(h){var w=yn(a,t,e||[],n,o,r,s),x=wn(w,i,0,s);e=x.local;for(var S=0;S<a.length;S+=3)a[S+1]<0&&(a.splice(S,3),S-=3);for(var k=0,C=0;k<x.children.length;k+=3){var T=x.children[k];while(C<a.length&&a[C]<T)C+=3;a.splice(C,0,x.children[k],x.children[k+1],x.children[k+2])}}return new pn(e&&e.sort(xn),a)}function gn(t,e){if(!e||!t.length)return t;for(var n=[],i=0;i<t.length;i++){var o=t[i];n.push(new ln(o.from+e,o.to+e,o.type))}return n}function yn(t,e,n,i,o,r,s){function a(t,e){for(var r=0;r<t.local.length;r++){var c=t.local[r].map(i,o,e);c?n.push(c):s.onRemove&&s.onRemove(t.local[r].spec)}for(var l=0;l<t.children.length;l+=3)a(t.children[l+2],t.children[l]+e+1)}for(var c=0;c<t.length;c+=3)-1==t[c+1]&&a(t[c+2],e[c]+r+1);return n}function _n(t,e,n){if(e.isLeaf)return null;for(var i=n+e.nodeSize,o=null,r=0,s=void 0;r<t.length;r++)(s=t[r])&&s.from>n&&s.to<i&&((o||(o=[])).push(s),t[r]=null);return o}function bn(t){for(var e=[],n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function wn(t,e,n,i){var o=[],r=!1;e.forEach(function(e,s){var a=_n(t,e,s+n);if(a){r=!0;var c=wn(a,e,n+s+1,i);c!=fn&&o.push(s,s+e.nodeSize,c)}});for(var s=gn(r?bn(t):t,-n).sort(xn),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(i.onRemove&&i.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new pn(s,o):fn}function xn(t,e){return t.from-e.from||t.to-e.to}function Sn(t){for(var e=t,n=0;n<e.length-1;n++){var i=e[n];if(i.from!=i.to)for(var o=n+1;o<e.length;o++){var r=e[o];if(r.from!=i.from){r.from<i.to&&(e==t&&(e=t.slice()),e[n]=i.copy(i.from,r.from),kn(e,o,i.copy(r.from,i.to)));break}r.to!=i.to&&(e==t&&(e=t.slice()),e[o]=r.copy(r.from,i.to),kn(e,o+1,r.copy(i.to,r.to)))}}return e}function kn(t,e,n){while(e<t.length&&xn(n,t[e])>0)e++;t.splice(e,0,n)}function Cn(t){var e=[];return t.someProp("decorations",function(n){var i=n(t.state);i&&i!=fn&&e.push(i)}),t.cursorWrapper&&e.push(pn.create(t.state.doc,[t.cursorWrapper.deco])),mn.from(e)}mn.prototype.forChild=function(t,e){var n=this;if(e.isLeaf)return pn.empty;for(var i=[],o=0;o<this.members.length;o++){var r=n.members[o].forChild(t,e);r!=fn&&(r instanceof mn?i=i.concat(r.members):i.push(r))}return mn.from(i)},mn.prototype.eq=function(t){var e=this;if(!(t instanceof mn)||t.members.length!=this.members.length)return!1;for(var n=0;n<this.members.length;n++)if(!e.members[n].eq(t.members[n]))return!1;return!0},mn.prototype.locals=function(t){for(var e,n=this,i=!0,o=0;o<this.members.length;o++){var r=n.members[o].localsInner(t);if(r.length)if(e){i&&(e=e.slice(),i=!1);for(var s=0;s<r.length;s++)e.push(r[s])}else e=r}return e?Sn(i?e:e.sort(xn)):un},mn.from=function(t){switch(t.length){case 0:return fn;case 1:return t[0];default:return new mn(t)}};var Tn=function(t,e){this._props=e,this.state=e.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=zn(this),this.cursorWrapper=null,An(this),this.nodeViews=Nn(this),this.docView=rt(this.state.doc,On(this),Cn(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,Te(this),this.pluginViews=[],this.updatePluginViews()},Mn={props:{},root:{}};function On(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",function(n){if("function"==typeof n&&(n=n(t.state)),n)for(var i in n)"class"==i?e.class+=" "+n[i]:e[i]||"contenteditable"==i||"nodeName"==i||(e[i]=String(n[i]))}),[ln.node(0,t.state.doc.content.size,e)]}function Pn(t){var e=document.createElement("span");return e.textContent="\ufeff",t||(e.style.position="absolute",e.style.left="-100000px"),e}function An(t){var e=te(t.state);if(!e||s.ie&&t.mouseDown)t.cursorWrapper=null;else{var n,o=t.state.selection.visible,r=t.state.storedMarks||e.marks();t.cursorWrapper&&i.Mark.sameSet(t.cursorWrapper.deco.spec.marks,r)&&"\ufeff"==t.cursorWrapper.dom.textContent&&t.cursorWrapper.deco.spec.visible==o?t.cursorWrapper.deco.pos!=e.pos&&(n=t.cursorWrapper.dom):n=Pn(o),n&&(t.cursorWrapper={dom:n,deco:ln.widget(e.pos,n,{isCursorWrapper:!0,marks:r,raw:!0,visible:o})})}}function zn(t){return!t.someProp("editable",function(e){return!1===e(t.state)})}function Ln(t){var e=t.getSelection(),n=e.focusOffset,i=e.focusNode;return i&&3!=i.nodeType?[i,n,1==i.nodeType?i.childNodes[n-1]:null,1==i.nodeType?i.childNodes[n]:null]:null}function En(t,e){var n=Ln(e);if(!n||3==n[0].nodeType)return!1;for(var i=0;i<t.length;i++)if(n[i]!=t[i])return!0;return!1}function Nn(t){var e={};return t.someProp("nodeViews",function(t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])}),e}function Rn(t,e){var n=0,i=0;for(var o in t){if(t[o]!=e[o])return!0;n++}for(var r in e)i++;return n!=i}Mn.props.get=function(){var t=this;if(this._props.state!=this.state){var e=this._props;for(var n in this._props={},e)t._props[n]=e[n];this._props.state=this.state}return this._props},Tn.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Pe(this),this._props=t,this.updateStateInner(t.state,!0)},Tn.prototype.setProps=function(t){var e=this,n={};for(var i in e._props)n[i]=e._props[i];for(var o in n.state=this.state,t)n[o]=t[o];this.update(n)},Tn.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)},Tn.prototype.updateStateInner=function(t,e){var n=this,i=this.state,r=!1;if(this.state=t,e){var a=Nn(this);Rn(a,this.nodeViews)&&(this.nodeViews=a,r=!0),Pe(this)}this.editable=zn(this),An(this);var c=Cn(this),l=On(this),h=e?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",u=r||!this.docView.matchesNode(t.doc,l,c),d=u||!t.selection.eq(i.selection),p="preserve"==h&&d&&null==this.dom.style.overflowAnchor&&C(this);if(d){this.domObserver.stop();var f=!1;if(u){var m=s.chrome&&Ln(this.root);!r&&this.docView.update(t.doc,l,c,this)||(this.docView.destroy(),this.docView=rt(t.doc,l,c,this.dom,this)),m&&(f=En(m,this.root))}f||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&ee(this))?Vt(this,!1,f):(Ut(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(i),"reset"==h)this.dom.scrollTop=0;else if("to selection"==h){var v=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",function(t){return t(n)})||(t.selection instanceof o.NodeSelection?k(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),v):k(this,this.coordsAtPos(t.selection.head),v))}else p&&T(p)},Tn.prototype.destroyPluginViews=function(){var t;while(t=this.pluginViews.pop())t.destroy&&t.destroy()},Tn.prototype.updatePluginViews=function(t){var e=this;if(t&&t.plugins==this.state.plugins)for(var n=0;n<this.pluginViews.length;n++){var i=e.pluginViews[n];i.update&&i.update(e,t)}else{this.destroyPluginViews();for(var o=0;o<this.state.plugins.length;o++){var r=e.state.plugins[o];r.spec.view&&e.pluginViews.push(r.spec.view(e))}}},Tn.prototype.someProp=function(t,e){var n,i=this._props&&this._props[t];if(null!=i&&(n=e?e(i):i))return n;var o=this.state.plugins;if(o)for(var r=0;r<o.length;r++){var s=o[r].props[t];if(null!=s&&(n=e?e(s):s))return n}},Tn.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Tn.prototype.focus=function(){this.domObserver.stop(),Vt(this,!0),this.domObserver.start(),this.editable&&this.dom.focus()},Mn.root.get=function(){var t=this,e=this._root;if(null==e)for(var n=this.dom.parentNode;n;n=n.parentNode)if(9==n.nodeType||11==n.nodeType&&n.host)return t._root=n;return e||document},Tn.prototype.posAtCoords=function(t){return N(this,t)},Tn.prototype.coordsAtPos=function(t){return D(this,t)},Tn.prototype.domAtPos=function(t){return this.docView.domFromPos(t)},Tn.prototype.nodeDOM=function(t){var e=this.docView.descAt(t);return e?e.nodeDOM:null},Tn.prototype.posAtDOM=function(t,e,n){void 0===n&&(n=-1);var i=this.docView.posFromDOM(t,e,n);if(null==i)throw new RangeError("DOM position not inside the editor");return i},Tn.prototype.endOfTextblock=function(t,e){return H(this,e||this.state,t)},Tn.prototype.destroy=function(){this.docView&&(Oe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Cn(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Tn.prototype.dispatchEvent=function(t){return Le(this,t)},Tn.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))},Object.defineProperties(Tn.prototype,Mn),e.EditorView=Tn,e.Decoration=ln,e.DecorationSet=pn,e.__serializeForClipboard=he,e.__parseFromClipboard=ue,e.__endComposition=qe},"72a8":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("6ffb"),o=n("b923"),r=function(t,e){this.match=t,this.handler="string"==typeof e?s(e):e};function s(t){return function(e,n,i,o){var r=t;if(n[1]){var s=n[0].lastIndexOf(n[1]);r+=n[0].slice(s+n[1].length),i+=s;var a=i-o;a>0&&(r=n[0].slice(s-a,s)+r,i=o)}return e.tr.insertText(r,i,o)}}var a=500;function c(t){var e=t.rules,n=new i.Plugin({state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(this);return n||(t.selectionSet||t.docChanged?null:e)}},props:{handleTextInput:function(t,i,o,r){return l(t,i,o,r,e,n)},handleDOMEvents:{compositionend:function(t){setTimeout(function(){var i=t.state.selection,o=i.$cursor;o&&l(t,o.pos,o.pos,"",e,n)})}}},isInputRules:!0});return n}function l(t,e,n,i,o,r){if(t.composing)return!1;var s=t.state,c=s.doc.resolve(e);if(c.parent.type.spec.code)return!1;for(var l=c.parent.textBetween(Math.max(0,c.parentOffset-a),c.parentOffset,null,"￼")+i,h=0;h<o.length;h++){var u=o[h].match.exec(l),d=u&&o[h].handler(s,u,e-(u[0].length-i.length),n);if(d)return t.dispatch(d.setMeta(r,{transform:d,from:e,to:n,text:i})),!0}return!1}function h(t,e){for(var n=t.plugins,i=0;i<n.length;i++){var o=n[i],r=void 0;if(o.spec.isInputRules&&(r=o.getState(t))){if(e){for(var s=t.tr,a=r.transform,c=a.steps.length-1;c>=0;c--)s.step(a.steps[c].invert(a.docs[c]));var l=s.doc.resolve(r.from).marks();e(s.replaceWith(r.from,r.to,t.schema.text(r.text,l)))}return!0}}return!1}var u=new r(/--$/,"—"),d=new r(/\.\.\.$/,"…"),p=new r(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),f=new r(/"$/,"”"),m=new r(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),v=new r(/'$/,"’"),g=[p,f,m,v];function y(t,e,n,i){return new r(t,function(t,r,s,a){var c=n instanceof Function?n(r):n,l=t.tr.delete(s,a),h=l.doc.resolve(s),u=h.blockRange(),d=u&&o.findWrapping(u,e,c);if(!d)return null;l.wrap(u,d);var p=l.doc.resolve(s-1).nodeBefore;return p&&p.type==e&&o.canJoin(l.doc,s-1)&&(!i||i(r,p))&&l.join(s-1),l})}function _(t,e,n){return new r(t,function(t,i,o,r){var s=t.doc.resolve(o),a=n instanceof Function?n(i):n;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e)?t.tr.delete(o,r).setBlockType(o,o,e,a):null})}e.InputRule=r,e.inputRules=c,e.undoInputRule=h,e.emDash=u,e.ellipsis=d,e.openDoubleQuote=p,e.closeDoubleQuote=f,e.openSingleQuote=m,e.closeSingleQuote=v,e.smartQuotes=g,e.wrappingInputRule=y,e.textblockTypeInputRule=_},"7a87":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("b923"),o=n("6f27"),r=["ol",0],s=["ul",0],a=["li",0],c={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:function(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1}}}],toDOM:function(t){return 1==t.attrs.order?r:["ol",{start:t.attrs.order},0]}},l={parseDOM:[{tag:"ul"}],toDOM:function(){return s}},h={parseDOM:[{tag:"li"}],toDOM:function(){return a},defining:!0};function u(t,e){var n={};for(var i in t)n[i]=t[i];for(var o in e)n[o]=e[o];return n}function d(t,e,n){return t.append({ordered_list:u(c,{content:"list_item+",group:n}),bullet_list:u(l,{content:"list_item+",group:n}),list_item:u(h,{content:e})})}function p(t,e){return function(n,r){var s=n.selection,a=s.$from,c=s.$to,l=a.blockRange(c),h=!1,u=l;if(!l)return!1;if(l.depth>=2&&a.node(l.depth-1).type.compatibleContent(t)&&0==l.startIndex){if(0==a.index(l.depth-1))return!1;var d=n.doc.resolve(l.start-2);u=new o.NodeRange(d,d,l.depth),l.endIndex<l.parent.childCount&&(l=new o.NodeRange(a,n.doc.resolve(c.end(l.depth)),l.depth)),h=!0}var p=i.findWrapping(u,t,e,l);return!!p&&(r&&r(f(n.tr,l,p,h,t).scrollIntoView()),!0)}}function f(t,e,n,r,s){for(var a=o.Fragment.empty,c=n.length-1;c>=0;c--)a=o.Fragment.from(n[c].type.create(n[c].attrs,a));t.step(new i.ReplaceAroundStep(e.start-(r?2:0),e.end,e.start,e.end,new o.Slice(a,0,0),n.length,!0));for(var l=0,h=0;h<n.length;h++)n[h].type==s&&(l=h+1);for(var u=n.length-l,d=e.start+n.length-(r?2:0),p=e.parent,f=e.startIndex,m=e.endIndex,v=!0;f<m;f++,v=!1)!v&&i.canSplit(t.doc,d,u)&&(t.split(d,u),d+=2*u),d+=p.child(f).nodeSize;return t}function m(t){return function(e,n){var r=e.selection,s=r.$from,a=r.$to,c=r.node;if(c&&c.isBlock||s.depth<2||!s.sameParent(a))return!1;var l=s.node(-1);if(l.type!=t)return!1;if(0==s.parent.content.size){if(2==s.depth||s.node(-3).type!=t||s.index(-2)!=s.node(-2).childCount-1)return!1;if(n){for(var h=o.Fragment.empty,u=s.index(-1)>0,d=s.depth-(u?1:2);d>=s.depth-3;d--)h=o.Fragment.from(s.node(d).copy(h));h=h.append(o.Fragment.from(t.createAndFill()));var p=e.tr.replace(s.before(u?null:-1),s.after(-3),new o.Slice(h,u?3:2,2));p.setSelection(e.selection.constructor.near(p.doc.resolve(s.pos+(u?3:2)))),n(p.scrollIntoView())}return!0}var f=a.pos==s.end()?l.contentMatchAt(s.indexAfter(-1)).defaultType:null,m=e.tr.delete(s.pos,a.pos),v=f&&[null,{type:f}];return!!i.canSplit(m.doc,s.pos,2,v)&&(n&&n(m.split(s.pos,2,v).scrollIntoView()),!0)}}function v(t){return function(e,n){var i=e.selection,o=i.$from,r=i.$to,s=o.blockRange(r,function(e){return e.childCount&&e.firstChild.type==t});return!!s&&(!n||(o.node(s.depth-1).type==t?g(e,n,t,s):y(e,n,s)))}}function g(t,e,n,r){var s=t.tr,a=r.end,c=r.$to.end(r.depth);return a<c&&(s.step(new i.ReplaceAroundStep(a-1,c,a,c,new o.Slice(o.Fragment.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new o.NodeRange(s.doc.resolve(r.$from.pos),s.doc.resolve(c),r.depth)),e(s.lift(r,i.liftTarget(r)).scrollIntoView()),!0}function y(t,e,n){for(var r=t.tr,s=n.parent,a=n.end,c=n.endIndex-1,l=n.startIndex;c>l;c--)a-=s.child(c).nodeSize,r.delete(a-1,a+1);var h=r.doc.resolve(n.start),u=h.nodeAfter,d=0==n.startIndex,p=n.endIndex==s.childCount,f=h.node(-1),m=h.index(-1);if(!f.canReplace(m+(d?0:1),m+1,u.content.append(p?o.Fragment.empty:o.Fragment.from(s))))return!1;var v=h.pos,g=v+u.nodeSize;return r.step(new i.ReplaceAroundStep(v-(d?1:0),g+(p?1:0),v+1,g-1,new o.Slice((d?o.Fragment.empty:o.Fragment.from(s.copy(o.Fragment.empty))).append(p?o.Fragment.empty:o.Fragment.from(s.copy(o.Fragment.empty))),d?0:1,p?0:1),d?0:1)),e(r.scrollIntoView()),!0}function _(t){return function(e,n){var r=e.selection,s=r.$from,a=r.$to,c=s.blockRange(a,function(e){return e.childCount&&e.firstChild.type==t});if(!c)return!1;var l=c.startIndex;if(0==l)return!1;var h=c.parent,u=h.child(l-1);if(u.type!=t)return!1;if(n){var d=u.lastChild&&u.lastChild.type==h.type,p=o.Fragment.from(d?t.create():null),f=new o.Slice(o.Fragment.from(t.create(null,o.Fragment.from(h.type.create(null,p)))),d?3:1,0),m=c.start,v=c.end;n(e.tr.step(new i.ReplaceAroundStep(m-(d?3:1),v,m,v,f,1,!0)).scrollIntoView())}return!0}}e.orderedList=c,e.bulletList=l,e.listItem=h,e.addListNodes=d,e.wrapInList=p,e.splitListItem=m,e.liftListItem=v,e.sinkListItem=_},"87d1":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("h1",[t._v("Protagonisten")]),t._l(t.scenes,function(e){return n("div",[t._v(t._s(e.title))])})],2)},o=[],r=n("2b0e"),s=n("5f5b");n("f9e3"),n("2dd8");r["default"].use(s["a"]);var a={name:"home",data:function(){return{error:"",scenes:[{_id:{$oid:"5ba539c3e99589718c928bef"},protagonists:["Karel Fischer","Jo Spier"],images:[],title:"Titelsequenz",number:1,source:"1",length:"32:06",start:0,status:"unvollständig",description:"Der von Karel Fischer geleitete Chor singt Mendelssohn-Bartholdys „Elias“.",music:"Felix Mendelsohn-Bartholdy: „Elias“",locations:"",updated_at:{$date:"2018-09-21T18:34:43.074Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928bf1"},protagonists:[""],images:[],title:"Gericht",number:11,source:"2",length:"8:05",start:340,status:"Unvollständig",description:"Das Gericht der jüdischen Selbstverwaltung. Ausschnitte einer Gerichtsverhandlung.",music:"",locations:"",updated_at:{$date:"2018-09-21T18:34:43.086Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928bf2"},protagonists:[""],images:[],title:"Spielplatz",number:16,source:"3",length:"1:06:08",start:445,status:"vollständig",description:"Schild mit der Aufschrift „Zum Spielplatz“. Kinder laufen in Zweierreihe durch den Stadtpark zum nahegelegenen Kinderpavillon. Dort befindet sich ein Sandkasten, wo sie gemeinsam spielen, trinken, tanzen und singen. Die Kinder halten außerhalb des Pavillions Mittagsschlaf. In einem Planschbecken spielen sie. Einige Kinder schaukeln draußen. Innenaufnahme eines Spielzimmers mit Schaukelpferden und Holzspielzeug.",music:"",locations:"",updated_at:{$date:"2018-09-21T18:34:43.087Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928bf0"},protagonists:["Paul Eppstein","Alfred Meissner","Georg Gradnauer","Léon Meyer","Johann Friedländer","Emil Sommer","Max Friedinger","Clara von Schultz"],images:[],title:"Terrasse",number:4,source:"",length:"12:23",start:87,status:"verschollen",description:"Terrasse mit Sonnenschirmen, Kellnerinnen servieren Limonade, Leute spazieren in dem sich anschließenden Garten auf und ab.",music:"",locations:"",updated_at:{$date:"2018-09-21T18:34:43.086Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928bf4"},protagonists:[""],images:[],title:"Schmiede",number:26,source:"4",length:"22:15",start:596,status:"vollständig",description:"In der Werkstatt eines Huf- Wagenschmieds beschlägt ein Hufschmied einen Ochsen. Der Ochse wird aus der Schmiede herausgeführt.",music:"",locations:"Schmiede",updated_at:{$date:"2018-09-21T18:34:43.088Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928bf5"},protagonists:[""],images:[],title:"Zentralbad",number:31,source:"4,5",length:"27:16",start:1086,status:"vollständig",description:"Männer laufen in die Gemeinschaftsdusche und waschen sich. Männer verlassen das Zentralbad und laufen auf die Straße.",music:"",locations:"Zentralbad",updated_at:{$date:"2018-09-21T18:34:43.088Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928bf6"},protagonists:[""],images:[],title:"Abendfreizeit",number:36,source:"5",length:"1:54:24",start:1374,status:"vollständig",description:"Leute erholen sich außerhalb von Holzbaracken, Szenen aus den Gemeinschaftsunterkünften. Outdoor facilities of the barracks with inhabitants, mostly women and children, on benches, chatting, reading. Inside a barrack of the women's accommodation, pan on the central corridor to separate living spaces with wooden tables and benches, double bunk beds separating the living spaces, partly covered with cloths. Several women and young girls reading, needle working, chatting in small groups, playing cards.",music:"",locations:"",updated_at:{$date:"2018-09-21T18:34:43.089Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928bf7"},protagonists:[""],images:[],title:"Entstehungsgeschichte",number:2,source:"1",length:"50:10",start:32,status:"vollständig",description:"Die Entstehungsgeschichte der Festung Theresienstadt, illustriert durch Zeichnungen von Jo Spier.",music:"",locations:"",updated_at:{$date:"2018-09-21T18:34:43.092Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928bf8"},protagonists:[""],images:[],title:"Sport",number:7,source:"",length:"30:07",start:185,status:"vollständig",description:"Sport auf einer der Basteien. Männer laufen und zwei Frauenmannschaften spielen Handball.",music:"",locations:"Bastei",updated_at:{$date:"2018-09-21T18:34:43.093Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928bfa"},protagonists:[""],images:[],title:"Kinderoper",number:17,source:"3",length:"1:15:02",start:511,status:"vollständig",description:"Schlussszene von Hand Krasas Kinderoper „Brundibár“. Der Kinderchor singt. Szenenwechsel zwischen den kostümierten Darstellern und den jungen Zuschauern.",music:"",locations:"",updated_at:{$date:"2018-09-21T18:34:43.094Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928bf3"},protagonists:[""],images:[],title:"Verpflegung",number:21,source:"",length:"",start:-1,status:"verschollen",description:"in einer Zentralküche wird das Essen zubereitet.  Essen wird gegen Lebensmittelmarken ausgegeben. Leute essen gemeinsamen im Speisesaal.",music:"",locations:"Zentralküche",updated_at:{$date:"2018-09-21T18:34:43.087Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928bfb"},protagonists:["Rolf Grabower","Philipp Kozower","Franzi Schneidhuber","Elly von Bleichröder","Frau von Hennicke","D. Leon Neuberger "],images:[],title:"Freilichtvariete",number:22,source:"",length:"",start:-1,status:"Aufnahme von den Dreharbeiten",description:"Im Freilichtvarieté auf einer Wiese außerhalb der Ghettomauern treten verschiedene Künstler auf, darunter eine Tänzerin, ein Musikduo (Akkordeon und Violine), ein deutsches Kabarett-Trio, eine Sängerin sowie Kurt Gerron selbst.",music:"",locations:"Wiese außerhalb d. Ghettos",updated_at:{$date:"2018-09-21T18:34:43.094Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928bfc"},protagonists:[""],images:[],title:"Metallwerkstätten",number:27,source:"4",length:"1:01:16",start:619,status:"vollständig",description:"Zwei Männer schmieden ein heißes Eisen. Werkstatt mit mehreren Feuern, Ambossen, Stanzen und Fräsen. Ein Mann schweißt.",music:"",locations:"",updated_at:{$date:"2018-09-21T18:34:43.094Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928bfd"},protagonists:["Heinrich Klang","Desider Friedmann","David Cohen","Ernst Kantorowicz;"],images:[],title:"Zentralbücherei",number:32,source:"5",length:"28:09",start:1113,status:"vollständig",description:"Street with a few passers-by, man reading a book while walking, elderly man opening glass door and entering the library. Elderly men entering the library, pan through the rooms of the library, users standing between bookshelves talking to each other. Shown: David Cohen, Heinrich Klang (judge/professor), Ernst Kantorowicz (professor, Frankfurt), Desider Friedmann",music:"",locations:"Zentralbücherei?",updated_at:{$date:"2018-09-21T18:34:43.095Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928bff"},protagonists:[""],images:[],title:"Jazzband",number:3,source:"",length:"2:20",start:82,status:"verschollen",description:"Stadtplatz mit Jazzband in einem Musikpavillon, die Zuhörer stehen oder sitzen auf Parkbänken.",music:"",locations:"",updated_at:{$date:"2018-09-21T18:34:43.098Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928c00"},protagonists:["Julia Salinger"],images:[],title:"Theater",number:8,source:"",length:"4:24",start:215,status:"Aufnahme von den Dreharbeiten",description:"Bühnenszenen aus Offenbachs Hoffmanns Erzählungen und aus dem jiddischen Stück „In mitt'n Weg“.",music:"",locations:"",updated_at:{$date:"2018-09-21T18:34:43.099Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928c01"},protagonists:[""],images:[],title:"Läden",number:13,source:"",length:"",start:-1,status:"verschollen",description:"Leute warten auf die Öffnung der Geschäfte, Kunden in einem Herrenbekleidungsgeschäft.",music:"",locations:"",updated_at:{$date:"2018-09-21T18:34:43.099Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928c02"},protagonists:[""],images:[],title:"Feuerwehr",number:18,source:"",length:"",start:-1,status:"verschollen",description:"Die Feuerwehr der jüdischen Selbstverwaltung rückt aus. Der Löschwagen verläßt die Feuerwehrstation. Die Feuerwehrmänner löschen ein Feuer.",music:"",locations:"",updated_at:{$date:"2018-09-21T18:34:43.100Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928c04"},protagonists:["Rudolf Saudek"],images:[],title:"Töpferei",number:28,source:"4",length:"48:10",start:681,status:"vollständig",description:"In einer Töpferwerkstatt fertigt eine Frau ein Gefäß auf einer Drehscheibe. Ein andere Frau modelliert kleine Pferde. Der Bildhauer Rudolf Saudek bei der Arbeit an einer Brunnenfigur.",music:"Jacques Offenbach: „Pariser Leben“",locations:"",updated_at:{$date:"2018-09-21T18:34:43.101Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928bf9"},protagonists:[""],images:[],title:"Bank",number:12,source:"",length:"",start:-1,status:"verschollen",description:"Die Bank der jüdischen Selbstverwaltung: Geschäfte an den Bankschaltern, der Banktresor.",music:"",locations:"",updated_at:{$date:"2018-09-21T18:34:43.093Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928c05"},protagonists:["Emil Utitz","Leo Baeck","Hermann Strauss","Otto Stargardt","Alexander Cohn","Alfred Philippson","Alfred Klein","Prof. Klang","Benjamin Murmelstein","Artur Stein","Leo Taussig","Maximilian Adler","Franzi Schneidhuber","Elly von Bleichröder",""],images:[],title:"Vortrag",number:33,source:"5",length:"40:08",start:1142,status:"vollständig",description:"Vortrag des Universitätsprofessors Emil Utitz. Im Publikum sind zahlreiche Wissenschaftler vertreten.",music:"Felix Mendelssohn-Bartholdy: „Sonate für Violintrio“",locations:"",updated_at:{$date:"2018-09-21T18:34:43.101Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928c06"},protagonists:[""],images:[],title:"Schlussmontage",number:38,source:"",length:"",start:-1,status:"verschollen",description:"Schlußmontage",music:"",locations:"",updated_at:{$date:"2018-09-21T18:34:43.101Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928c07"},protagonists:[""],images:[],title:"Kaffeehaus",number:5,source:"",length:"4:20",start:101,status:"Aufnahme von den Dreharbeiten",description:"Abendliche Stimmung mit Musik und Tanz.",music:"",locations:"",updated_at:{$date:"2018-09-21T18:34:43.105Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928c09"},protagonists:[""],images:[],title:"Postamt",number:14,source:"",length:"",start:-1,status:"verschollen",description:"Leute, die Pakete aus vielen verschiedenen Ländern abholen; ein Paket wird in der Unterkunft eines Ehepaares ausgepackt.",music:"",locations:"",updated_at:{$date:"2018-09-21T18:34:43.106Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928c0a"},protagonists:[""],images:[],title:"Eisenbahner",number:19,source:"",length:"7:08",start:-1,status:"verschollen",description:"Gleisarbeiter reparieren einen Schienenabschnitt.",music:"",locations:"Gleise",updated_at:{$date:"2018-09-21T18:34:43.107Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928c0b"},protagonists:[""],images:[],title:"Wächerei",number:24,source:"",length:"",start:-1,status:"verschollen",description:"Zentrale Wäscherei.",music:"",locations:"Wächerei",updated_at:{$date:"2018-09-21T18:34:43.107Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928c0c"},protagonists:[""],images:[],title:"Werkstätten",number:29,source:"",length:"3:05:13",start:729,status:"vollständig",description:"Die Szene zeigt die Herstellungs- und Reparaturwerkstätten in hölzernen Baracken außerhalb der Stadt. Schneider, Näherinnen und Schuhmacher sind bei der Arbeit zu sehen. Es werden Handtaschen und Geldbörsen hergestellt. Schneider bügeln Kleider. Ein anderer Schneider näht Hosen.Schneider arbeiten in einer großen Halle mit Nähmaschinen oder mit Hand. achines or by hand. Shoemakers sewing shoes, partly with sewing machines, working with material needed for production, hammer, and hollow punch. Shoemakers standing up together and leaving the facility. Women and men leaving the barracks in small groups or individually, walking along a street with a pylon, the barracks in the background.",music:"Felix Mendelssohn-Bartholdy: „Midsummer nights dream“",locations:"",updated_at:{$date:"2018-09-21T18:34:43.107Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928c0e"},protagonists:[""],images:[],title:"Freizeit",number:6,source:"1",length:"1:27:07",start:107,status:"vollständig",description:"Freizeit auf den Stadtwällen: Alte Männer spielen Schach und alte Frauen lesen. Leute genießen die Zeit auf den Stadtwällen. Leute sitzen auf Bänken, liegen allein oder in Gruppen auf Decken. Vier Mädchen machen Gymnastik. Ein Mann zeichnet, andere lesen, stricken oder baden in der Sonne. Blick auf die ländliche Umgebung.",music:"",locations:"Stadtwälle",updated_at:{$date:"2018-09-21T18:34:43.112Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928bfe"},protagonists:["Philipp Kozower","Gisela Kozower","David Cohen","Cornelia Cohen",""],images:[],title:"Abendessen",number:37,source:"5",length:"3:09",start:1489,status:"Unvollständig",description:'Abendessen einer Familie (um den Tisch sitzen: Professor Cohen und Frau Cohen aus Amsterdam; Herr und Frau Kozower und Kinder aus Berlin).               ++++ Margry: „Die  Szene gibt vor, eine Familie aus Vater, Mutter, zwei Kindern und         Großeltern zu zeigen. Keinem der Filmemacher oder jedenfalls keinem der SS-Kontrolleure fiel auf, wie abwegig es war, öffentlich bekannte Personen, die wie die Ehepaare Cohen und Kozower auch noch aus verschiedenen Ländern kamen, einzusetzen, um mit ihnen eine "richtige Familie" darzustellen.“',music:"",locations:"",updated_at:{$date:"2018-09-21T18:34:43.095Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928c0f"},protagonists:["Paul Eppstein","Benjamin Murmelstein"],images:[],title:"Selbstverwaltung",number:10,source:"2",length:"1:58:16",start:221,status:"vollständig",description:"Die jüdische Selbstverwaltung: eine Sitzung des Ältestenrates, die Ältesten hören einer Rede des Judenältesten Paul Eppstein zu.",music:"",locations:"",updated_at:{$date:"2018-09-21T18:34:43.113Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928c10"},protagonists:[""],images:[],title:"Gesundheitswesen",number:15,source:"3",length:"1:36:01",start:349,status:"vollständig",description:"Szenen aus den Ambulanzen, aus dem zentralen Krankenhaus; eine Operation; ein Krankenzimmer; Patienten sonnen sich im Garten der Klinik; das Kindererholungsheim; Kinder, die belegte Brote und Obst essen.",music:"",locations:"Krankenzimmer",updated_at:{$date:"2018-09-21T18:34:43.113Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928c11"},protagonists:[""],images:[],title:"Landwirtschaft",number:20,source:"",length:"",start:587,status:"verschollen",description:"(a) Gärtnerei außerhalb der Stadt: Gemüse und Kartoffeln, Seidenraupenzucht; (b) Enten- und Geflügelhaltung; (c) Ernte, eine Dreschmaschine bei der Arbeit; (d) das Wirtschaften auf dem Ackerland mit Ochsen.",music:"",locations:"",updated_at:{$date:"2018-09-21T18:34:43.113Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928c13"},protagonists:[""],images:[],title:"Fußballspiel",number:30,source:"4",length:"2:54:04",start:915,status:"vollständig",description:'Fußballspiel „Ligasieger gegen Pokalsieger“ im Hof der "Dresdner Kaserne". People heading towards gate, entering the gate, audience leaning out of the arcades on the first floor. Players passing the audience and running to the field in the courtyard of a former military barracks ("Dresdner Kaserne", lining up back to back, the referee welcoming the captains by handshake. The audience clustered around the field and in the arcades on the upper floors of the building. Kick-off, match scenes, end of the game, people leaving the field through the gate',music:"",locations:"Dresdner Kaserne",updated_at:{$date:"2018-09-21T18:34:43.114Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928c03"},protagonists:["Kurt Gerron","Rolf Grabower","Philip Kozower","Franzi Schneidhuber","Elly von Bleichröder"],images:[],title:"Schwimmen",number:23,source:"",length:"",start:-1,status:"verschollen",description:"Schwimmen im Flußbad der Eger.",music:"",locations:"Fluß Eger",updated_at:{$date:"2018-09-21T18:34:43.100Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928c14"},protagonists:[""],images:[],title:"Schrebergärten",number:35,source:"5",length:"1:10:05",start:1304,status:"vollständig",description:"Schrebergärten am Festungsgraben unterhalb der Stadtmauer. Leute arbeiten im Garten und gießen Blumen.",music:"",locations:"Festungsgraben",updated_at:{$date:"2018-09-21T18:34:43.115Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928c08"},protagonists:[""],images:[],title:"Beginnender Werktag",number:9,source:"",length:"",start:-1,status:"verschollen",description:"Der Stadtplatz am Beginn eines Werktages: Gruppen singender Männer und Frauen mit geschulterten Spaten und Rechen marschieren singend zur Arbeit.",music:"",locations:"Stadtplatz",updated_at:{$date:"2018-09-21T18:34:43.106Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928c0d"},protagonists:["Karel Ancerl","Ernst Rosenthal","Fritz Gutmann","Julius Moritz","Karl Meinhard","Karl Löwenstein","Leo Löwenstein","Rudolf Saudek","Heinrich Gans","Heinrich Dessauer","Ove Meyer","Morits Oppenhejm","Melanie Oppenhejm","Franz Kahn","Robert Mandler","Erich Springer","Elisabeth Czech","Hans Krasa","Pavel Haas "],images:[],title:"Konzert",number:34,source:"5",length:"2:02:03",start:1182,status:"vollständig",description:"Das Orchester unter der Leitung von Karel Ancerl spielt das Stück „Studie für Streichorchester“ von Pavel Haas.",music:"Pavel Haas: „Studie für Streichorchester“",locations:"",updated_at:{$date:"2018-09-21T18:34:43.108Z"},__v:0},{_id:{$oid:"5ba539c3e99589718c928c12"},protagonists:[""],images:[],title:"Maschinentischlerei",number:25,source:"USHMM 59538",length:"",start:-1,status:"verschollen",description:"In der Maschinentischlerei in einer früheren Reitschule wird Holz gesägt sowie Bretter und Bauteile für Holzbaracken hergestellt.",music:"",locations:"Tischlerei",updated_at:{$date:"2018-09-21T18:34:43.114Z"},__v:0}]}},methods:{}},c=a,l=n("2877"),h=Object(l["a"])(c,i,o,!1,null,null,null);e["default"]=h.exports},"986d":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("6ffb"),o=n("6f27"),r=n("fc88"),s=function(t){return function(e){var n=Z(t)(e.selection);return n?S(n.pos)(e):e}},a=function(t,e){return function(n){Array.isArray(t)||(t=[t]);for(var i=0,o=t.length;i<o;i++){var r=Z(t[i])(n.selection);if(r){var s=w(r.pos,e)(n);if(s!==n)return s}}return n}},c=function(t){if(y(t.selection)){var e=t.selection.$from.pos,n=t.selection.$to.pos;return b(t.delete(e,n))}return t},l=function(t){return function(e){if(y(e.selection)){var n=e.selection,r=n.$from,s=n.$to;if(t instanceof o.Fragment&&r.parent.canReplace(r.index(),r.indexAfter(),t)||r.parent.canReplaceWith(r.index(),r.indexAfter(),t.type))return b(e.replaceWith(r.pos,s.pos,t).setSelection(new i.NodeSelection(e.doc.resolve(r.pos))))}return e}},h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){var o=i.Selection.findFrom(n.doc.resolve(t),e,!0);return o?n.setSelection(o):n}},u=function(t){return t.type&&t.type.spec.selectable},d=function(t){return u(t)&&t.type.isLeaf},p=function(t,e,n){return d(t)?n.setSelection(new i.NodeSelection(n.doc.resolve(e))):h(e)(n)},f=function(t,e,n){return function(i){var o="number"===typeof e,r=i.selection.$from,s=o?i.doc.resolve(e):y(i.selection)?i.doc.resolve(r.pos+1):r,c=s.parent;if(y(i.selection)&&n){var h=i;if(i=l(t)(i),h!==i)return i}if(T(c)){var d=i;if(i=a(c.type,t)(i),d!==i){var f=u(t)?s.before(s.depth):s.pos;return p(t,f,i)}}if(C(s,t)){i.insert(s.pos,t);var m=o?s.pos:u(t)?i.selection.$anchor.pos-1:i.selection.$anchor.pos;return b(p(t,m,i))}for(var v=s.depth;v>0;v--){var g=s.after(v),_=i.doc.resolve(g);if(C(_,t))return i.insert(g,t),b(p(t,g,i))}return i}},m=function(t,e,n,i){return function(o){var r=Z(t)(o.selection);return r?b(o.setNodeMarkup(r.pos,e,Object.assign({},r.node.attrs,n),i)):o}},v=function(t){return function(e){if(!y(e.selection)){var n=Z(t)(e.selection);if(n)return b(e.setSelection(i.NodeSelection.create(e.doc,n.pos)))}return e}},g=function(t){var e=H(t.selection);return"number"===typeof e?S(e)(t):t},y=function(t){return t instanceof i.NodeSelection},_=function(t,e){return Array.isArray(t)&&t.indexOf(e.type)>-1||e.type===t},b=function(t){return Object.assign(Object.create(t),t).setTime(Date.now())},w=function(t,e){return function(n){var i=n.doc.nodeAt(t),o=n.doc.resolve(t);if(x(o,e)){n=n.replaceWith(t,t+i.nodeSize,e);var r=n.selection.$from.pos-1;return n=h(Math.max(r,0),-1)(n),n=h(n.selection.$from.start())(n),b(n)}return n}},x=function(t,e){var n=t.node(t.depth);return n&&n.type.validContent(e instanceof o.Fragment?e:o.Fragment.from(e))},S=function(t){return function(e){var n=e.doc.nodeAt(t);return b(e.delete(t,t+n.nodeSize))}},k=function(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;var e={};return Object.keys(t.nodes).forEach(function(n){var i=t.nodes[n];i.spec.tableRole&&(e[i.spec.tableRole]=i)}),t.cached.tableNodeTypes=e,e},C=function(t,e){var n=t.index();return e instanceof o.Fragment?t.parent.canReplace(n,n,e):e instanceof o.Node&&t.parent.canReplaceWith(n,n,e.type)},T=function(t){return!t||"paragraph"===t.type.name&&2===t.nodeSize},M=function(t){var e=function(t){return t.type.spec.tableRole&&/table/i.test(t.type.spec.tableRole)};return I(t,e)},O=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?t.createChecked(null,e):t.createAndFill()},P=function(t){return function(e){for(var n=r.TableMap.get(e.$anchorCell.node(-1)),i=e.$anchorCell.start(-1),o=n.cellsInRect(t),s=n.cellsInRect(n.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i)),a=0,c=o.length;a<c;a++)if(-1===s.indexOf(o[a]))return!1;return!0}},A=function(t){return t[0].map(function(e,n){return t.map(function(t){return t[n]})})},z=function(t){for(var e=r.TableMap.get(t),n=[],i=0;i<e.height;i++){for(var o=[],s={},a=0;a<e.width;a++){var c=e.map[i*e.width+a],l=t.nodeAt(c),h=e.findCell(c);s[c]||h.top!==i?o.push(null):(s[c]=!0,o.push(l))}n.push(o)}return n},L=function(t,e){for(var n=[],i=r.TableMap.get(t),o=0;o<i.height;o++){for(var s=t.child(o),a=[],c=0;c<i.width;c++)if(e[o][c]){var l=i.map[o*i.width+c],h=e[o][c],u=t.nodeAt(l),d=u.type.createChecked(Object.assign({},h.attrs),h.content,h.marks);a.push(d)}n.push(s.type.createChecked(s.attrs,a,s.marks))}var p=t.type.createChecked(t.attrs,n,t.marks);return p},E=function(t,e,n,i){var o=A(z(t.node));return o=R(o,e,n,i),o=A(o),L(t.node,o)},N=function(t,e,n,i){var o=z(t.node);return o=R(o,e,n,i),L(t.node,o)},R=function(t,e,n,i){var o=e[0]>n[0]?-1:1,r=t.splice(e[0],e.length),s=r.length%2===0?1:0,a=void 0;return a=-1===i&&1===o?n[0]-1:1===i&&-1===o?n[n.length-1]-s+1:-1===o?n[0]:n[n.length-1]-s,t.splice.apply(t,[a,0].concat(r)),t},D=function(t,e,n,i){var o=t>e?-1:1,r="Target position is invalid, you can't move the "+i+" "+t+" to "+e+", the target can't be split. You could use tryToFit option.";if(1===o){if(-1!==n.slice(0,n.length-1).indexOf(e))throw new Error(r)}else if(-1!==n.slice(1).indexOf(e))throw new Error(r);return!0},B=function(t){return function(e){var n=e.$from;return I(n,t)}},I=function(t,e){for(var n=t.depth;n>0;n--){var i=t.node(n);if(e(i))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:i}}},$=function(t,e){return function(n){var i=B(t)(n);if(i)return J(i.pos,e)}},j=function(t){return function(e){return!!B(t)(e)}},Z=function(t){return function(e){return B(function(e){return _(t,e)})(e)}},F=function(t,e){return I(t,function(t){return _(e,t)})},V=function(t){return function(e){return j(function(e){return _(t,e)})(e)}},W=function(t,e){return function(n){return $(function(e){return _(t,e)},e)(n)}},K=function(t){return function(e){if(y(e)){var n=e.node,i=e.$from;if(_(t,n))return{node:n,pos:i.pos,depth:i.depth}}}},H=function(t){var e=t.$from.nodeBefore,n=i.Selection.findFrom(t.$from,-1);if(n&&e){var o=Z(e.type)(n);return o?o.pos:n.$from.pos}},J=function(t,e){var n=e(t),i=n.node.childNodes[n.offset];return n.node.nodeType===Node.TEXT_NODE?n.node.parentNode:i&&i.nodeType!==Node.TEXT_NODE?i:n.node},U=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t)throw new Error('Invalid "node" parameter');var n=[];return t.descendants(function(t,i){if(n.push({node:t,pos:i}),!e)return!1}),n},q=function(t,e,n){if(!t)throw new Error('Invalid "node" parameter');if(!e)throw new Error('Invalid "predicate" parameter');return U(t,n).filter(function(t){return e(t.node)})},G=function(t,e){return q(t,function(t){return t.isText},e)},X=function(t,e){return q(t,function(t){return t.isInline},e)},Y=function(t,e){return q(t,function(t){return t.isBlock},e)},Q=function(t,e,n){return q(t,function(t){return!!e(t.attrs)},n)},tt=function(t,e,n){return q(t,function(t){return t.type===e},n)},et=function(t,e,n){return q(t,function(t){return e.isInSet(t.marks)},n)},nt=function(t,e){return!!tt(t,e).length};function it(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var ot=function(t){return B(function(t){return t.type.spec.tableRole&&"table"===t.type.spec.tableRole})(t)},rt=function(t){return t instanceof r.CellSelection},st=function(t){if(rt(t)){var e=t.$anchorCell.start(-1),n=r.TableMap.get(t.$anchorCell.node(-1));return n.rectBetween(t.$anchorCell.pos-e,t.$headCell.pos-e)}},at=function(t){return function(e){if(rt(e)){var n=r.TableMap.get(e.$anchorCell.node(-1));return P({left:t,right:t+1,top:0,bottom:n.height})(e)}return!1}},ct=function(t){return function(e){if(rt(e)){var n=r.TableMap.get(e.$anchorCell.node(-1));return P({left:0,right:n.width,top:t,bottom:t+1})(e)}return!1}},lt=function(t){if(rt(t)){var e=r.TableMap.get(t.$anchorCell.node(-1));return P({left:0,right:e.width,top:0,bottom:e.height})(t)}return!1},ht=function(t){return function(e){var n=ot(e);if(n){var i=r.TableMap.get(n.node),o=Array.isArray(t)?t:Array.from([t]);return o.reduce(function(t,e){if(e>=0&&e<=i.width-1){var o=i.cellsInRect({left:e,right:e+1,top:0,bottom:i.height});return t.concat(o.map(function(t){var e=n.node.nodeAt(t),i=t+n.start;return{pos:i,start:i+1,node:e}}))}},[])}}},ut=function(t){return function(e){var n=ot(e);if(n){var i=r.TableMap.get(n.node),o=Array.isArray(t)?t:Array.from([t]);return o.reduce(function(t,e){if(e>=0&&e<=i.height-1){var o=i.cellsInRect({left:0,right:i.width,top:e,bottom:e+1});return t.concat(o.map(function(t){var e=n.node.nodeAt(t),i=t+n.start;return{pos:i,start:i+1,node:e}}))}},[])}}},dt=function(t){var e=ot(t);if(e){var n=r.TableMap.get(e.node),i=n.cellsInRect({left:0,right:n.width,top:0,bottom:n.height});return i.map(function(t){var n=e.node.nodeAt(t),i=t+e.start;return{pos:i,start:i+1,node:n}})}},pt=function(t){return function(e,n){return function(i){var o=ot(i.selection),s="row"===t;if(o){var a=r.TableMap.get(o.node);if(e>=0&&e<(s?a.height:a.width)){var c=s?0:e,l=s?e:0,h=s?a.width:e+1,u=s?e+1:a.height;if(n){var d=Nt(i.selection.$from);if(!d)return i;var p=a.findCell(d.pos-o.start);s?(l=Math.min(l,p.top),u=Math.max(u,p.bottom)):(c=Math.min(c,p.left),h=Math.max(h,p.right))}var f=a.cellsInRect({left:c,top:l,right:s?h:c+1,bottom:s?l+1:u}),m=u-l===1?f:a.cellsInRect({left:s?c:h-1,top:s?u-1:l,right:h,bottom:u}),v=o.start+f[0],g=o.start+m[m.length-1],y=i.doc.resolve(v),_=i.doc.resolve(g);return b(i.setSelection(new r.CellSelection(_,y)))}}return i}}},ft=pt("column"),mt=pt("row"),vt=function(t){var e=ot(t.selection);if(e){var n=r.TableMap.get(e.node),i=n.map;if(i&&i.length){var o=e.start+i[0],s=e.start+i[i.length-1],a=t.doc.resolve(o),c=t.doc.resolve(s);return b(t.setSelection(new r.CellSelection(c,a)))}}return t},gt=function(t,e){return function(n){if(t){var i=k(e).cell.createAndFill(),o=i.content;if(!t.node.content.eq(o))return n.replaceWith(t.pos+1,t.pos+t.node.nodeSize,o),b(n)}return n}},yt=function(t){return function(e){var n=ot(e.selection);if(n){var i=r.TableMap.get(n.node);if(t>=0&&t<=i.width)return b(r.addColumn(e,{map:i,tableStart:n.start,table:n.node},t))}return e}},_t=function(t,e,n){return function(i){var o={tryToFit:!1,direction:0},r=Object.assign(o,n),s=ot(i.selection);if(!s)return i;var a=It(t)(i),c=a.indexes,l=It(e)(i),h=l.indexes;if(c.indexOf(e)>-1)return i;!r.tryToFit&&h.length>1&&D(t,e,h,"row");var u=N(s,c,h,r.direction);return b(i).replaceWith(s.pos,s.pos+s.node.nodeSize,u)}},bt=function(t,e,n){return function(i){var o={tryToFit:!1,direction:0},r=Object.assign(o,n),s=ot(i.selection);if(!s)return i;var a=Bt(t)(i),c=a.indexes,l=Bt(e)(i),h=l.indexes;if(c.indexOf(e)>-1)return i;!r.tryToFit&&h.length>1&&D(t,e,h,"column");var u=E(s,c,h,r.direction);return b(i).replaceWith(s.pos,s.pos+s.node.nodeSize,u)}},wt=function(t,e){return function(n){var i=ot(n.selection);if(i){var o=r.TableMap.get(i.node),s=t-1;if(e&&s>=0)return b(xt(s)(n));if(t>=0&&t<=o.height)return b(r.addRow(n,{map:o,tableStart:i.start,table:i.node},t))}return n}},xt=function(t){return function(e){var n=ot(e.selection);if(n){var i=r.TableMap.get(n.node);if(t>=0&&t<=i.height){for(var o=n.node,s=k(o.type.schema),a=n.start,c=0;c<t+1;c++)a+=o.child(c).nodeSize;var l=o.child(t),h=[],u=0;if(l.forEach(function(t){1===t.attrs.rowspan&&(u+=t.attrs.colspan,h.push(s[t.type.spec.tableRole].createAndFill(t.attrs,t.marks)))}),u<i.width){for(var d=[],p=function(n){var i=Dt(n,function(e,i){var o=e.node.attrs.rowspan,r=n+o;return o>1&&r>t})(e);d.push.apply(d,it(i))},m=t;m>=0;m--)p(m);d.length&&d.forEach(function(t){e=Lt(t,{rowspan:t.node.attrs.rowspan+1})(e)})}return f(s.row.create(l.attrs,h),a)(e)}}return e}},St=function(t){return function(e){var n=ot(e.selection);if(n){var i=r.TableMap.get(n.node);if(0===t&&1===i.width)return Ct(e);if(t>=0&&t<=i.width)return r.removeColumn(e,{map:i,tableStart:n.start,table:n.node},t),b(e)}return e}},kt=function(t){return function(e){var n=ot(e.selection);if(n){var i=r.TableMap.get(n.node);if(0===t&&1===i.height)return Ct(e);if(t>=0&&t<=i.height)return r.removeRow(e,{map:i,tableStart:n.start,table:n.node},t),b(e)}return e}},Ct=function(t){for(var e=t.selection.$from,n=e.depth;n>0;n--){var i=e.node(n);if("table"===i.type.spec.tableRole)return b(t.delete(e.before(n),e.after(n)))}return t},Tt=function(t){var e=t.selection;if(lt(e))return Ct(t);if(rt(e)){var n=ot(e);if(n){var i=r.TableMap.get(n.node),o=i.rectBetween(e.$anchorCell.pos-n.start,e.$headCell.pos-n.start);if(0==o.left&&o.right==i.width)return!1;for(var s=Object.assign({},o,{map:i,table:n.node,tableStart:n.start}),a=s.right-1;;a--){if(r.removeColumn(t,s,a),a===s.left)break;s.table=s.tableStart?t.doc.nodeAt(s.tableStart-1):t.doc,s.map=r.TableMap.get(s.table)}return b(t)}}return t},Mt=function(t){var e=t.selection;if(lt(e))return Ct(t);if(rt(e)){var n=ot(e);if(n){var i=r.TableMap.get(n.node),o=i.rectBetween(e.$anchorCell.pos-n.start,e.$headCell.pos-n.start);if(0==o.top&&o.bottom==i.height)return!1;for(var s=Object.assign({},o,{map:i,table:n.node,tableStart:n.start}),a=s.bottom-1;;a--){if(r.removeRow(t,s,a),a===s.top)break;s.table=s.tableStart?t.doc.nodeAt(s.tableStart-1):t.doc,s.map=r.TableMap.get(s.table)}return b(t)}}return t},Ot=function(t){return function(e){var n=Rt(t);return n?St(n.left)(h(t.pos)(e)):e}},Pt=function(t){return function(e){var n=Rt(t);return n?kt(n.top)(h(t.pos)(e)):e}},At=function(t,e,n){return function(o){var r=ht(t)(o.selection);if(r){for(var s=r.length-1;s>=0;s--)o=e(r[s],o);if(n){var a=o.doc.resolve(o.mapping.map(r[r.length-1].pos));o.setSelection(i.Selection.near(a))}return b(o)}return o}},zt=function(t,e,n){return function(o){var r=ut(t)(o.selection);if(r){for(var s=r.length-1;s>=0;s--)o=e(r[s],o);if(n){var a=o.doc.resolve(o.mapping.map(r[r.length-1].pos));o.setSelection(i.Selection.near(a))}}return o}},Lt=function(t,e){return function(n){return t?(n.setNodeMarkup(t.pos,null,Object.assign({},t.node.attrs,e)),b(n)):n}},Et=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=k(t),s=r.cell,a=r.header_cell,c=r.row,l=r.table,h=[],u=[],d=0;d<n;d++)h.push(O(s,o)),i&&u.push(O(a,o));for(var p=[],f=0;f<e;f++)p.push(c.createChecked(null,i&&0===f?u:h));return l.createChecked(null,p)},Nt=function(t){var e=function(t){return t.type.spec.tableRole&&/cell/i.test(t.type.spec.tableRole)};return I(t,e)},Rt=function(t){var e=Nt(t);if(e){var n=M(t),i=r.TableMap.get(n.node),o=e.pos-n.start;return i.rectBetween(o,o)}},Dt=function(t,e){return function(n){var i=[],o=ut(t)(n.selection);if(o)for(var r=o.length-1;r>=0;r--)e(o[r],n)&&i.push(o[r]);return i}},Bt=function(t){return function(e){for(var n=t,i=t,o=function(t){var o=ht(t)(e.selection);o&&o.forEach(function(e){var o=e.node.attrs.colspan+t-1;o>=n&&(n=t),o>i&&(i=o)})},r=t;r>=0;r--)o(r);var s=function(t){var n=ht(t)(e.selection);n&&n.forEach(function(e){var n=e.node.attrs.colspan+t-1;e.node.attrs.colspan>1&&n>i&&(i=n)})};for(r=t;r<=i;r++)s(r);var a=[];for(r=n;r<=i;r++){var c=ht(r)(e.selection);c&&c.length&&a.push(r)}n=a[0],i=a[a.length-1];for(var l=ht(n)(e.selection),h=ut(0)(e.selection),u=e.doc.resolve(l[l.length-1].pos),d=void 0,p=i;p>=n;p--){var f=ht(p)(e.selection);if(f&&f.length){for(var m=h.length-1;m>=0;m--)if(h[m].pos===f[0].pos){d=f[0];break}if(d)break}}var v=e.doc.resolve(d.pos);return{$anchor:u,$head:v,indexes:a}}},It=function(t){return function(e){for(var n=t,i=t,o=function(t){var o=ut(t)(e.selection);o.forEach(function(e){var o=e.node.attrs.rowspan+t-1;o>=n&&(n=t),o>i&&(i=o)})},r=t;r>=0;r--)o(r);var s=function(t){var n=ut(t)(e.selection);n.forEach(function(e){var n=e.node.attrs.rowspan+t-1;e.node.attrs.rowspan>1&&n>i&&(i=n)})};for(r=t;r<=i;r++)s(r);var a=[];for(r=n;r<=i;r++){var c=ut(r)(e.selection);c&&c.length&&a.push(r)}n=a[0],i=a[a.length-1];for(var l=ut(n)(e.selection),h=ht(0)(e.selection),u=e.doc.resolve(l[l.length-1].pos),d=void 0,p=i;p>=n;p--){var f=ut(p)(e.selection);if(f&&f.length){for(var m=h.length-1;m>=0;m--)if(h[m].pos===f[0].pos){d=f[0];break}if(d)break}}var v=e.doc.resolve(d.pos);return{$anchor:u,$head:v,indexes:a}}};e.isNodeSelection=y,e.canInsert=C,e.convertTableNodeToArrayOfRows=z,e.convertArrayOfRowsToTableNode=L,e.findParentNode=B,e.findParentNodeClosestToPos=I,e.findParentDomRef=$,e.hasParentNode=j,e.findParentNodeOfType=Z,e.findParentNodeOfTypeClosestToPos=F,e.hasParentNodeOfType=V,e.findParentDomRefOfType=W,e.findSelectedNodeOfType=K,e.findPositionOfNodeBefore=H,e.findDomRefAtPos=J,e.flatten=U,e.findChildren=q,e.findTextNodes=G,e.findInlineNodes=X,e.findBlockNodes=Y,e.findChildrenByAttr=Q,e.findChildrenByType=tt,e.findChildrenByMark=et,e.contains=nt,e.findTable=ot,e.isCellSelection=rt,e.getSelectionRect=st,e.isColumnSelected=at,e.isRowSelected=ct,e.isTableSelected=lt,e.getCellsInColumn=ht,e.getCellsInRow=ut,e.getCellsInTable=dt,e.selectColumn=ft,e.selectRow=mt,e.selectTable=vt,e.emptyCell=gt,e.addColumnAt=yt,e.moveRow=_t,e.moveColumn=bt,e.addRowAt=wt,e.cloneRowAt=xt,e.removeColumnAt=St,e.removeRowAt=kt,e.removeTable=Ct,e.removeSelectedColumns=Tt,e.removeSelectedRows=Mt,e.removeColumnClosestToPos=Ot,e.removeRowClosestToPos=Pt,e.forEachCellInColumn=At,e.forEachCellInRow=zt,e.setCellAttrs=Lt,e.createTable=Et,e.findCellClosestToPos=Nt,e.findCellRectClosestToPos=Rt,e.getSelectionRangeInColumn=Bt,e.getSelectionRangeInRow=It,e.removeParentNodeOfType=s,e.replaceParentNodeOfType=a,e.removeSelectedNode=c,e.replaceSelectedNode=l,e.setTextSelection=h,e.safeInsert=f,e.setParentNodeMarkup=m,e.selectParentNodeOfType=v,e.removeNodeBefore=g},b923:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("6f27"),o=65535,r=Math.pow(2,16);function s(t,e){return t+e*r}function a(t){return t&o}function c(t){return(t-(t&o))/r}var l=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},h=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};h.prototype.recover=function(t){var e=this,n=0,i=a(t);if(!this.inverted)for(var o=0;o<i;o++)n+=e.ranges[3*o+2]-e.ranges[3*o+1];return this.ranges[3*i]+n+c(t)},h.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},h.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},h.prototype._map=function(t,e,n){for(var i=this,o=0,r=this.inverted?2:1,a=this.inverted?1:2,c=0;c<this.ranges.length;c+=3){var h=i.ranges[c]-(i.inverted?o:0);if(h>t)break;var u=i.ranges[c+r],d=i.ranges[c+a],p=h+u;if(t<=p){var f=u?t==h?-1:t==p?1:e:e,m=h+o+(f<0?0:d);if(n)return m;var v=s(c/3,t-h);return new l(m,e<0?t!=h:t!=p,v)}o+=d-u}return n?t+o:new l(t+o)},h.prototype.touches=function(t,e){for(var n=this,i=0,o=a(e),r=this.inverted?2:1,s=this.inverted?1:2,c=0;c<this.ranges.length;c+=3){var l=n.ranges[c]-(n.inverted?i:0);if(l>t)break;var h=n.ranges[c+r],u=l+h;if(t<=u&&c==3*o)return!0;i+=n.ranges[c+s]-h}return!1},h.prototype.forEach=function(t){for(var e=this,n=this.inverted?2:1,i=this.inverted?1:2,o=0,r=0;o<this.ranges.length;o+=3){var s=e.ranges[o],a=s-(e.inverted?r:0),c=s+(e.inverted?0:r),l=e.ranges[o+n],h=e.ranges[o+i];t(a,a+l,c,c+h),r+=h-l}},h.prototype.invert=function(){return new h(this.ranges,!this.inverted)},h.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},h.offset=function(t){return 0==t?h.empty:new h(t<0?[0,-t,0]:[0,0,t])},h.empty=new h([]);var u=function(t,e,n,i){this.maps=t||[],this.from=n||0,this.to=null==i?this.maps.length:i,this.mirror=e};function d(t){var e=Error.call(this,t);return e.__proto__=d.prototype,e}u.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new u(this.maps,this.mirror,t,e)},u.prototype.copy=function(){return new u(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},u.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},u.prototype.appendMapping=function(t){for(var e=this,n=0,i=this.maps.length;n<t.maps.length;n++){var o=t.getMirror(n);e.appendMap(t.maps[n],null!=o&&o<n?i+o:null)}},u.prototype.getMirror=function(t){var e=this;if(this.mirror)for(var n=0;n<this.mirror.length;n++)if(e.mirror[n]==t)return e.mirror[n+(n%2?-1:1)]},u.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},u.prototype.appendMappingInverted=function(t){for(var e=this,n=t.maps.length-1,i=this.maps.length+t.maps.length;n>=0;n--){var o=t.getMirror(n);e.appendMap(t.maps[n].invert(),null!=o&&o>n?i-o-1:null)}},u.prototype.invert=function(){var t=new u;return t.appendMappingInverted(this),t},u.prototype.map=function(t,e){var n=this;if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var i=this.from;i<this.to;i++)t=n.maps[i].map(t,e);return t},u.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},u.prototype._map=function(t,e,n){for(var i=this,o=!1,r=null,s=this.from;s<this.to;s++){var a=i.maps[s],c=r&&r[s];if(null!=c&&a.touches(t,c))t=a.recover(c);else{var h=a.mapResult(t,e);if(null!=h.recover){var u=i.getMirror(s);if(null!=u&&u>s&&u<i.to){if(h.deleted){s=u,t=i.maps[u].recover(h.recover);continue}(r||(r=Object.create(null)))[u]=h.recover}}h.deleted&&(o=!0),t=h.pos}}return n?t:new l(t,o)},d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.name="TransformError";var p=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new u},f={before:{},docChanged:{}};function m(){throw new Error("Override me")}f.before.get=function(){return this.docs.length?this.docs[0]:this.doc},p.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new d(e.failed);return this},p.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},f.docChanged.get=function(){return this.steps.length>0},p.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(p.prototype,f);var v=Object.create(null),g=function(){};g.prototype.apply=function(t){return m()},g.prototype.getMap=function(){return h.empty},g.prototype.invert=function(t){return m()},g.prototype.map=function(t){return m()},g.prototype.merge=function(t){return null},g.prototype.toJSON=function(){return m()},g.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=v[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},g.jsonID=function(t,e){if(t in v)throw new RangeError("Duplicate use of step JSON ID "+t);return v[t]=e,e.prototype.jsonID=t,e};var y=function(t,e){this.doc=t,this.failed=e};y.ok=function(t){return new y(t,null)},y.fail=function(t){return new y(null,t)},y.fromReplace=function(t,e,n,o){try{return y.ok(t.replace(e,n,o))}catch(r){if(r instanceof i.ReplaceError)return y.fail(r.message);throw r}};var _=function(t){function e(e,n,i,o){t.call(this),this.from=e,this.to=n,this.slice=i,this.structure=!!o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&w(t,this.from,this.to)?y.fail("Structure replace would overwrite content"):y.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new h([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return n.deleted&&i.deleted?null:new e(n.pos,Math.max(n.pos,i.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure!=this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?i.Slice.empty:new i.Slice(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var o=this.slice.size+t.slice.size==0?i.Slice.empty:new i.Slice(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),o,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,i.Slice.fromJSON(t,n.slice),!!n.structure)},e}(g);g.jsonID("replace",_);var b=function(t){function e(e,n,i,o,r,s,a){t.call(this),this.from=e,this.to=n,this.gapFrom=i,this.gapTo=o,this.slice=r,this.insert=s,this.structure=!!a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(w(t,this.from,this.gapFrom)||w(t,this.gapTo,this.to)))return y.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return y.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?y.fromReplace(t,this.from,this.to,n):y.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new h([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1),o=t.map(this.gapFrom,-1),r=t.map(this.gapTo,1);return n.deleted&&i.deleted||o<n.pos||r>i.pos?null:new e(n.pos,i.pos,o,r,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,i.Slice.fromJSON(t,n.slice),n.insert,!!n.structure)},e}(g);function w(t,e,n){var i=t.resolve(e),o=n-e,r=i.depth;while(o>0&&r>0&&i.indexAfter(r)==i.node(r).childCount)r--,o--;if(o>0){var s=i.node(r).maybeChild(i.indexAfter(r));while(o>0){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}}return!1}function x(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function S(t){for(var e=t.parent,n=e.content.cutByIndex(t.startIndex,t.endIndex),i=t.depth;;--i){var o=t.$from.node(i),r=t.$from.index(i),s=t.$to.indexAfter(i);if(i<t.depth&&o.canReplace(r,s,n))return i;if(0==i||o.type.spec.isolating||!x(o,r,s))break}}function k(t,e,n,i){void 0===i&&(i=t);var o=T(t,e),r=o&&M(i,e);return r?o.map(C).concat({type:e,attrs:n}).concat(r.map(C)):null}function C(t){return{type:t,attrs:null}}function T(t,e){var n=t.parent,i=t.startIndex,o=t.endIndex,r=n.contentMatchAt(i).findWrapping(e);if(!r)return null;var s=r.length?r[0]:e;return n.canReplaceWith(i,o,s)?r:null}function M(t,e){var n=t.parent,i=t.startIndex,o=t.endIndex,r=n.child(i),s=e.contentMatch.findWrapping(r.type);if(!s)return null;for(var a=s.length?s[s.length-1]:e,c=a.contentMatch,l=i;c&&l<o;l++)c=c.matchType(n.child(l).type);return c&&c.validEnd?s:null}function O(t,e,n){var i=t.resolve(e),o=i.index();return i.parent.canReplaceWith(o,o+1,n)}function P(t,e,n,i){void 0===n&&(n=1);var o=t.resolve(e),r=o.depth-n,s=i&&i[i.length-1]||o.parent;if(r<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var a=o.depth-1,c=n-2;a>r;a--,c--){var l=o.node(a),h=o.index(a);if(l.type.spec.isolating)return!1;var u=l.content.cutByIndex(h,l.childCount),d=i&&i[c]||l;if(d!=l&&(u=u.replaceChild(0,d.type.create(d.attrs))),!l.canReplace(h+1,l.childCount)||!d.type.validContent(u))return!1}var p=o.indexAfter(r),f=i&&i[0];return o.node(r).canReplaceWith(p,p,f?f.type:o.node(r+1).type)}function A(t,e){var n=t.resolve(e),i=n.index();return z(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function z(t,e){return t&&e&&!t.isLeaf&&t.canAppend(e)}function L(t,e,n){void 0===n&&(n=-1);for(var i=t.resolve(e),o=i.depth;;o--){var r=void 0,s=void 0;if(o==i.depth?(r=i.nodeBefore,s=i.nodeAfter):n>0?(r=i.node(o+1),s=i.node(o).maybeChild(i.index(o)+1)):(r=i.node(o).maybeChild(i.index(o)-1),s=i.node(o+1)),r&&!r.isTextblock&&z(r,s))return e;if(0==o)break;e=n<0?i.before(o):i.after(o)}}function E(t,e,n){var i=t.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),n))return e;if(0==i.parentOffset)for(var o=i.depth-1;o>=0;o--){var r=i.index(o);if(i.node(o).canReplaceWith(r,r,n))return i.before(o+1);if(r>0)return null}if(i.parentOffset==i.parent.content.size)for(var s=i.depth-1;s>=0;s--){var a=i.indexAfter(s);if(i.node(s).canReplaceWith(a,a,n))return i.after(s+1);if(a<i.node(s).childCount)return null}}function N(t,e,n){var i=t.resolve(e);if(!n.content.size)return e;for(var o=n.content,r=0;r<n.openStart;r++)o=o.firstChild.content;for(var s=1;s<=(0==n.openStart&&n.size?2:1);s++)for(var a=i.depth;a>=0;a--){var c=a==i.depth?0:i.pos<=(i.start(a+1)+i.end(a+1))/2?-1:1,l=i.index(a)+(c>0?1:0);if(1==s?i.node(a).canReplace(l,l,o):i.node(a).contentMatchAt(l).findWrapping(o.firstChild.type))return 0==c?i.pos:c<0?i.before(a+1):i.after(a+1)}return null}function R(t,e,n){for(var o=[],r=0;r<t.childCount;r++){var s=t.child(r);s.content.size&&(s=s.copy(R(s.content,e,s))),s.isInline&&(s=e(s,n,r)),o.push(s)}return i.Fragment.fromArray(o)}g.jsonID("replaceAround",b),p.prototype.lift=function(t,e){for(var n=t.$from,o=t.$to,r=t.depth,s=n.before(r+1),a=o.after(r+1),c=s,l=a,h=i.Fragment.empty,u=0,d=r,p=!1;d>e;d--)p||n.index(d)>0?(p=!0,h=i.Fragment.from(n.node(d).copy(h)),u++):c--;for(var f=i.Fragment.empty,m=0,v=r,g=!1;v>e;v--)g||o.after(v+1)<o.end(v)?(g=!0,f=i.Fragment.from(o.node(v).copy(f)),m++):l++;return this.step(new b(c,l,s,a,new i.Slice(h.append(f),u,m),h.size-u,!0))},p.prototype.wrap=function(t,e){for(var n=i.Fragment.empty,o=e.length-1;o>=0;o--)n=i.Fragment.from(e[o].type.create(e[o].attrs,n));var r=t.start,s=t.end;return this.step(new b(r,s,r,s,new i.Slice(n,0,0),e.length,!0))},p.prototype.setBlockType=function(t,e,n,o){var r=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var s=this.steps.length;return this.doc.nodesBetween(t,e,function(t,e){if(t.isTextblock&&!t.hasMarkup(n,o)&&O(r.doc,r.mapping.slice(s).map(e),n)){r.clearIncompatible(r.mapping.slice(s).map(e,1),n);var a=r.mapping.slice(s),c=a.map(e,1),l=a.map(e+t.nodeSize,1);return r.step(new b(c,l,c+1,l-1,new i.Slice(i.Fragment.from(n.create(o,null,t.marks)),0,0),1,!0)),!1}}),this},p.prototype.setNodeMarkup=function(t,e,n,o){var r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at given position");e||(e=r.type);var s=e.create(n,null,o||r.marks);if(r.isLeaf)return this.replaceWith(t,t+r.nodeSize,s);if(!e.validContent(r.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new b(t,t+r.nodeSize,t+1,t+r.nodeSize-1,new i.Slice(i.Fragment.from(s),0,0),1,!0))},p.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var o=this.doc.resolve(t),r=i.Fragment.empty,s=i.Fragment.empty,a=o.depth,c=o.depth-e,l=e-1;a>c;a--,l--){r=i.Fragment.from(o.node(a).copy(r));var h=n&&n[l];s=i.Fragment.from(h?h.type.create(h.attrs,s):o.node(a).copy(s))}return this.step(new _(t,t,new i.Slice(r.append(s),e,e,!0)))},p.prototype.join=function(t,e){void 0===e&&(e=1);var n=new _(t-e,t+e,i.Slice.empty,!0);return this.step(n)};var D=function(t){function e(e,n,i){t.call(this),this.from=e,this.to=n,this.mark=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),o=t.resolve(this.from),r=o.node(o.sharedDepth(this.to)),s=new i.Slice(R(n.content,function(t,n){return n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t},r),n.openStart,n.openEnd);return y.fromReplace(t,this.from,this.to,s)},e.prototype.invert=function(){return new B(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new e(n.pos,i.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(g);g.jsonID("addMark",D);var B=function(t){function e(e,n,i){t.call(this),this.from=e,this.to=n,this.mark=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),o=new i.Slice(R(n.content,function(t){return t.mark(e.mark.removeFromSet(t.marks))}),n.openStart,n.openEnd);return y.fromReplace(t,this.from,this.to,o)},e.prototype.invert=function(){return new D(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new e(n.pos,i.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(g);function I(t,e,n,o){if(void 0===n&&(n=e),void 0===o&&(o=i.Slice.empty),e==n&&!o.size)return null;var r=t.resolve(e),s=t.resolve(n);if(H(r,s,o))return new _(e,n,o);var a=q(r,o),c=j(r,a),l=K(r,s,c);if(!l)return null;if(c.size!=l.size&&J(r,s,c)){var h=s.depth,u=s.after(h);while(h>1&&u==s.end(--h))++u;var d=K(r,t.resolve(u),c);if(d)return new b(e,u,n,s.end(),d,c.size)}return l.size||e!=n?new _(e,n,l):null}function $(t,e,n,o){var r=i.Fragment.empty,s=0,a=n[e];if(t.depth>e){var c=$(t,e+1,n,o||a);s=c.openEnd+1,r=i.Fragment.from(t.node(e+1).copy(c.content))}return a&&(r=r.append(a.content),s=a.openEnd),o&&(r=r.append(t.node(e).contentMatchAt(t.indexAfter(e)).fillBefore(i.Fragment.empty,!0)),s=0),{content:r,openEnd:s}}function j(t,e){var n=$(t,0,e,!1),o=n.content,r=n.openEnd;return new i.Slice(o,t.depth,r||0)}function Z(t,e,n,i,o,r,s){var a,c=t.childCount,l=c-(s>0?1:0),h=r<0?e:n.node(o);a=r<0?h.contentMatchAt(l):1==c&&s>0?h.contentMatchAt(r?n.index(o):n.indexAfter(o)):h.contentMatchAt(n.indexAfter(o)).matchFragment(t,c>0&&r?1:0,l);var u=i.node(o);if(s>0&&o<i.depth){var d=u.content.cutByIndex(i.indexAfter(o)).addToStart(t.lastChild),p=a.fillBefore(d,!0);if(p&&p.size&&r>0&&1==c&&(p=null),p){var f=Z(t.lastChild.content,t.lastChild,n,i,o+1,1==c?r-1:-1,s-1);if(f){var m=t.lastChild.copy(f);return p.size?t.cutByIndex(0,c-1).append(p).addToEnd(m):t.replaceChild(c-1,m)}}}s>0&&(a=a.matchType((1==c&&r>0?n.node(o+1):t.lastChild).type));var v=i.index(o);if(v==u.childCount&&!u.type.compatibleContent(e.type))return null;for(var g=a.fillBefore(u.content,!0,v),y=v;g&&y<u.content.childCount;y++)h.type.allowsMarks(u.content.child(y).marks)||(g=null);if(!g)return null;if(s>0){var _=F(t.lastChild,s-1,n,o+1,1==c?r-1:-1);t=t.replaceChild(c-1,_)}return t=t.append(g),i.depth>o&&(t=t.addToEnd(V(i,o+1))),t}function F(t,e,n,o,r){var s,a=t.content,c=a.childCount;if(s=r>=0?n.node(o).contentMatchAt(n.indexAfter(o)).matchFragment(a,r>0?1:0,c):t.contentMatchAt(c),e>0){var l=F(a.lastChild,e-1,n,o+1,1==c?r-1:-1);a=a.replaceChild(c-1,l)}return t.copy(a.append(s.fillBefore(i.Fragment.empty,!0)))}function V(t,e){var n=t.node(e),i=n.contentMatchAt(0).fillBefore(n.content,!0,t.index(e));return t.depth>e&&(i=i.addToEnd(V(t,e+1))),n.copy(i)}function W(t,e,n){while(e>0&&n>0&&1==t.childCount)t=t.firstChild.content,e--,n--;return new i.Slice(t,e,n)}function K(t,e,n){var i=Z(n.content,t.node(0),t,e,0,n.openStart,n.openEnd);return i?W(i,n.openStart,e.depth):null}function H(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}function J(t,e,n){if(!e.parent.isTextblock)return!1;var i,o=n.openEnd?U(n.content,n.openEnd):t.node(t.depth-(n.openStart-n.openEnd));if(!o.isTextblock)return!1;for(var r=e.index();r<e.parent.childCount;r++)if(!o.type.allowsMarks(e.parent.child(r).marks))return!1;return n.openEnd?i=o.contentMatchAt(o.childCount):(i=o.contentMatchAt(o.childCount),n.size&&(i=i.matchFragment(n.content,n.openStart?1:0))),i=i.matchFragment(e.parent.content,e.index()),i&&i.validEnd}function U(t,e){for(var n=1;n<e;n++)t=t.lastChild.content;return t.lastChild}function q(t,e){for(var n=new G(t),i=1;e.size&&i<=3;i++)e=n.placeSlice(e.content,e.openStart,e.openEnd,i);while(n.open.length)n.closeNode();return n.placed}g.jsonID("removeMark",B),p.prototype.addMark=function(t,e,n){var i=this,o=[],r=[],s=null,a=null;return this.doc.nodesBetween(t,e,function(i,c,l){if(i.isInline){var h=i.marks;if(!n.isInSet(h)&&l.type.allowsMarkType(n.type)){for(var u=Math.max(c,t),d=Math.min(c+i.nodeSize,e),p=n.addToSet(h),f=0;f<h.length;f++)h[f].isInSet(p)||(s&&s.to==u&&s.mark.eq(h[f])?s.to=d:o.push(s=new B(u,d,h[f])));a&&a.to==u?a.to=d:r.push(a=new D(u,d,n))}}}),o.forEach(function(t){return i.step(t)}),r.forEach(function(t){return i.step(t)}),this},p.prototype.removeMark=function(t,e,n){var o=this;void 0===n&&(n=null);var r=[],s=0;return this.doc.nodesBetween(t,e,function(o,a){if(o.isInline){s++;var c=null;if(n instanceof i.MarkType){var l=n.isInSet(o.marks);l&&(c=[l])}else n?n.isInSet(o.marks)&&(c=[n]):c=o.marks;if(c&&c.length)for(var h=Math.min(a+o.nodeSize,e),u=0;u<c.length;u++){for(var d=c[u],p=void 0,f=0;f<r.length;f++){var m=r[f];m.step==s-1&&d.eq(r[f].style)&&(p=m)}p?(p.to=h,p.step=s):r.push({style:d,from:Math.max(a,t),to:h,step:s})}}}),r.forEach(function(t){return o.step(new B(t.from,t.to,t.style))}),this},p.prototype.clearIncompatible=function(t,e,n){var o=this;void 0===n&&(n=e.contentMatch);for(var r=this.doc.nodeAt(t),s=[],a=t+1,c=0;c<r.childCount;c++){var l=r.child(c),h=a+l.nodeSize,u=n.matchType(l.type,l.attrs);if(u){n=u;for(var d=0;d<l.marks.length;d++)e.allowsMarkType(l.marks[d].type)||o.step(new B(a,h,l.marks[d]))}else s.push(new _(a,h,i.Slice.empty));a=h}if(!n.validEnd){var p=n.fillBefore(i.Fragment.empty,!0);this.replace(a,a,new i.Slice(p,0,0))}for(var f=s.length-1;f>=0;f--)o.step(s[f]);return this},p.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=i.Slice.empty);var o=I(this.doc,t,e,n);return o&&this.step(o),this},p.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new i.Slice(i.Fragment.from(n),0,0))},p.prototype.delete=function(t,e){return this.replace(t,e,i.Slice.empty)},p.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var G=function(t){var e=this;this.open=[];for(var n=0;n<=t.depth;n++){var o=t.node(n),r=o.contentMatchAt(t.indexAfter(n));e.open.push({parent:o,match:r,content:i.Fragment.empty,wrapper:!1,openEnd:0,depth:n})}this.placed=[]};function X(t,e,n){var i=t.content;if(e>1){var o=X(t.firstChild,e-1,1==t.childCount?n-1:0);i=t.content.replaceChild(0,o)}var r=t.type.contentMatch.fillBefore(i,0==n);return t.copy(r.append(i))}function Y(t,e){var n=t.content;if(e>1){var o=Y(t.lastChild,e-1);n=t.content.replaceChild(t.childCount-1,o)}var r=t.contentMatchAt(t.childCount).fillBefore(i.Fragment.empty,!0);return t.copy(n.append(r))}function Q(t,e){return e?t.replaceChild(t.childCount-1,Y(t.lastChild,e)):t}function tt(t,e,n,i,o){if(e<n){var r=t.firstChild;t=t.replaceChild(0,r.copy(tt(r.content,e+1,n,i,r)))}return e>i&&(t=o.contentMatchAt(0).fillBefore(t,!0).append(t)),t}function et(t,e){for(var n=[],i=Math.min(t.depth,e.depth),o=i;o>=0;o--){var r=t.start(o);if(r<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;r==e.start(o)&&n.push(o)}return n}G.prototype.placeSlice=function(t,e,n,o,r){var s=this;if(e>0){var a=t.firstChild,c=this.placeSlice(a.content,Math.max(0,e-1),n&&1==t.childCount?n-1:0,o,a);c.content!=a.content&&(c.content.size?(t=t.replaceChild(0,a.copy(c.content)),e=c.openStart+1):(1==t.childCount&&(n=0),t=t.cutByIndex(1),e=0))}var l=this.placeContent(t,e,n,o,r);if(o>2&&l.size&&0==e){for(var h=0;h<l.content.childCount;h++){var u=l.content.child(h);s.placeContent(u.content,0,n&&h==l.content.childCount.length-1?n-1:0,o,u)}l=i.Fragment.empty}return l},G.prototype.placeContent=function(t,e,n,o,r){for(var s=this,a=0;a<t.childCount;a++){for(var c=t.child(a),l=!1,h=a==t.childCount-1,u=this.open.length-1;u>=0;u--){var d=s.open[u],p=void 0;if(o>1&&(p=d.match.findWrapping(c.type))&&(!r||!p.length||p[p.length-1]!=r.type)){while(this.open.length-1>u)s.closeNode();for(var f=0;f<p.length;f++)d.match=d.match.matchType(p[f]),u++,d={parent:p[f].create(),match:p[f].contentMatch,content:i.Fragment.empty,wrapper:!0,openEnd:0,depth:u+f},s.open.push(d)}var m=d.match.matchType(c.type);if(!m){var v=d.match.fillBefore(i.Fragment.from(c));if(!v){if(r&&d.match.matchType(r.type))break;continue}for(var g=0;g<v.childCount;g++){var y=v.child(g);s.addNode(d,y,0),m=d.match.matchFragment(y)}}while(this.open.length-1>u)s.closeNode();c=c.mark(d.parent.type.allowedMarks(c.marks)),e&&(c=X(c,e,h?n:0),e=0),s.addNode(d,c,h?n:0),d.match=m,h&&(n=0),l=!0;break}if(!l)break}return this.open.length>1&&(a>0&&a==t.childCount||r&&this.open[this.open.length-1].parent.type==r.type)&&this.closeNode(),new i.Slice(t.cutByIndex(a),e,n)},G.prototype.addNode=function(t,e,n){t.content=Q(t.content,t.openEnd).addToEnd(e),t.openEnd=n},G.prototype.closeNode=function(){var t=this.open.pop();0==t.content.size||(t.wrapper?this.addNode(this.open[this.open.length-1],t.parent.copy(t.content),t.openEnd+1):this.placed[t.depth]={depth:t.depth,content:t.content,openEnd:t.openEnd})},p.prototype.replaceRange=function(t,e,n){var o=this;if(!n.size)return this.deleteRange(t,e);var r=this.doc.resolve(t),s=this.doc.resolve(e);if(H(r,s,n))return this.step(new _(t,e,n));var a=et(r,this.doc.resolve(e));0==a[a.length-1]&&a.pop();var c=-(r.depth+1);a.unshift(c);for(var l=r.depth,h=r.pos-1;l>0;l--,h--){var u=r.node(l).type.spec;if(u.defining||u.isolating)break;a.indexOf(l)>-1?c=l:r.before(l)==h&&a.splice(1,0,-l)}for(var d=a.indexOf(c),p=[],f=n.openStart,m=n.content,v=0;;v++){var g=m.firstChild;if(p.push(g),v==n.openStart)break;m=g.content}f>0&&p[f-1].type.spec.defining&&r.node(d).type!=p[f-1].type?f-=1:f>=2&&p[f-1].isTextblock&&p[f-2].type.spec.defining&&r.node(d).type!=p[f-2].type&&(f-=2);for(var y=n.openStart;y>=0;y--){var b=(y+f+1)%(n.openStart+1),w=p[b];if(w)for(var x=0;x<a.length;x++){var S=a[(x+d)%a.length],k=!0;S<0&&(k=!1,S=-S);var C=r.node(S-1),T=r.index(S-1);if(C.canReplaceWith(T,T,w.type,w.marks))return o.replace(r.before(S),k?s.after(S):e,new i.Slice(tt(n.content,0,n.openStart,b),b,n.openEnd))}}return this.replace(t,e,n)},p.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var o=E(this.doc,t,n.type);null!=o&&(t=e=o)}return this.replaceRange(t,e,new i.Slice(i.Fragment.from(n),0,0))},p.prototype.deleteRange=function(t,e){for(var n=this,i=this.doc.resolve(t),o=this.doc.resolve(e),r=et(i,o),s=0;s<r.length;s++){var a=r[s],c=s==r.length-1;if(c&&0==a||i.node(a).type.contentMatch.validEnd)return n.delete(i.start(a),o.end(a));if(a>0&&(c||i.node(a-1).canReplace(i.index(a-1),o.indexAfter(a-1))))return n.delete(i.before(a),o.after(a))}for(var l=1;l<=i.depth;l++)if(t-i.start(l)==i.depth-l&&e>i.end(l))return n.delete(i.before(l),e);return this.delete(t,e)},e.Transform=p,e.TransformError=d,e.Step=g,e.StepResult=y,e.joinPoint=L,e.canJoin=A,e.canSplit=P,e.insertPoint=E,e.dropPoint=N,e.liftTarget=S,e.findWrapping=k,e.StepMap=h,e.MapResult=l,e.Mapping=u,e.AddMarkStep=D,e.RemoveMarkStep=B,e.ReplaceStep=_,e.ReplaceAroundStep=b,e.replaceStep=I},e11eb:function(t,e,n){
/* @preserve
 * Leaflet 1.5.1+build.2e3e0ff, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2018 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
(function(t,n){n(e)})(0,function(t){"use strict";var e="1.5.1+build.2e3e0ffb",n=Object.freeze;function i(t){var e,n,i,o;for(n=1,i=arguments.length;n<i;n++)for(e in o=arguments[n],o)t[e]=o[e];return t}Object.freeze=function(t){return t};var o=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function r(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var s=0;function a(t){return t._leaflet_id=t._leaflet_id||++s,t._leaflet_id}function c(t,e,n){var i,o,r,s;return s=function(){i=!1,o&&(r.apply(n,o),o=!1)},r=function(){i?o=arguments:(t.apply(n,arguments),setTimeout(s,e),i=!0)},r}function l(t,e,n){var i=e[1],o=e[0],r=i-o;return t===i&&n?t:((t-o)%r+r)%r+o}function h(){return!1}function u(t,e){return e=void 0===e?6:e,+(Math.round(t+"e+"+e)+"e-"+e)}function d(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function p(t){return d(t).split(/\s+/)}function f(t,e){for(var n in t.hasOwnProperty("options")||(t.options=t.options?o(t.options):{}),e)t.options[n]=e[n];return t.options}function m(t,e,n){var i=[];for(var o in t)i.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}var v=/\{ *([\w_-]+) *\}/g;function g(t,e){return t.replace(v,function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"===typeof i&&(i=i(e)),i})}var y=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function _(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function w(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var x=0;function S(t){var e=+new Date,n=Math.max(0,16-(e-x));return x=e+n,window.setTimeout(t,n)}var k=window.requestAnimationFrame||w("RequestAnimationFrame")||S,C=window.cancelAnimationFrame||w("CancelAnimationFrame")||w("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function T(t,e,n){if(!n||k!==S)return k.call(window,r(t,e));t.call(e)}function M(t){t&&C.call(window,t)}var O=(Object.freeze||Object)({freeze:n,extend:i,create:o,bind:r,lastId:s,stamp:a,throttle:c,wrapNum:l,falseFn:h,formatNum:u,trim:d,splitWords:p,setOptions:f,getParamString:m,template:g,isArray:y,indexOf:_,emptyImageUrl:b,requestFn:k,cancelFn:C,requestAnimFrame:T,cancelAnimFrame:M});function P(){}function A(t){if("undefined"!==typeof L&&L&&L.Mixin){t=y(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}P.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=e.__super__=this.prototype,r=o(n);for(var s in r.constructor=e,e.prototype=r,this)this.hasOwnProperty(s)&&"prototype"!==s&&"__super__"!==s&&(e[s]=this[s]);return t.statics&&(i(e,t.statics),delete t.statics),t.includes&&(A(t.includes),i.apply(null,[r].concat(t.includes)),delete t.includes),r.options&&(t.options=i(o(r.options),t.options)),i(r,t),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;t<e;t++)r._initHooks[t].call(this)}},e},P.include=function(t){return i(this.prototype,t),this},P.mergeOptions=function(t){return i(this.prototype.options,t),this},P.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"===typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var z={on:function(t,e,n){if("object"===typeof t)for(var i in t)this._on(i,t[i],e);else{t=p(t);for(var o=0,r=t.length;o<r;o++)this._on(t[o],e,n)}return this},off:function(t,e,n){if(t)if("object"===typeof t)for(var i in t)this._off(i,t[i],e);else{t=p(t);for(var o=0,r=t.length;o<r;o++)this._off(t[o],e,n)}else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var o={fn:e,ctx:n},r=i,s=0,a=r.length;s<a;s++)if(r[s].fn===e&&r[s].ctx===n)return;r.push(o)},_off:function(t,e,n){var i,o,r;if(this._events&&(i=this._events[t],i))if(e){if(n===this&&(n=void 0),i)for(o=0,r=i.length;o<r;o++){var s=i[o];if(s.ctx===n&&s.fn===e)return s.fn=h,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(o,1)}}else{for(o=0,r=i.length;o<r;o++)i[o].fn=h;delete this._events[t]}},fire:function(t,e,n){if(!this.listens(t,n))return this;var o=i({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var s=0,a=r.length;s<a;s++){var c=r[s];c.fn.call(c.ctx||this,o)}this._firingCount--}}return n&&this._propagateEvent(o),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"===typeof t){for(var i in t)this.once(i,t[i],e);return this}var o=r(function(){this.off(t,e,n).off(t,o,n)},this);return this.on(t,e,n).on(t,o,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[a(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[a(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,i({layer:t.target,propagatedFrom:t.target},t),!0)}};z.addEventListener=z.on,z.removeEventListener=z.clearAllEventListeners=z.off,z.addOneTimeEventListener=z.once,z.fireEvent=z.fire,z.hasEventListeners=z.listens;var E=P.extend(z);function N(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var R=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function D(t,e,n){return t instanceof N?t:y(t)?new N(t[0],t[1]):void 0===t||null===t?t:"object"===typeof t&&"x"in t&&"y"in t?new N(t.x,t.y):new N(t,e,n)}function B(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function I(t,e){return!t||t instanceof B?t:new B(t,e)}function $(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function j(t,e){return t instanceof $?t:new $(t,e)}function Z(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function F(t,e,n){return t instanceof Z?t:y(t)&&"object"!==typeof t[0]?3===t.length?new Z(t[0],t[1],t[2]):2===t.length?new Z(t[0],t[1]):null:void 0===t||null===t?t:"object"===typeof t&&"lat"in t?new Z(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new Z(t,e,n)}N.prototype={clone:function(){return new N(this.x,this.y)},add:function(t){return this.clone()._add(D(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(D(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new N(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new N(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=R(this.x),this.y=R(this.y),this},distanceTo:function(t){t=D(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=D(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=D(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},B.prototype={extend:function(t){return t=D(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new N((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new N(this.min.x,this.max.y)},getTopRight:function(){return new N(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return t="number"===typeof t[0]||t instanceof N?D(t):I(t),t instanceof B?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=I(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>=e.x&&i.x<=n.x,s=o.y>=e.y&&i.y<=n.y;return r&&s},overlaps:function(t){t=I(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>e.x&&i.x<n.x,s=o.y>e.y&&i.y<n.y;return r&&s},isValid:function(){return!(!this.min||!this.max)}},$.prototype={extend:function(t){var e,n,i=this._southWest,o=this._northEast;if(t instanceof Z)e=t,n=t;else{if(!(t instanceof $))return t?this.extend(F(t)||j(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||o?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new Z(e.lat,e.lng),this._northEast=new Z(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new $(new Z(e.lat-i,e.lng-o),new Z(n.lat+i,n.lng+o))},getCenter:function(){return new Z((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Z(this.getNorth(),this.getWest())},getSouthEast:function(){return new Z(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"===typeof t[0]||t instanceof Z||"lat"in t?F(t):j(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof $?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=j(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>=e.lat&&i.lat<=n.lat,s=o.lng>=e.lng&&i.lng<=n.lng;return r&&s},overlaps:function(t){t=j(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>e.lat&&i.lat<n.lat,s=o.lng>e.lng&&i.lng<n.lng;return r&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=j(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},Z.prototype={equals:function(t,e){if(!t)return!1;t=F(t);var n=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return n<=(void 0===e?1e-9:e)},toString:function(t){return"LatLng("+u(this.lat,t)+", "+u(this.lng,t)+")"},distanceTo:function(t){return W.distance(this,F(t))},wrap:function(){return W.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return j([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new Z(this.lat,this.lng,this.alt)}};var V={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t),i=this.transformation.transform(e.min,n),o=this.transformation.transform(e.max,n);return new B(i,o)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?l(t.lng,this.wrapLng,!0):t.lng,n=this.wrapLat?l(t.lat,this.wrapLat,!0):t.lat,i=t.alt;return new Z(n,e,i)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,o=e.lng-n.lng;if(0===i&&0===o)return t;var r=t.getSouthWest(),s=t.getNorthEast(),a=new Z(r.lat-i,r.lng-o),c=new Z(s.lat-i,s.lng-o);return new $(a,c)}},W=i({},V,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,o=e.lat*n,r=Math.sin((e.lat-t.lat)*n/2),s=Math.sin((e.lng-t.lng)*n/2),a=r*r+Math.cos(i)*Math.cos(o)*s*s,c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*c}}),K=6378137,H={R:K,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=Math.sin(i*e);return new N(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new Z((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=K*Math.PI;return new B([-t,-t],[t,t])}()};function J(t,e,n,i){if(y(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function U(t,e,n,i){return new J(t,e,n,i)}J.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new N((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var q=i({},W,{code:"EPSG:3857",projection:H,transformation:function(){var t=.5/(Math.PI*H.R);return U(t,.5,-t,.5)}()}),G=i({},q,{code:"EPSG:900913"});function X(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Y(t,e){var n,i,o,r,s,a,c="";for(n=0,o=t.length;n<o;n++){for(s=t[n],i=0,r=s.length;i<r;i++)a=s[i],c+=(i?"L":"M")+a.x+" "+a.y;c+=e?Pt?"z":"x":""}return c||"M0 0"}var Q=document.documentElement.style,tt="ActiveXObject"in window,et=tt&&!document.addEventListener,nt="msLaunchUri"in navigator&&!("documentMode"in document),it=zt("webkit"),ot=zt("android"),rt=zt("android 2")||zt("android 3"),st=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),at=ot&&zt("Google")&&st<537&&!("AudioNode"in window),ct=!!window.opera,lt=zt("chrome"),ht=zt("gecko")&&!it&&!ct&&!tt,ut=!lt&&zt("safari"),dt=zt("phantom"),pt="OTransition"in Q,ft=0===navigator.platform.indexOf("Win"),mt=tt&&"transition"in Q,vt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rt,gt="MozPerspective"in Q,yt=!window.L_DISABLE_3D&&(mt||vt||gt)&&!pt&&!dt,_t="undefined"!==typeof orientation||zt("mobile"),bt=_t&&it,wt=_t&&vt,xt=!window.PointerEvent&&window.MSPointerEvent,St=!(!window.PointerEvent&&!xt),kt=!window.L_NO_TOUCH&&(St||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Ct=_t&&ct,Tt=_t&&ht,Mt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ot=function(){return!!document.createElement("canvas").getContext}(),Pt=!(!document.createElementNS||!X("svg").createSVGRect),At=!Pt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"===typeof e.adj}catch(n){return!1}}();function zt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Lt=(Object.freeze||Object)({ie:tt,ielt9:et,edge:nt,webkit:it,android:ot,android23:rt,androidStock:at,opera:ct,chrome:lt,gecko:ht,safari:ut,phantom:dt,opera12:pt,win:ft,ie3d:mt,webkit3d:vt,gecko3d:gt,any3d:yt,mobile:_t,mobileWebkit:bt,mobileWebkit3d:wt,msPointer:xt,pointer:St,touch:kt,mobileOpera:Ct,mobileGecko:Tt,retina:Mt,canvas:Ot,svg:Pt,vml:At}),Et=xt?"MSPointerDown":"pointerdown",Nt=xt?"MSPointerMove":"pointermove",Rt=xt?"MSPointerUp":"pointerup",Dt=xt?"MSPointerCancel":"pointercancel",Bt=["INPUT","SELECT","OPTION"],It={},$t=!1,jt=0;function Zt(t,e,n,i){return"touchstart"===e?Vt(t,n,i):"touchmove"===e?Ut(t,n,i):"touchend"===e&&qt(t,n,i),this}function Ft(t,e,n){var i=t["_leaflet_"+e+n];return"touchstart"===e?t.removeEventListener(Et,i,!1):"touchmove"===e?t.removeEventListener(Nt,i,!1):"touchend"===e&&(t.removeEventListener(Rt,i,!1),t.removeEventListener(Dt,i,!1)),this}function Vt(t,e,n){var i=r(function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(Bt.indexOf(t.target.tagName)<0))return;Ve(t)}Jt(t,e)});t["_leaflet_touchstart"+n]=i,t.addEventListener(Et,i,!1),$t||(document.documentElement.addEventListener(Et,Wt,!0),document.documentElement.addEventListener(Nt,Kt,!0),document.documentElement.addEventListener(Rt,Ht,!0),document.documentElement.addEventListener(Dt,Ht,!0),$t=!0)}function Wt(t){It[t.pointerId]=t,jt++}function Kt(t){It[t.pointerId]&&(It[t.pointerId]=t)}function Ht(t){delete It[t.pointerId],jt--}function Jt(t,e){for(var n in t.touches=[],It)t.touches.push(It[n]);t.changedTouches=[t],e(t)}function Ut(t,e,n){var i=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&Jt(t,e)};t["_leaflet_touchmove"+n]=i,t.addEventListener(Nt,i,!1)}function qt(t,e,n){var i=function(t){Jt(t,e)};t["_leaflet_touchend"+n]=i,t.addEventListener(Rt,i,!1),t.addEventListener(Dt,i,!1)}var Gt=xt?"MSPointerDown":St?"pointerdown":"touchstart",Xt=xt?"MSPointerUp":St?"pointerup":"touchend",Yt="_leaflet_";function Qt(t,e,n){var i,o,r=!1,s=250;function a(t){var e;if(St){if(!nt||"mouse"===t.pointerType)return;e=jt}else e=t.touches.length;if(!(e>1)){var n=Date.now(),a=n-(i||n);o=t.touches?t.touches[0]:t,r=a>0&&a<=s,i=n}}function c(t){if(r&&!o.cancelBubble){if(St){if(!nt||"mouse"===t.pointerType)return;var n,s,a={};for(s in o)n=o[s],a[s]=n&&n.bind?n.bind(o):n;o=a}o.type="dblclick",o.button=0,e(o),i=null}}return t[Yt+Gt+n]=a,t[Yt+Xt+n]=c,t[Yt+"dblclick"+n]=e,t.addEventListener(Gt,a,!1),t.addEventListener(Xt,c,!1),t.addEventListener("dblclick",e,!1),this}function te(t,e){var n=t[Yt+Gt+e],i=t[Yt+Xt+e],o=t[Yt+"dblclick"+e];return t.removeEventListener(Gt,n,!1),t.removeEventListener(Xt,i,!1),nt||t.removeEventListener("dblclick",o,!1),this}var ee,ne,ie,oe,re,se=Se(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ae=Se(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ce="webkitTransition"===ae||"OTransition"===ae?ae+"End":"transitionend";function le(t){return"string"===typeof t?document.getElementById(t):t}function he(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function ue(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function de(t){var e=t.parentNode;e&&e.removeChild(t)}function pe(t){while(t.firstChild)t.removeChild(t.firstChild)}function fe(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function me(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ve(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=be(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function ge(t,e){if(void 0!==t.classList)for(var n=p(e),i=0,o=n.length;i<o;i++)t.classList.add(n[i]);else if(!ve(t,e)){var r=be(t);_e(t,(r?r+" ":"")+e)}}function ye(t,e){void 0!==t.classList?t.classList.remove(e):_e(t,d((" "+be(t)+" ").replace(" "+e+" "," ")))}function _e(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function be(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function we(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&xe(t,e)}function xe(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(o){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}function Se(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function ke(t,e,n){var i=e||new N(0,0);t.style[se]=(mt?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function Ce(t,e){t._leaflet_pos=e,yt?ke(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Te(t){return t._leaflet_pos||new N(0,0)}if("onselectstart"in document)ee=function(){Re(window,"selectstart",Ve)},ne=function(){Be(window,"selectstart",Ve)};else{var Me=Se(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ee=function(){if(Me){var t=document.documentElement.style;ie=t[Me],t[Me]="none"}},ne=function(){Me&&(document.documentElement.style[Me]=ie,ie=void 0)}}function Oe(){Re(window,"dragstart",Ve)}function Pe(){Be(window,"dragstart",Ve)}function Ae(t){while(-1===t.tabIndex)t=t.parentNode;t.style&&(ze(),oe=t,re=t.style.outline,t.style.outline="none",Re(window,"keydown",ze))}function ze(){oe&&(oe.style.outline=re,oe=void 0,re=void 0,Be(window,"keydown",ze))}function Le(t){do{t=t.parentNode}while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Ee(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Ne=(Object.freeze||Object)({TRANSFORM:se,TRANSITION:ae,TRANSITION_END:ce,get:le,getStyle:he,create:ue,remove:de,empty:pe,toFront:fe,toBack:me,hasClass:ve,addClass:ge,removeClass:ye,setClass:_e,getClass:be,setOpacity:we,testProp:Se,setTransform:ke,setPosition:Ce,getPosition:Te,disableTextSelection:ee,enableTextSelection:ne,disableImageDrag:Oe,enableImageDrag:Pe,preventOutline:Ae,restoreOutline:ze,getSizedParentNode:Le,getScale:Ee});function Re(t,e,n,i){if("object"===typeof e)for(var o in e)Ie(t,o,e[o],n);else{e=p(e);for(var r=0,s=e.length;r<s;r++)Ie(t,e[r],n,i)}return this}var De="_leaflet_events";function Be(t,e,n,i){if("object"===typeof e)for(var o in e)$e(t,o,e[o],n);else if(e){e=p(e);for(var r=0,s=e.length;r<s;r++)$e(t,e[r],n,i)}else{for(var a in t[De])$e(t,a,t[De][a]);delete t[De]}return this}function Ie(t,e,n,i){var o=e+a(n)+(i?"_"+a(i):"");if(t[De]&&t[De][o])return this;var r=function(e){return n.call(i||t,e||window.event)},s=r;St&&0===e.indexOf("touch")?Zt(t,e,r,o):!kt||"dblclick"!==e||!Qt||St&&lt?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",r,!1):"mouseenter"===e||"mouseleave"===e?(r=function(e){e=e||window.event,Ye(t,e)&&s(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",r,!1)):("click"===e&&ot&&(r=function(t){Qe(t,s)}),t.addEventListener(e,r,!1)):"attachEvent"in t&&t.attachEvent("on"+e,r):Qt(t,r,o),t[De]=t[De]||{},t[De][o]=r}function $e(t,e,n,i){var o=e+a(n)+(i?"_"+a(i):""),r=t[De]&&t[De][o];if(!r)return this;St&&0===e.indexOf("touch")?Ft(t,e,o):!kt||"dblclick"!==e||!te||St&&lt?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",r,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,r,!1):"detachEvent"in t&&t.detachEvent("on"+e,r):te(t,o),t[De][o]=null}function je(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Xe(t),this}function Ze(t){return Ie(t,"mousewheel",je),this}function Fe(t){return Re(t,"mousedown touchstart dblclick",je),Ie(t,"click",Ge),this}function Ve(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function We(t){return Ve(t),je(t),this}function Ke(t,e){if(!e)return new N(t.clientX,t.clientY);var n=Ee(e),i=n.boundingClientRect;return new N((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var He=ft&&lt?2*window.devicePixelRatio:ht?window.devicePixelRatio:1;function Je(t){return nt?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/He:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var Ue,qe={};function Ge(t){qe[t.type]=!0}function Xe(t){var e=qe[t.type];return qe[t.type]=!1,e}function Ye(t,e){var n=e.relatedTarget;if(!n)return!0;try{while(n&&n!==t)n=n.parentNode}catch(i){return!1}return n!==t}function Qe(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=Ue&&n-Ue;i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated?We(t):(Ue=n,e(t))}var tn=(Object.freeze||Object)({on:Re,off:Be,stopPropagation:je,disableScrollPropagation:Ze,disableClickPropagation:Fe,preventDefault:Ve,stop:We,getMousePosition:Ke,getWheelDelta:Je,fakeStop:Ge,skipped:Xe,isExternalTarget:Ye,addListener:Re,removeListener:Be}),en=E.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=Te(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),Ce(this._el,n),this.fire("step")},_complete:function(){M(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),nn=E.extend({options:{crs:q,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=f(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(F(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ae&&yt&&!Ct&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Re(this._proxy,ce,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){if(e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(F(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n){void 0!==n.animate&&(n.zoom=i({animate:n.animate},n.zoom),n.pan=i({animate:n.animate,duration:n.duration},n.pan));var o=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(o)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(yt?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(yt?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),r=t instanceof N?t:this.latLngToContainerPoint(t),s=r.subtract(o).multiplyBy(1-1/i),a=this.containerPointToLatLng(o.add(s));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():j(t);var n=D(e.paddingTopLeft||e.padding||[0,0]),i=D(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));if(o="number"===typeof e.maxZoom?Math.min(e.maxZoom,o):o,o===1/0)return{center:t.getCenter(),zoom:o};var r=i.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),o),a=this.project(t.getNorthEast(),o),c=this.unproject(s.add(a).divideBy(2).add(r),o);return{center:c,zoom:o}},fitBounds:function(t,e){if(t=j(t),!t.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=D(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new en,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){ge(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(n=n||{},!1===n.animate||!yt)return this.setView(t,e,n);this._stop();var i=this.project(this.getCenter()),o=this.project(t),r=this.getSize(),s=this._zoom;t=F(t),e=void 0===e?s:e;var a=Math.max(r.x,r.y),c=a*this.getZoomScale(s,e),l=o.distanceTo(i)||1,h=1.42,u=h*h;function d(t){var e=t?-1:1,n=t?c:a,i=c*c-a*a+e*u*u*l*l,o=2*n*u*l,r=i/o,s=Math.sqrt(r*r+1)-r,h=s<1e-9?-18:Math.log(s);return h}function p(t){return(Math.exp(t)-Math.exp(-t))/2}function f(t){return(Math.exp(t)+Math.exp(-t))/2}function m(t){return p(t)/f(t)}var v=d(0);function g(t){return a*(f(v)/f(v+h*t))}function y(t){return a*(f(v)*m(v+h*t)-p(v))/u}function _(t){return 1-Math.pow(1-t,1.5)}var b=Date.now(),w=(d(1)-v)/h,x=n.duration?1e3*n.duration:1e3*w*.8;function S(){var n=(Date.now()-b)/x,r=_(n)*w;n<=1?(this._flyToFrame=T(S,this),this._move(this.unproject(i.add(o.subtract(i).multiplyBy(y(r)/l)),s),this.getScaleZoom(a/g(r),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),S.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=j(t),t.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,j(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var n=D(e.paddingTopLeft||e.padding||[0,0]),i=D(e.paddingBottomRight||e.padding||[0,0]),o=this.getCenter(),r=this.project(o),s=this.project(t),a=this.getPixelBounds(),c=a.getSize().divideBy(2),l=I([a.min.add(n),a.max.subtract(i)]);if(!l.contains(s)){this._enforcingBounds=!0;var h=r.subtract(s),u=D(s.x+h.x,s.y+h.y);(s.x<l.min.x||s.x>l.max.x)&&(u.x=r.x-h.x,h.x>0?u.x+=c.x-n.x:u.x-=c.x-i.x),(s.y<l.min.y||s.y>l.max.y)&&(u.y=r.y-h.y,h.y>0?u.y+=c.y-n.y:u.y-=c.y-i.y),this.panTo(this.unproject(u),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=i({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),o=e.divideBy(2).round(),s=n.divideBy(2).round(),a=o.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=i({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=r(this._handleGeolocationResponse,this),n=r(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new Z(e,n),o=i.toBounds(2*t.coords.accuracy),r=this._locateOptions;if(r.setView){var s=this.getBoundsZoom(o);this.setView(i,r.maxZoom?Math.min(s,r.maxZoom):s)}var a={latlng:i,bounds:o,timestamp:t.timestamp};for(var c in t.coords)"number"===typeof t.coords[c]&&(a[c]=t.coords[c]);this.fire("locationfound",a)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),de(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(M(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)de(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i=ue("div",n,e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new $(e,n)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=j(t),n=D(n||[0,0]);var i=this.getZoom()||0,o=this.getMinZoom(),r=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),c=this.getSize().subtract(n),l=I(this.project(a,i),this.project(s,i)).getSize(),h=yt?this.options.zoomSnap:1,u=c.x/l.x,d=c.y/l.y,p=e?Math.max(u,d):Math.min(u,d);return i=this.getScaleZoom(p,i),h&&(i=Math.round(i/(h/100))*(h/100),i=e?Math.ceil(i/h)*h:Math.floor(i/h)*h),Math.max(o,Math.min(r,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new N(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new B(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"===typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(F(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(D(t),e)},layerPointToLatLng:function(t){var e=D(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(F(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(F(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(j(t))},distance:function(t,e){return this.options.crs.distance(F(t),F(e))},containerPointToLayerPoint:function(t){return D(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return D(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(D(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(F(t)))},mouseEventToContainerPoint:function(t){return Ke(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=le(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Re(e,"scroll",this._onScroll,this),this._containerId=a(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&yt,ge(t,"leaflet-container"+(kt?" leaflet-touch":"")+(Mt?" leaflet-retina":"")+(et?" leaflet-oldie":"")+(ut?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=he(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ce(this._mapPane,new N(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ge(t.markerPane,"leaflet-zoom-hide"),ge(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){Ce(this._mapPane,new N(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,!1)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return M(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Ce(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[a(this._container)]=this;var e=t?Be:Re;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),yt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){M(this._resizeRequest),this._resizeRequest=T(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){var n,i=[],o="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,s=!1;while(r){if(n=this._targets[a(r)],n&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(o&&!Ye(r,t))break;if(i.push(n),o)break}if(r===this._container)break;r=r.parentNode}return i.length||s||o||!Ye(r,t)||(i=[this]),i},_handleDOMEvent:function(t){if(this._loaded&&!Xe(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||Ae(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if("click"===t.type){var o=i({},t);o.type="preclick",this._fireDOMEvent(o,o.type,n)}if(!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,e)),n.length)){var r=n[0];"contextmenu"===e&&r.listens(e,!0)&&Ve(t);var s={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var a=r.getLatLng&&(!r._radius||r._radius<=10);s.containerPoint=a?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=a?r.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var c=0;c<n.length;c++)if(n[c].fire(e,s,!0),s.originalEvent._stopped||!1===n[c].options.bubblingMouseEvents&&-1!==_(this._mouseEvents,e))return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Te(this._mapPane)||new N(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var n=t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return I([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),o=this.getSize().divideBy(2),r=new B(i.subtract(o),i.add(o)),s=this._getBoundsOffset(r,n,e);return s.round().equals([0,0])?t:this.unproject(i.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new B(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=I(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),o=i.min.subtract(t.min),r=i.max.subtract(t.max),s=this._rebound(o.x,-r.x),a=this._rebound(o.y,-r.y);return new N(s,a)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=yt?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=ue("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=se,n=this._proxy.style[e];ke(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();ke(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){de(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(o))&&(T(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,ge(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),T(function(){this._moveEnd(!0)},this))}});function on(t,e){return new nn(t,e)}var rn=P.extend({options:{position:"topright"},initialize:function(t){f(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return ge(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(de(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),sn=function(t){return new rn(t)};nn.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=ue("div",e+"control-container",this._container);function i(i,o){var r=e+i+" "+e+o;t[i+o]=ue("div",r,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)de(this._controlCorners[t]);de(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var an=rn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in f(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return rn.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(a(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){ge(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(ge(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=ue("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Fe(e),Ze(e);var i=this._section=ue("section",t+"-list");n&&(this._map.on("click",this.collapse,this),ot||Re(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=ue("a",t+"-toggle",e);o.href="#",o.title="Layers",kt?(Re(o,"click",We),Re(o,"click",this.expand,this)):Re(o,"focus",this.expand,this),n||this.expand(),this._baseLayersList=ue("div",t+"-base",i),this._separator=ue("div",t+"-separator",i),this._overlaysList=ue("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&a(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(r(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;pe(this._baseLayersList),pe(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,o=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,o+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(a(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?(e=document.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers_"+a(this),i),this._layerControlInputs.push(e),e.layerId=a(t.layer),Re(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var r=document.createElement("div");n.appendChild(r),r.appendChild(e),r.appendChild(o);var s=t.overlay?this._overlaysList:this._baseLayersList;return s.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],o=[];this._handlingClick=!0;for(var r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||o.push(e);for(r=0;r<o.length;r++)this._map.hasLayer(o[r])&&this._map.removeLayer(o[r]);for(r=0;r<i.length;r++)this._map.hasLayer(i[r])||this._map.addLayer(i[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),cn=function(t,e,n){return new an(t,e,n)},ln=rn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=ue("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,o){var r=ue("a",n,i);return r.innerHTML=t,r.href="#",r.title=e,r.setAttribute("role","button"),r.setAttribute("aria-label",e),Fe(r),Re(r,"click",We),Re(r,"click",o,this),Re(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";ye(this._zoomInButton,e),ye(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&ge(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&ge(this._zoomInButton,e)}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ln,this.addControl(this.zoomControl))});var hn=function(t){return new ln(t)},un=rn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=ue("div",e),i=this.options;return this._addScales(i,e+"-line",n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=ue("div",e,n)),t.imperial&&(this._iScale=ue("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,o=3.2808399*t;o>5280?(e=o/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(o),this._updateScale(this._iScale,i+" ft",i/o))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),dn=function(t){return new un(t)},pn=rn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){f(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=ue("div","leaflet-control-attribution"),Fe(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook(function(){this.options.attributionControl&&(new pn).addTo(this)});var fn=function(t){return new pn(t)};rn.Layers=an,rn.Zoom=ln,rn.Scale=un,rn.Attribution=pn,sn.layers=cn,sn.zoom=hn,sn.scale=dn,sn.attribution=fn;var mn=P.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});mn.addTo=function(t,e){return t.addHandler(e,this),this};var vn,gn={Events:z},yn=kt?"touchstart mousedown":"mousedown",_n={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},bn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},wn=E.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){f(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Re(this._dragStartTarget,yn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(wn._dragging===this&&this.finishDrag(),Be(this._dragStartTarget,yn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!ve(this._element,"leaflet-zoom-anim")&&!(wn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&(wn._dragging=this,this._preventOutline&&Ae(this._element),Oe(),ee(),!this._moving))){this.fire("down");var e=t.touches?t.touches[0]:t,n=Le(this._element);this._startPoint=new N(e.clientX,e.clientY),this._parentScale=Ee(n),Re(document,bn[t.type],this._onMove,this),Re(document,_n[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new N(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Ve(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Te(this._element).subtract(n),ge(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ge(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,M(this._animRequest),this._lastEvent=t,this._animRequest=T(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Ce(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in ye(document.body,"leaflet-dragging"),this._lastTarget&&(ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),bn)Be(document,bn[t],this._onMove,this),Be(document,_n[t],this._onUp,this);Pe(),ne(),this._moved&&this._moving&&(M(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,wn._dragging=!1}});function xn(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=Mn(t,n),t=Cn(t,n),t}function Sn(t,e,n){return Math.sqrt(Ln(t,e,n,!0))}function kn(t,e,n){return Ln(t,e,n)}function Cn(t,e){var n=t.length,i=typeof Uint8Array!==void 0+""?Uint8Array:Array,o=new i(n);o[0]=o[n-1]=1,Tn(t,o,e,0,n-1);var r,s=[];for(r=0;r<n;r++)o[r]&&s.push(t[r]);return s}function Tn(t,e,n,i,o){var r,s,a,c=0;for(s=i+1;s<=o-1;s++)a=Ln(t[s],t[i],t[o],!0),a>c&&(r=s,c=a);c>n&&(e[r]=1,Tn(t,e,n,i,r),Tn(t,e,n,r,o))}function Mn(t,e){for(var n=[t[0]],i=1,o=0,r=t.length;i<r;i++)zn(t[i],t[o])>e&&(n.push(t[i]),o=i);return o<r-1&&n.push(t[r-1]),n}function On(t,e,n,i,o){var r,s,a,c=i?vn:An(t,n),l=An(e,n);vn=l;while(1){if(!(c|l))return[t,e];if(c&l)return!1;r=c||l,s=Pn(t,e,r,n,o),a=An(s,n),r===c?(t=s,c=a):(e=s,l=a)}}function Pn(t,e,n,i,o){var r,s,a=e.x-t.x,c=e.y-t.y,l=i.min,h=i.max;return 8&n?(r=t.x+a*(h.y-t.y)/c,s=h.y):4&n?(r=t.x+a*(l.y-t.y)/c,s=l.y):2&n?(r=h.x,s=t.y+c*(h.x-t.x)/a):1&n&&(r=l.x,s=t.y+c*(l.x-t.x)/a),new N(r,s,o)}function An(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function zn(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function Ln(t,e,n,i){var o,r=e.x,s=e.y,a=n.x-r,c=n.y-s,l=a*a+c*c;return l>0&&(o=((t.x-r)*a+(t.y-s)*c)/l,o>1?(r=n.x,s=n.y):o>0&&(r+=a*o,s+=c*o)),a=t.x-r,c=t.y-s,i?a*a+c*c:new N(r,s)}function En(t){return!y(t[0])||"object"!==typeof t[0][0]&&"undefined"!==typeof t[0][0]}function Nn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),En(t)}var Rn=(Object.freeze||Object)({simplify:xn,pointToSegmentDistance:Sn,closestPointOnSegment:kn,clipSegment:On,_getEdgeIntersection:Pn,_getBitCode:An,_sqClosestPointOnSegment:Ln,isFlat:En,_flat:Nn});function Dn(t,e,n){var i,o,r,s,a,c,l,h,u,d=[1,4,2,8];for(o=0,l=t.length;o<l;o++)t[o]._code=An(t[o],e);for(s=0;s<4;s++){for(h=d[s],i=[],o=0,l=t.length,r=l-1;o<l;r=o++)a=t[o],c=t[r],a._code&h?c._code&h||(u=Pn(c,a,h,e,n),u._code=An(u,e),i.push(u)):(c._code&h&&(u=Pn(c,a,h,e,n),u._code=An(u,e),i.push(u)),i.push(a));t=i}return t}var Bn=(Object.freeze||Object)({clipPolygon:Dn}),In={project:function(t){return new N(t.lng,t.lat)},unproject:function(t){return new Z(t.y,t.x)},bounds:new B([-180,-90],[180,90])},$n={R:6378137,R_MINOR:6356752.314245179,bounds:new B([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,o=this.R_MINOR/n,r=Math.sqrt(1-o*o),s=r*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),r/2);return i=-n*Math.log(Math.max(a,1e-10)),new N(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,o=this.R_MINOR/i,r=Math.sqrt(1-o*o),s=Math.exp(-t.y/i),a=Math.PI/2-2*Math.atan(s),c=0,l=.1;c<15&&Math.abs(l)>1e-7;c++)e=r*Math.sin(a),e=Math.pow((1-e)/(1+e),r/2),l=Math.PI/2-2*Math.atan(s*e)-a,a+=l;return new Z(a*n,t.x*n/i)}},jn=(Object.freeze||Object)({LonLat:In,Mercator:$n,SphericalMercator:H}),Zn=i({},W,{code:"EPSG:3395",projection:$n,transformation:function(){var t=.5/(Math.PI*$n.R);return U(t,.5,-t,.5)}()}),Fn=i({},W,{code:"EPSG:4326",projection:In,transformation:U(1/180,1,-1/180,.5)}),Vn=i({},V,{projection:In,transformation:U(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});V.Earth=W,V.EPSG3395=Zn,V.EPSG3857=q,V.EPSG900913=G,V.EPSG4326=Fn,V.Simple=Vn;var Wn=E.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[a(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[a(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=a(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=a(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&a(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){t=t?y(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[a(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=a(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var o=this._zoomBoundLayers[i].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Kn=Wn.extend({initialize:function(t,e){var n,i;if(f(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)n=this._layers[e],n[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return a(t)}}),Hn=function(t,e){return new Kn(t,e)},Jn=Kn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Kn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Kn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new $;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Un=function(t){return new Jn(t)},qn=P.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){f(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"===typeof i&&(i=[i,i]);var o=D(i),r=D("shadow"===e&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return Mt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Gn(t){return new qn(t)}var Xn=qn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Xn.imagePath||(Xn.imagePath=this._detectIconPath()),(this.options.imagePath||Xn.imagePath)+qn.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=ue("div","leaflet-default-icon-path",document.body),e=he(t,"background-image")||he(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,""),e}}),Yn=mn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new wn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ge(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,r=Te(e._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),c=I(s.min._subtract(a).add(o),s.max._subtract(a).subtract(o));if(!c.contains(r)){var l=D((Math.max(c.max.x,r.x)-c.max.x)/(s.max.x-c.max.x)-(Math.min(c.min.x,r.x)-c.min.x)/(s.min.x-c.min.x),(Math.max(c.max.y,r.y)-c.max.y)/(s.max.y-c.max.y)-(Math.min(c.min.y,r.y)-c.min.y)/(s.min.y-c.min.y)).multiplyBy(i);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),Ce(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=T(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(M(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=Te(e._icon),o=e._map.layerPointToLatLng(i);n&&Ce(n,i),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){M(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Qn=Wn.extend({options:{icon:new Xn,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){f(this,e),this._latlng=F(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=F(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),ge(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),r=!1;o!==this._shadow&&(this._removeShadow(),r=!0),o&&(ge(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&r&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),de(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&de(this._shadow),this._shadow=null},_setPos:function(t){Ce(this._icon,t),this._shadow&&Ce(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(ge(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Yn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Yn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&we(this._icon,t),this._shadow&&we(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ti(t,e){return new Qn(t,e)}var ei=Wn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return f(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t.hasOwnProperty("weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),ni=ei.extend({options:{fill:!0,radius:10},initialize:function(t,e){f(this,e),this._latlng=F(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=F(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return ei.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new B(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ii(t,e){return new ni(t,e)}var oi=ni.extend({initialize:function(t,e,n){if("number"===typeof e&&(e=i({},n,{radius:e})),f(this,e),this._latlng=F(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new $(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ei.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===W.distance){var o=Math.PI/180,r=this._mRadius/W.R/o,s=n.project([e+r,t]),a=n.project([e-r,t]),c=s.add(a).divideBy(2),l=n.unproject(c).lat,h=Math.acos((Math.cos(r*o)-Math.sin(e*o)*Math.sin(l*o))/(Math.cos(e*o)*Math.cos(l*o)))/o;(isNaN(h)||0===h)&&(h=r/Math.cos(Math.PI/180*e)),this._point=c.subtract(n.getPixelOrigin()),this._radius=isNaN(h)?0:c.x-n.project([l,t-h]).x,this._radiusY=c.y-s.y}else{var u=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(u).x}this._updateBounds()}});function ri(t,e,n){return new oi(t,e,n)}var si=ei.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){f(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,o=null,r=Ln,s=0,a=this._parts.length;s<a;s++)for(var c=this._parts[s],l=1,h=c.length;l<h;l++){e=c[l-1],n=c[l];var u=r(t,e,n,!0);u<i&&(i=u,o=r(t,e,n))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,r,s,a=this._rings[0],c=a.length;if(!c)return null;for(t=0,e=0;t<c-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,i=0;t<c-1;t++)if(o=a[t],r=a[t+1],n=o.distanceTo(r),i+=n,i>e)return s=(i-e)/n,this._map.layerPointToLatLng([r.x-s*(r.x-o.x),r.y-s*(r.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=F(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new $,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return En(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=En(t),i=0,o=t.length;i<o;i++)n?(e[i]=F(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new N(t,t);this._pxBounds=new B([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,n){var i,o,r=t[0]instanceof Z,s=t.length;if(r){for(o=[],i=0;i<s;i++)o[i]=this._map.latLngToLayerPoint(t[i]),n.extend(o[i]);e.push(o)}else for(i=0;i<s;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,o,r,s,a,c=this._parts;for(e=0,i=0,o=this._rings.length;e<o;e++)for(a=this._rings[e],n=0,r=a.length;n<r-1;n++)s=On(a[n],a[n+1],t,n,!0),s&&(c[i]=c[i]||[],c[i].push(s[0]),s[1]===a[n+1]&&n!==r-2||(c[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=xn(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,o,r,s,a,c=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,r=this._parts.length;n<r;n++)for(a=this._parts[n],i=0,s=a.length,o=s-1;i<s;o=i++)if((e||0!==i)&&Sn(t,a[o],a[i])<=c)return!0;return!1}});function ai(t,e){return new si(t,e)}si._flat=Nn;var ci=si.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,r,s,a,c,l=this._rings[0],h=l.length;if(!h)return null;for(r=s=a=0,t=0,e=h-1;t<h;e=t++)n=l[t],i=l[e],o=n.y*i.x-i.y*n.x,s+=(n.x+i.x)*o,a+=(n.y+i.y)*o,r+=3*o;return c=0===r?l[0]:[s/r,a/r],this._map.layerPointToLatLng(c)},_convertLatLngs:function(t){var e=si.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof Z&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){si.prototype._setLatLngs.call(this,t),En(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return En(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new N(e,e);if(t=new B(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,o=0,r=this._rings.length;o<r;o++)i=Dn(this._rings[o],t,!0),i.length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,o,r,s,a,c,l=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,a=this._parts.length;o<a;o++)for(e=this._parts[o],r=0,c=e.length,s=c-1;r<c;s=r++)n=e[r],i=e[s],n.y>t.y!==i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(l=!l);return l||si.prototype._containsPoint.call(this,t,!0)}});function li(t,e){return new ci(t,e)}var hi=Jn.extend({initialize:function(t,e){f(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=y(t)?t:t.features;if(o){for(e=0,n=o.length;e<n;e++)i=o[e],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var s=ui(t,r);return s?(s.feature=gi(t),s.defaultOptions=s.options,this.resetStyle(s),r.onEachFeature&&r.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return t.options=i({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&("function"===typeof e&&(e=e(t.feature)),t.setStyle(e))}});function ui(t,e){var n,i,o,r,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,c=[],l=e&&e.pointToLayer,h=e&&e.coordsToLatLng||di;if(!a&&!s)return null;switch(s.type){case"Point":return n=h(a),l?l(t,n):new Qn(n);case"MultiPoint":for(o=0,r=a.length;o<r;o++)n=h(a[o]),c.push(l?l(t,n):new Qn(n));return new Jn(c);case"LineString":case"MultiLineString":return i=pi(a,"LineString"===s.type?0:1,h),new si(i,e);case"Polygon":case"MultiPolygon":return i=pi(a,"Polygon"===s.type?1:2,h),new ci(i,e);case"GeometryCollection":for(o=0,r=s.geometries.length;o<r;o++){var u=ui({geometry:s.geometries[o],type:"Feature",properties:t.properties},e);u&&c.push(u)}return new Jn(c);default:throw new Error("Invalid GeoJSON object.")}}function di(t){return new Z(t[1],t[0],t[2])}function pi(t,e,n){for(var i,o=[],r=0,s=t.length;r<s;r++)i=e?pi(t[r],e-1,n):(n||di)(t[r]),o.push(i);return o}function fi(t,e){return e="number"===typeof e?e:6,void 0!==t.alt?[u(t.lng,e),u(t.lat,e),u(t.alt,e)]:[u(t.lng,e),u(t.lat,e)]}function mi(t,e,n,i){for(var o=[],r=0,s=t.length;r<s;r++)o.push(e?mi(t[r],e-1,n,i):fi(t[r],i));return!e&&n&&o.push(o[0]),o}function vi(t,e){return t.feature?i({},t.feature,{geometry:e}):gi(e)}function gi(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var yi={toGeoJSON:function(t){return vi(this,{type:"Point",coordinates:fi(this.getLatLng(),t)})}};function _i(t,e){return new hi(t,e)}Qn.include(yi),oi.include(yi),ni.include(yi),si.include({toGeoJSON:function(t){var e=!En(this._latlngs),n=mi(this._latlngs,e?1:0,!1,t);return vi(this,{type:(e?"Multi":"")+"LineString",coordinates:n})}}),ci.include({toGeoJSON:function(t){var e=!En(this._latlngs),n=e&&!En(this._latlngs[0]),i=mi(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),vi(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Kn.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)}),vi(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer(function(e){if(e.toGeoJSON){var o=e.toGeoJSON(t);if(n)i.push(o.geometry);else{var r=gi(o);"FeatureCollection"===r.type?i.push.apply(i,r.features):i.push(r)}}}),n?vi(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var bi=_i,wi=Wn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=j(e),f(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ge(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){de(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&fe(this._image),this},bringToBack:function(){return this._map&&me(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=j(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:ue("img");ge(e,"leaflet-image-layer"),this._zoomAnimated&&ge(e,"leaflet-zoom-animated"),this.options.className&&ge(e,this.options.className),e.onselectstart=h,e.onmousemove=h,e.onload=r(this.fire,this,"load"),e.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ke(this._image,n,e)},_reset:function(){var t=this._image,e=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();Ce(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){we(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),xi=function(t,e,n){return new wi(t,e,n)},Si=wi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:ue("video");if(ge(e,"leaflet-image-layer"),this._zoomAnimated&&ge(e,"leaflet-zoom-animated"),e.onselectstart=h,e.onmousemove=h,e.onloadeddata=r(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],o=0;o<n.length;o++)i.push(n[o].src);this._url=n.length>0?i:[e.src]}else{y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&e.style.hasOwnProperty("objectFit")&&(e.style["objectFit"]="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var s=0;s<this._url.length;s++){var a=ue("source");a.src=this._url[s],e.appendChild(a)}}}});function ki(t,e,n){return new Si(t,e,n)}var Ci=wi.extend({_initImage:function(){var t=this._image=this._url;ge(t,"leaflet-image-layer"),this._zoomAnimated&&ge(t,"leaflet-zoom-animated"),t.onselectstart=h,t.onmousemove=h}});function Ti(t,e,n){return new Ci(t,e,n)}var Mi=Wn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){f(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&we(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&we(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(we(this._container,0),this._removeTimeout=setTimeout(r(de,void 0,this._container),200)):de(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=F(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&fe(this._container),this},bringToBack:function(){return this._map&&me(this._container),this},_prepareOpen:function(t,e,n){if(e instanceof Wn||(n=e,e=t),e instanceof Jn)for(var i in t._layers){e=t._layers[i];break}if(!n)if(e.getCenter)n=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");n=e.getLatLng()}return this._source=e,this.update(),n},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof e)t.innerHTML=e;else{while(t.hasChildNodes())t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=D(this.options.offset),n=this._getAnchor();this._zoomAnimated?Ce(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),Oi=Mi.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Mi.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ei||this._source.on("preclick",je))},onRemove:function(t){Mi.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ei||this._source.off("preclick",je))},getEvents:function(){var t=Mi.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=ue("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ue("div",t+"-content-wrapper",e);if(this._contentNode=ue("div",t+"-content",n),Fe(n),Ze(this._contentNode),Re(n,"contextmenu",je),this._tipContainer=ue("div",t+"-tip-container",e),this._tip=ue("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=ue("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",Re(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,o=this.options.maxHeight,r="leaflet-popup-scrolled";o&&i>o?(e.height=o+"px",ge(t,r)):ye(t,r),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();Ce(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(he(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,o=new N(this._containerLeft,-n-this._containerBottom);o._add(Te(this._container));var r=t.layerPointToContainerPoint(o),s=D(this.options.autoPanPadding),a=D(this.options.autoPanPaddingTopLeft||s),c=D(this.options.autoPanPaddingBottomRight||s),l=t.getSize(),h=0,u=0;r.x+i+c.x>l.x&&(h=r.x+i-l.x+c.x),r.x-h-a.x<0&&(h=r.x-a.x),r.y+n+c.y>l.y&&(u=r.y+n-l.y+c.y),r.y-u-a.y<0&&(u=r.y-a.y),(h||u)&&t.fire("autopanstart").panBy([h,u])}},_onCloseButtonClick:function(t){this._close(),We(t)},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Pi=function(t,e){return new Oi(t,e)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(t,e,n){return t instanceof Oi||(t=new Oi(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Wn.include({bindPopup:function(t,e){return t instanceof Oi?(f(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new Oi(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(We(t),e instanceof ei?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Ai=Mi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Mi.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Mi.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Mi.prototype.getEvents.call(this);return kt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ue("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),o=e.layerPointToContainerPoint(t),r=this.options.direction,s=n.offsetWidth,a=n.offsetHeight,c=D(this.options.offset),l=this._getAnchor();"top"===r?t=t.add(D(-s/2+c.x,-a+c.y+l.y,!0)):"bottom"===r?t=t.subtract(D(s/2-c.x,-c.y,!0)):"center"===r?t=t.subtract(D(s/2+c.x,a/2-l.y+c.y,!0)):"right"===r||"auto"===r&&o.x<i.x?(r="right",t=t.add(D(c.x+l.x,l.y-a/2+c.y,!0))):(r="left",t=t.subtract(D(s+l.x-c.x,a/2-l.y-c.y,!0))),ye(n,"leaflet-tooltip-right"),ye(n,"leaflet-tooltip-left"),ye(n,"leaflet-tooltip-top"),ye(n,"leaflet-tooltip-bottom"),ge(n,"leaflet-tooltip-"+r),Ce(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&we(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),zi=function(t,e){return new Ai(t,e)};nn.include({openTooltip:function(t,e,n){return t instanceof Ai||(t=new Ai(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Wn.include({bindTooltip:function(t,e){return t instanceof Ai?(f(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new Ai(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),kt&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(ge(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(ye(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Li=qn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(pe(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=D(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function Ei(t){return new Li(t)}qn.Default=Xn;var Ni=Wn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:_t,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){f(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),de(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(fe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(me(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof N?t:new N(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),o=0,r=n.length;o<r;o++)e=n[o].style.zIndex,n[o]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!et){we(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var o=this._tiles[i];if(o.current&&o.loaded){var r=Math.min(1,(t-o.loaded)/200);we(o.el,r),r<1?e=!0:(o.active?n=!0:this._onOpaqueTile(o),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(M(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=ue("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(de(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],o=this._map;return i||(i=this._levels[t]={},i.el=ue("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,o.getCenter(),o.getZoom()),h(i.el.offsetWidth),this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)de(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var o=Math.floor(t/2),r=Math.floor(e/2),s=n-1,a=new N(+o,+r);a.z=+s;var c=this._tileCoordsToKey(a),l=this._tiles[c];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),s>i&&this._retainParent(o,r,s,i))},_retainChildren:function(t,e,n,i){for(var o=2*t;o<2*t+2;o++)for(var r=2*e;r<2*e+2;r++){var s=new N(o,r);s.z=n+1;var a=this._tileCoordsToKey(s),c=this._tiles[a];c&&c.active?c.retain=!0:(c&&c.loaded&&(c.retain=!0),n+1<i&&this._retainChildren(o,r,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var o=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom)&&(o=void 0);var r=this.options.updateWhenZooming&&o!==this._tileZoom;i&&!r||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),o=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();yt?ke(t.el,o,i):Ce(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),o=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*i);return new B(o.subtract(r),o.add(r))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(i),r=o.getCenter(),s=[],a=this.options.keepBuffer,c=new B(o.getBottomLeft().subtract([a,-a]),o.getTopRight().add([a,-a]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var h=this._tiles[l].coords;h.z===this._tileZoom&&c.contains(new N(h.x,h.y))||(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var u=o.min.y;u<=o.max.y;u++)for(var d=o.min.x;d<=o.max.x;d++){var p=new N(d,u);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:s.push(p)}}if(s.sort(function(t,e){return t.distanceTo(r)-e.distanceTo(r)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<s.length;d++)this._addTile(s[d],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return j(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),o=i.add(n),r=e.unproject(i,t.z),s=e.unproject(o,t.z);return[r,s]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new $(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new N(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(de(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ge(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=h,t.onmousemove=h,et&&this.options.opacity<1&&we(t,this.options.opacity),ot&&!rt&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),r(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&T(r(this._tileReady,this,t,null,o)),Ce(o,n),this._tiles[i]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);n=this._tiles[i],n&&(n.loaded=+new Date,this._map._fadeAnimated?(we(n.el,0),M(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(ge(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),et||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new N(this._wrapX?l(t.x,this._wrapX):t.x,this._wrapY?l(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new B(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Ri(t){return new Ni(t)}var Di=Ni.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,e=f(this,e),e.detectRetina&&Mt&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"===typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),ot||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Re(n,"load",r(this._tileOnLoad,this,e,n)),Re(n,"error",r(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Mt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e["y"]=n),e["-y"]=n}return g(this._url,i(e,this.options))},_tileOnLoad:function(t,e){et?setTimeout(r(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,i=this.options.zoomOffset;return n&&(t=e-t),t+i},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=h,e.onerror=h,e.complete||(e.src=b,de(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return at||e.el.setAttribute("src",b),Ni.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==b))return Ni.prototype._tileReady.call(this,t,e,n)}});function Bi(t,e){return new Di(t,e)}var Ii=Di.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=i({},this.defaultWmsParams);for(var o in e)o in this.options||(n[o]=e[o]);e=f(this,e);var r=e.detectRetina&&Mt?2:1,s=this.getTileSize();n.width=s.x*r,n.height=s.y*r,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Di.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=I(n.project(e[0]),n.project(e[1])),o=i.min,r=i.max,s=(this._wmsVersion>=1.3&&this._crs===Fn?[o.y,o.x,r.y,r.x]:[o.x,o.y,r.x,r.y]).join(","),a=Di.prototype.getTileUrl.call(this,t);return a+m(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return i(this.wmsParams,t),e||this.redraw(),this}});function $i(t,e){return new Ii(t,e)}Di.WMS=Ii,Bi.wms=$i;var ji=Wn.extend({options:{padding:.1,tolerance:0},initialize:function(t){f(this,t),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ge(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=Te(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),s=this._map.project(t,e),a=s.subtract(r),c=o.multiplyBy(-n).add(i).add(o).subtract(a);yt?ke(this._container,c,n):Ce(this._container,c)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new B(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Zi=ji.extend({getEvents:function(){var t=ji.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ji.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Re(t,"mousemove",c(this._onMouseMove,32,this),this),Re(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Re(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){M(this._redrawRequest),delete this._ctx,de(this._container),Be(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;for(var e in this._redrawBounds=null,this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ji.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=Mt?2:1;Ce(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Mt&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ji.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[a(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[a(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"===typeof t.options.dashArray){var e,n,i=t.options.dashArray.split(/[, ]+/),o=[];for(n=0;n<i.length;n++){if(e=Number(i[n]),isNaN(e))return;o.push(e)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,o,r,s=t._parts,a=s.length,c=this._ctx;if(a){for(c.beginPath(),n=0;n<a;n++){for(i=0,o=s[n].length;i<o;i++)r=s[n][i],c[i?"lineTo":"moveTo"](r.x,r.y);e&&c.closePath()}this._fillStroke(c,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||i)/i;1!==o&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(e.x,e.y/o,i,0,2*Math.PI,!1),1!==o&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)e=o.layer,e.options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(n=e);n&&(Ge(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(ye(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var n,i,o=this._drawFirst;o;o=o.next)n=o.layer,n.options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(ge(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function Fi(t){return Ot?new Zi(t):null}var Vi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Wi={_initContainer:function(){this._container=ue("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ji.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Vi("shape");ge(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Vi("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;de(e),t.removeInteractiveTarget(e),delete this._layers[a(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,o=t._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(e||(e=t._stroke=Vi("stroke")),o.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=y(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(o.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=Vi("fill")),o.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){fe(t._container)},_bringToBack:function(t){me(t._container)}},Ki=At?Vi:X,Hi=ji.extend({getEvents:function(){var t=ji.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=Ki("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ki("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){de(this._container),Be(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){ji.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),Ce(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Ki("path");t.options.className&&ge(e,t.options.className),t.options.interactive&&ge(e,"leaflet-interactive"),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){de(t._path),t.removeInteractiveTarget(t._path),delete this._layers[a(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Y(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i=Math.max(Math.round(t._radiusY),1)||n,o="a"+n+","+i+" 0 1,0 ",r=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+o+2*n+",0 "+o+2*-n+",0 ";this._setPath(t,r)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){fe(t._path)},_bringToBack:function(t){me(t._path)}});function Ji(t){return Pt||At?new Hi(t):null}At&&Hi.include(Wi),nn.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Fi(t)||Ji(t)}});var Ui=ci.extend({initialize:function(t,e){ci.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=j(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function qi(t,e){return new Ui(t,e)}Hi.create=Ki,Hi.pointsToPath=Y,hi.geometryToLayer=ui,hi.coordsToLatLng=di,hi.coordsToLatLngs=pi,hi.latLngToCoords=fi,hi.latLngsToCoords=mi,hi.getFeature=vi,hi.asFeature=gi,nn.mergeOptions({boxZoom:!0});var Gi=mn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Re(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Be(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){de(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),ee(),Oe(),this._startPoint=this._map.mouseEventToContainerPoint(t),Re(document,{contextmenu:We,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ue("div","leaflet-zoom-box",this._container),ge(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new B(this._point,this._startPoint),n=e.getSize();Ce(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(de(this._box),ye(this._container,"leaflet-crosshair")),ne(),Pe(),Be(document,{contextmenu:We,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var e=new $(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});nn.addInitHook("addHandler","boxZoom",Gi),nn.mergeOptions({doubleClickZoom:!0});var Xi=mn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,o=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});nn.addInitHook("addHandler","doubleClickZoom",Xi),nn.mergeOptions({dragging:!0,inertia:!rt,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Yi=mn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new wn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ge(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab"),ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=j(this._map.options.maxBounds);this._offsetLimit=I(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){while(this._positions.length>1&&t-this._times[0]>50)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-e+n)%t+e-n,r=(i+e+n)%t-e-n,s=Math.abs(o+n)<Math.abs(r+n)?o:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=o.multiplyBy(s/r),c=a.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,c),h=a.multiplyBy(l/c),u=l/(n.inertiaDeceleration*s),d=h.multiplyBy(-u/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),T(function(){e.panBy(d,{duration:u,easeLinearity:s,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});nn.addInitHook("addHandler","dragging",Yi),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Qi=mn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Re(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Be(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},o=this.keyCodes;for(e=0,n=o.left.length;e<n;e++)i[o.left[e]]=[-1*t,0];for(e=0,n=o.right.length;e<n;e++)i[o.right[e]]=[t,0];for(e=0,n=o.down.length;e<n;e++)i[o.down[e]]=[0,t];for(e=0,n=o.up.length;e<n;e++)i[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},o=this.keyCodes;for(e=0,n=o.zoomIn.length;e<n;e++)i[o.zoomIn[e]]=t;for(e=0,n=o.zoomOut.length;e<n;e++)i[o.zoomOut[e]]=-t},_addHooks:function(){Re(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Be(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=D(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}We(t)}}});nn.addInitHook("addHandler","keyboard",Qi),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var to=mn.extend({addHooks:function(){Re(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Be(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Je(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),i),We(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,r=n?Math.ceil(o/n)*n:o,s=t._limitZoom(e+(this._delta>0?r:-r))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});nn.addInitHook("addHandler","scrollWheelZoom",to),nn.mergeOptions({tap:!0,tapTolerance:15});var eo=mn.extend({addHooks:function(){Re(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Be(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(Ve(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new N(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&ge(n,"leaflet-active"),this._holdTimeout=setTimeout(r(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),Re(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Be(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&ye(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new N(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});kt&&!St&&nn.addInitHook("addHandler","tap",eo),nn.mergeOptions({touchZoom:kt&&!rt,bounceAtZoomLimits:!0});var no=mn.extend({addHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),Re(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),Be(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Re(document,"touchmove",this._onTouchMove,this),Re(document,"touchend",this._onTouchEnd,this),Ve(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),M(this._animRequest);var a=r(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=T(a,this,!0),Ve(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,M(this._animRequest),Be(document,"touchmove",this._onTouchMove),Be(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",no),nn.BoxZoom=Gi,nn.DoubleClickZoom=Xi,nn.Drag=Yi,nn.Keyboard=Qi,nn.ScrollWheelZoom=to,nn.Tap=eo,nn.TouchZoom=no,Object.freeze=n,t.version=e,t.Control=rn,t.control=sn,t.Browser=Lt,t.Evented=E,t.Mixin=gn,t.Util=O,t.Class=P,t.Handler=mn,t.extend=i,t.bind=r,t.stamp=a,t.setOptions=f,t.DomEvent=tn,t.DomUtil=Ne,t.PosAnimation=en,t.Draggable=wn,t.LineUtil=Rn,t.PolyUtil=Bn,t.Point=N,t.point=D,t.Bounds=B,t.bounds=I,t.Transformation=J,t.transformation=U,t.Projection=jn,t.LatLng=Z,t.latLng=F,t.LatLngBounds=$,t.latLngBounds=j,t.CRS=V,t.GeoJSON=hi,t.geoJSON=_i,t.geoJson=bi,t.Layer=Wn,t.LayerGroup=Kn,t.layerGroup=Hn,t.FeatureGroup=Jn,t.featureGroup=Un,t.ImageOverlay=wi,t.imageOverlay=xi,t.VideoOverlay=Si,t.videoOverlay=ki,t.SVGOverlay=Ci,t.svgOverlay=Ti,t.DivOverlay=Mi,t.Popup=Oi,t.popup=Pi,t.Tooltip=Ai,t.tooltip=zi,t.Icon=qn,t.icon=Gn,t.DivIcon=Li,t.divIcon=Ei,t.Marker=Qn,t.marker=ti,t.TileLayer=Di,t.tileLayer=Bi,t.GridLayer=Ni,t.gridLayer=Ri,t.SVG=Hi,t.svg=Ji,t.Renderer=ji,t.Canvas=Zi,t.canvas=Fi,t.Path=ei,t.CircleMarker=ni,t.circleMarker=ii,t.Circle=oi,t.circle=ri,t.Polyline=si,t.polyline=ai,t.Polygon=ci,t.polygon=li,t.Rectangle=Ui,t.rectangle=qi,t.Map=nn,t.map=on;var io=window.L;t.noConflict=function(){return window.L=io,this},window.L=t})},e4bb:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v("Entstehungsgeschichte")]),n("editor-content",{attrs:{editor:t.editor}})],1)},o=[],r=n("6ffb"),s=n("703f"),a=n("6f27"),c=n("2ec8"),l=n("224d"),h=n("56ec"),u=n("fbea"),d=n("72a8"),p=n("986d");
/*!
    * tiptap-utils v1.5.6
    * (c) 2019 Scrumpy UG (limited liability)
    * @license MIT
    */
function f(t){return m(t)||v(t)||g()}function m(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function v(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function y(t,e){var n=t.selection,i=n.from,o=n.to,r=[];t.doc.nodesBetween(i,o,function(t){r=[].concat(f(r),f(t.marks))});var s=r.find(function(t){return t.type.name===e.name});return s?s.attrs:{}}function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t||!e)return!1;var n=t.parent.childAfter(t.parentOffset);if(!n.node)return!1;var i=n.node.marks.find(function(t){return t.type===e});if(!i)return!1;var o=t.index(),r=t.start()+n.offset,s=o+1,a=r+n.node.nodeSize;while(o>0&&i.isInSet(t.parent.child(o-1).marks))o-=1,r-=t.parent.child(o).nodeSize;while(s<t.parent.childCount&&i.isInSet(t.parent.child(s).marks))a+=t.parent.child(s).nodeSize,s+=1;return{from:r,to:a}}function b(t,e){var n=t.selection,i=n.from,o=n.$from,r=n.to,s=n.empty;return s?!!e.isInSet(t.storedMarks||o.marks()):!!t.doc.rangeHasMark(i,r,e)}function w(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=function(t){return t.type===e},o=Object(p["findSelectedNodeOfType"])(e)(t.selection)||Object(p["findParentNode"])(i)(t.selection);return Object.keys(n).length&&o?o.node.hasMarkup(e,n):!!o}var x=n("2b0e");n("7a87");
/*!
    * tiptap v1.23.1
    * (c) 2019 Scrumpy UG (limited liability)
    * @license MIT
    */
function S(t){return S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function T(t,e,n){return e&&C(t.prototype,e),n&&C(t,n),t}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(n,!0).forEach(function(e){M(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function A(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}function L(t,e){return L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},L(t,e)}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?E(t):e}function R(t,e){return I(t)||j(t,e)||F()}function D(t){return B(t)||$(t)||Z()}function B(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function I(t){if(Array.isArray(t))return t}function $(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function j(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done);i=!0)if(n.push(s.value),e&&n.length===e)break}catch(c){o=!0,r=c}finally{try{i||null==a["return"]||a["return"]()}finally{if(o)throw r}}return n}function Z(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function F(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function V(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,function(t,e){return 0===e?t.toLowerCase():t.toUpperCase()}).replace(/\s+/g,"")}var W=function(){function t(e,n){var i=n.editor,o=n.extension,r=n.parent,s=n.node,a=n.view,c=n.decorations,l=n.getPos;k(this,t),this.component=e,this.editor=i,this.extension=o,this.parent=r,this.node=s,this.view=a,this.decorations=c,this.isNode=!!this.node.marks,this.isMark=!this.isNode,this.getPos=this.isMark?this.getMarkPos:l,this.captureEvents=!0,this.dom=this.createDOM(),this.contentDOM=this.vm.$refs.content}return T(t,[{key:"createDOM",value:function(){var t=this,e=x["default"].extend(this.component),n={editor:this.editor,node:this.node,view:this.view,getPos:function(){return t.getPos()},decorations:this.decorations,selected:!1,options:this.extension.options,updateAttrs:function(e){return t.updateAttrs(e)}};return this.vm=new e({parent:this.parent,propsData:n}).$mount(),this.vm.$el}},{key:"update",value:function(t,e){return t.type===this.node.type&&(t===this.node&&this.decorations===e||(this.node=t,this.decorations=e,this.updateComponentProps({node:t,decorations:e}),!0))}},{key:"updateComponentProps",value:function(t){var e=this;if(this.vm._props){var n=x["default"].config.silent;x["default"].config.silent=!0,Object.entries(t).forEach(function(t){var n=R(t,2),i=n[0],o=n[1];e.vm._props[i]=o}),x["default"].config.silent=n}}},{key:"updateAttrs",value:function(t){if(this.view.editable){var e=this.view.state,n=this.node.type,i=this.getPos(),o=P({},this.node.attrs,{},t),r=this.isMark?e.tr.removeMark(i.from,i.to,n).addMark(i.from,i.to,n.create(o)):e.tr.setNodeMarkup(i,null,o);this.view.dispatch(r)}}},{key:"ignoreMutation",value:function(t){return!this.contentDOM||!this.contentDOM.contains(t.target)}},{key:"stopEvent",value:function(t){var e=this;if("function"===typeof this.extension.stopEvent)return this.extension.stopEvent(t);var n=!!this.extension.schema.draggable;if(n&&"mousedown"===t.type){var i=t.target.closest&&t.target.closest("[data-drag-handle]"),o=i&&(this.dom===i||this.dom.contains(i));o&&(this.captureEvents=!1,document.addEventListener("dragend",function(){e.captureEvents=!0},{once:!0}))}var r="paste"===t.type,s=t.type.startsWith("drag")||"drop"===t.type;return!(n&&s||r)&&this.captureEvents}},{key:"selectNode",value:function(){this.updateComponentProps({selected:!0})}},{key:"deselectNode",value:function(){this.updateComponentProps({selected:!1})}},{key:"getMarkPos",value:function(){var t=this.view.posAtDOM(this.dom),e=this.view.state.doc.resolve(t),n=_(e,this.node.type);return n}},{key:"destroy",value:function(){this.vm.$destroy()}}]),t}(),K=function(){function t(){k(this,t)}return T(t,[{key:"on",value:function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this}},{key:"emit",value:function(t){for(var e=this,n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];this._callbacks=this._callbacks||{};var r=this._callbacks[t];return r&&r.forEach(function(t){return t.apply(e,i)}),this}},{key:"off",value:function(t,e){if(arguments.length){var n=this._callbacks?this._callbacks[t]:null;n&&(e?this._callbacks[t]=n.filter(function(t){return t!==e}):delete this._callbacks[t])}else this._callbacks={};return this}}]),t}(),H=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};k(this,t),this.options=P({},this.defaultOptions,{},e)}return T(t,[{key:"init",value:function(){return null}},{key:"bindEditor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.editor=t}},{key:"inputRules",value:function(){return[]}},{key:"pasteRules",value:function(){return[]}},{key:"keys",value:function(){return{}}},{key:"name",get:function(){return null}},{key:"type",get:function(){return"extension"}},{key:"update",get:function(){return function(){}}},{key:"defaultOptions",get:function(){return{}}},{key:"plugins",get:function(){return[]}}]),t}(),J=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;k(this,t),e.forEach(function(t){t.bindEditor(n),t.init()}),this.extensions=e}return T(t,[{key:"keymaps",value:function(t){var e=t.schema,n=this.extensions.filter(function(t){return["extension"].includes(t.type)}).filter(function(t){return t.keys}).map(function(t){return t.keys({schema:e})}),i=this.extensions.filter(function(t){return["node","mark"].includes(t.type)}).filter(function(t){return t.keys}).map(function(t){return t.keys({type:e["".concat(t.type,"s")][t.name],schema:e})});return[].concat(D(n),D(i)).map(function(t){return Object(h["keymap"])(t)})}},{key:"inputRules",value:function(t){var e=t.schema,n=t.excludedExtensions;if(!(n instanceof Array)&&n)return[];var i=n instanceof Array?this.extensions.filter(function(t){return!n.includes(t.name)}):this.extensions,o=i.filter(function(t){return["extension"].includes(t.type)}).filter(function(t){return t.inputRules}).map(function(t){return t.inputRules({schema:e})}),r=i.filter(function(t){return["node","mark"].includes(t.type)}).filter(function(t){return t.inputRules}).map(function(t){return t.inputRules({type:e["".concat(t.type,"s")][t.name],schema:e})});return[].concat(D(o),D(r)).reduce(function(t,e){return[].concat(D(t),D(e))},[])}},{key:"pasteRules",value:function(t){var e=t.schema,n=t.excludedExtensions;if(!(n instanceof Array)&&n)return[];var i=n instanceof Array?this.extensions.filter(function(t){return!n.includes(t.name)}):this.extensions,o=i.filter(function(t){return["extension"].includes(t.type)}).filter(function(t){return t.pasteRules}).map(function(t){return t.pasteRules({schema:e})}),r=i.filter(function(t){return["node","mark"].includes(t.type)}).filter(function(t){return t.pasteRules}).map(function(t){return t.pasteRules({type:e["".concat(t.type,"s")][t.name],schema:e})});return[].concat(D(o),D(r)).reduce(function(t,e){return[].concat(D(t),D(e))},[])}},{key:"commands",value:function(t){var e=t.schema,n=t.view;return this.extensions.filter(function(t){return t.commands}).reduce(function(t,i){var o=i.name,r=i.type,s={},a=i.commands(P({schema:e},["node","mark"].includes(r)?{type:e["".concat(r,"s")][o]}:{})),c=function(t,e){return!!n.editable&&(n.focus(),t(e)(n.state,n.dispatch,n))},l=function(t,e){Array.isArray(e)?s[t]=function(t){return e.forEach(function(e){return c(e,t)})}:"function"===typeof e&&(s[t]=function(t){return c(e,t)})};return"object"===S(a)?Object.entries(a).forEach(function(t){var e=R(t,2),n=e[0],i=e[1];l(n,i)}):l(o,a),P({},t,{},s)},{})}},{key:"nodes",get:function(){return this.extensions.filter(function(t){return"node"===t.type}).reduce(function(t,e){var n=e.name,i=e.schema;return P({},t,M({},n,i))},{})}},{key:"options",get:function(){var t=this.view;return this.extensions.reduce(function(e,n){return P({},e,M({},n.name,new Proxy(n.options,{set:function(e,i,o){var r=e[i]!==o;return Object.assign(e,M({},i,o)),r&&n.update(t),!0}})))},{})}},{key:"marks",get:function(){return this.extensions.filter(function(t){return"mark"===t.type}).reduce(function(t,e){var n=e.name,i=e.schema;return P({},t,M({},n,i))},{})}},{key:"plugins",get:function(){return this.extensions.filter(function(t){return t.plugins}).reduce(function(t,e){var n=e.plugins;return[].concat(D(t),D(n))},[])}}]),t}();function U(t){var e=document.createElement("style");e.type="text/css",e.textContent=t;var n=document,i=n.head,o=i.firstChild;o?i.insertBefore(e,o):i.appendChild(e)}var q=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return k(this,e),N(this,z(e).call(this,t))}return A(e,t),T(e,[{key:"command",value:function(){return function(){}}},{key:"type",get:function(){return"node"}},{key:"view",get:function(){return null}},{key:"schema",get:function(){return null}}]),e}(H),G=function(t){function e(){return k(this,e),N(this,z(e).apply(this,arguments))}return A(e,t),T(e,[{key:"name",get:function(){return"doc"}},{key:"schema",get:function(){return{content:"block+"}}}]),e}(q),X=function(t){function e(){return k(this,e),N(this,z(e).apply(this,arguments))}return A(e,t),T(e,[{key:"commands",value:function(t){var e=t.type;return function(){return Object(u["setBlockType"])(e)}}},{key:"name",get:function(){return"paragraph"}},{key:"schema",get:function(){return{content:"inline*",group:"block",draggable:!1,parseDOM:[{tag:"p"}],toDOM:function(){return["p",0]}}}}]),e}(q),Y=function(t){function e(){return k(this,e),N(this,z(e).apply(this,arguments))}return A(e,t),T(e,[{key:"name",get:function(){return"text"}},{key:"schema",get:function(){return{group:"inline"}}}]),e}(q),Q='.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n',tt=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return k(this,e),t=N(this,z(e).call(this)),t.defaultOptions={editorProps:{},editable:!0,autoFocus:null,extensions:[],content:"",topNode:"doc",emptyDocument:{type:"doc",content:[{type:"paragraph"}]},useBuiltInExtensions:!0,disableInputRules:!1,disablePasteRules:!1,dropCursor:{},parseOptions:{},injectCSS:!0,onInit:function(){},onTransaction:function(){},onUpdate:function(){},onFocus:function(){},onBlur:function(){},onPaste:function(){},onDrop:function(){}},t.events=["init","transaction","update","focus","blur","paste","drop"],t.init(n),t}return A(e,t),T(e,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setOptions(P({},this.defaultOptions,{},e)),this.element=document.createElement("div"),this.extensions=this.createExtensions(),this.nodes=this.createNodes(),this.marks=this.createMarks(),this.schema=this.createSchema(),this.plugins=this.createPlugins(),this.keymaps=this.createKeymaps(),this.inputRules=this.createInputRules(),this.pasteRules=this.createPasteRules(),this.view=this.createView(),this.commands=this.createCommands(),this.setActiveNodesAndMarks(),this.options.injectCSS&&U(Q),null!==this.options.autoFocus&&this.focus(this.options.autoFocus),this.events.forEach(function(e){t.on(e,t.options[V("on ".concat(e))]||function(){})}),this.emit("init",{view:this.view,state:this.state}),this.extensions.view=this.view}},{key:"setOptions",value:function(t){this.options=P({},this.options,{},t),this.view&&this.state&&this.view.updateState(this.state)}},{key:"createExtensions",value:function(){return new J([].concat(D(this.builtInExtensions),D(this.options.extensions)),this)}},{key:"createPlugins",value:function(){return this.extensions.plugins}},{key:"createKeymaps",value:function(){return this.extensions.keymaps({schema:this.schema})}},{key:"createInputRules",value:function(){return this.extensions.inputRules({schema:this.schema,excludedExtensions:this.options.disableInputRules})}},{key:"createPasteRules",value:function(){return this.extensions.pasteRules({schema:this.schema,excludedExtensions:this.options.disablePasteRules})}},{key:"createCommands",value:function(){return this.extensions.commands({schema:this.schema,view:this.view})}},{key:"createNodes",value:function(){return this.extensions.nodes}},{key:"createMarks",value:function(){return this.extensions.marks}},{key:"createSchema",value:function(){return new a["Schema"]({topNode:this.options.topNode,nodes:this.nodes,marks:this.marks})}},{key:"createState",value:function(){var t=this;return r["EditorState"].create({schema:this.schema,doc:this.createDocument(this.options.content),plugins:[].concat(D(this.plugins),[Object(d["inputRules"])({rules:this.inputRules})],D(this.pasteRules),D(this.keymaps),[Object(h["keymap"])({Backspace:d["undoInputRule"]}),Object(h["keymap"])(u["baseKeymap"]),Object(c["dropCursor"])(this.options.dropCursor),Object(l["gapCursor"])(),new r["Plugin"]({key:new r["PluginKey"]("editable"),props:{editable:function(){return t.options.editable}}}),new r["Plugin"]({props:{attributes:{tabindex:0},handleDOMEvents:{focus:function(e,n){t.emit("focus",{event:n,state:e.state,view:e})},blur:function(e,n){t.emit("blur",{event:n,state:e.state,view:e})}}}}),new r["Plugin"]({props:this.options.editorProps})])})}},{key:"createDocument",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.parseOptions;if(null===t)return this.schema.nodeFromJSON(this.options.emptyDocument);if("object"===S(t))try{return this.schema.nodeFromJSON(t)}catch(i){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),this.schema.nodeFromJSON(this.options.emptyDocument)}if("string"===typeof t){var n=document.createElement("div");return n.innerHTML=t.trim(),a["DOMParser"].fromSchema(this.schema).parse(n,e)}return!1}},{key:"createView",value:function(){var t=this;return new s["EditorView"](this.element,{state:this.createState(),handlePaste:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.emit.apply(t,["paste"].concat(n))},handleDrop:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.emit.apply(t,["drop"].concat(n))},dispatchTransaction:this.dispatchTransaction.bind(this)})}},{key:"setParentComponent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&this.view.setProps({nodeViews:this.initNodeViews({parent:t,extensions:[].concat(D(this.builtInExtensions),D(this.options.extensions))})})}},{key:"initNodeViews",value:function(t){var e=this,n=t.parent,i=t.extensions;return i.filter(function(t){return["node","mark"].includes(t.type)}).filter(function(t){return t.view}).reduce(function(t,i){var o=function(t,o,r,s){var a=i.view;return new W(a,{editor:e,extension:i,parent:n,node:t,view:o,getPos:r,decorations:s})};return P({},t,M({},i.name,o))},{})}},{key:"dispatchTransaction",value:function(t){var e=this.state.apply(t);this.view.updateState(e),this.setActiveNodesAndMarks(),this.emit("transaction",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:t}),t.docChanged&&!t.getMeta("preventUpdate")&&this.emitUpdate(t)}},{key:"emitUpdate",value:function(t){this.emit("update",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:t})}},{key:"focus",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!==e&&!1!==e){var n=e;"start"===e||!0===e?n=0:"end"===e&&(n=this.state.doc.nodeSize-2),n=Math.max(0,n),n=Math.min(this.state.doc.nodeSize-2,n);var i=r["TextSelection"].near(this.state.doc.resolve(n)),o=this.state.tr.setSelection(i);this.view.dispatch(o),setTimeout(function(){return t.view.focus()},10)}}},{key:"blur",value:function(){this.view.dom.blur()}},{key:"getSchemaJSON",value:function(){return JSON.parse(JSON.stringify({nodes:this.extensions.nodes,marks:this.extensions.marks}))}},{key:"getHTML",value:function(){var t=document.createElement("div"),e=a["DOMSerializer"].fromSchema(this.schema).serializeFragment(this.state.doc.content);return t.appendChild(e),t.innerHTML}},{key:"getJSON",value:function(){return this.state.doc.toJSON()}},{key:"setContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=this.state,o=i.doc,s=i.tr,a=this.createDocument(t,n),c=r["TextSelection"].create(o,0,o.content.size),l=s.setSelection(c).replaceSelectionWith(a,!1).setMeta("preventUpdate",!e);this.view.dispatch(l)}},{key:"clearContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setContent(this.options.emptyDocument,t)}},{key:"setActiveNodesAndMarks",value:function(){var t=this;this.activeMarks=Object.entries(this.schema.marks).reduce(function(e,n){var i=R(n,2),o=i[0],r=i[1];return P({},e,M({},o,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b(t.state,r,e)}))},{}),this.activeMarkAttrs=Object.entries(this.schema.marks).reduce(function(e,n){var i=R(n,2),o=i[0],r=i[1];return P({},e,M({},o,y(t.state,r)))},{}),this.activeNodes=Object.entries(this.schema.nodes).reduce(function(e,n){var i=R(n,2),o=i[0],r=i[1];return P({},e,M({},o,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w(t.state,r,e)}))},{})}},{key:"getMarkAttrs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.activeMarkAttrs[t]}},{key:"registerPlugin",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t){var e=this.state.reconfigure({plugins:this.state.plugins.concat([t])});this.view.updateState(e)}}},{key:"unregisterPlugin",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t&&this.view.docView){var e=this.state.reconfigure({plugins:this.state.plugins.filter(function(e){return!e.key.startsWith("".concat(t,"$"))})});this.view.updateState(e)}}},{key:"destroy",value:function(){this.view&&this.view.destroy()}},{key:"builtInExtensions",get:function(){return this.options.useBuiltInExtensions?[new G,new Y,new X]:[]}},{key:"state",get:function(){return this.view?this.view.state:null}},{key:"isActive",get:function(){return Object.entries(P({},this.activeMarks,{},this.activeNodes)).reduce(function(t,e){var n=R(e,2),i=n[0],o=n[1];return P({},t,M({},i,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o(t)}))},{})}}]),e}(K),et={props:{editor:{default:null,type:Object}},watch:{editor:{immediate:!0,handler:function(t){var e=this;t&&t.element&&this.$nextTick(function(){e.$el.appendChild(t.element.firstChild),t.setParentComponent(e)})}}},render:function(t){return t("div")},beforeDestroy:function(){this.editor.element=this.$el}};function nt(t,e,n){var i=document.createRange();return i.setEnd(t,null==n?t.nodeValue.length:n),i.setStart(t,e||0),i}function it(t,e){var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}function ot(t,e){var n,i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.docView.domFromPos(e),s=r.node,a=r.offset;if(3===s.nodeType)o&&a<s.nodeValue.length?(i=it(nt(s,a-1,a),-1),n="right"):a<s.nodeValue.length&&(i=it(nt(s,a,a+1),-1),n="left");else if(s.firstChild){if(a<s.childNodes.length){var c=s.childNodes[a];i=it(3===c.nodeType?nt(c):c,-1),n="left"}if((!i||i.top===i.bottom)&&a){var l=s.childNodes[a-1];i=it(3===l.nodeType?nt(l):l,1),n="right"}}else i=s.getBoundingClientRect(),n="left";var h=i[n];return{top:i.top,bottom:i.bottom,left:h,right:h}}var rt=function(){function t(e){var n=this,i=e.options,o=e.editorView;k(this,t),this.options=P({},{element:null,keepInBounds:!0,onUpdate:function(){return!1}},{},i),this.editorView=o,this.isActive=!1,this.left=0,this.bottom=0,this.options.element.addEventListener("mousedown",this.handleClick),this.options.editor.on("focus",function(t){var e=t.view;n.update(e)}),this.options.editor.on("blur",function(t){var e=t.event;n.hide(e)})}return T(t,[{key:"handleClick",value:function(t){t.preventDefault()}},{key:"update",value:function(t,e){var n=t.state;if(!t.composing&&!(e&&e.doc.eq(n.doc)&&e.selection.eq(n.selection)))if(n.selection.empty)this.hide();else{var i=n.selection,o=i.from,r=i.to,s=ot(t,o),a=ot(t,r,!0),c=this.options.element.offsetParent.getBoundingClientRect(),l=this.options.element.getBoundingClientRect(),h=(s.left+a.left)/2-c.left;this.left=Math.round(this.options.keepInBounds?Math.min(c.width-l.width/2,Math.max(h,l.width/2)):h),this.bottom=Math.round(c.bottom-s.top),this.isActive=!0,this.sendUpdate()}}},{key:"sendUpdate",value:function(){this.options.onUpdate({isActive:this.isActive,left:this.left,bottom:this.bottom})}},{key:"hide",value:function(t){t&&t.relatedTarget||(this.isActive=!1,this.sendUpdate())}},{key:"destroy",value:function(){this.options.element.removeEventListener("mousedown",this.handleClick)}}]),t}();function st(t){return new r["Plugin"]({key:new r["PluginKey"]("menu_bubble"),view:function(e){return new rt({editorView:e,options:t})}})}Object,Boolean;var at=function(){function t(e){var n=this,i=e.options,o=e.editorView;k(this,t),this.options=P({},{resizeObserver:!0,element:null,onUpdate:function(){return!1}},{},i),this.editorView=o,this.isActive=!1,this.top=0,this.options.element.addEventListener("mousedown",this.handleClick),this.options.editor.on("focus",function(t){var e=t.view;n.update(e)}),this.options.editor.on("blur",function(t){var e=t.event;n.hide(e)}),this.options.resizeObserver&&window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(function(){n.isActive&&n.update(n.editorView)}),this.resizeObserver.observe(this.editorView.dom))}return T(t,[{key:"handleClick",value:function(t){t.preventDefault()}},{key:"update",value:function(t,e){var n=t.state;if(!(e&&e.doc.eq(n.doc)&&e.selection.eq(n.selection)))if(n.selection.empty){var i=t.domAtPos(n.selection.anchor),o="<br>"===i.node.innerHTML&&"P"===i.node.tagName&&i.node.parentNode===t.dom;if(o){var r=this.options.element.offsetParent.getBoundingClientRect(),s=t.coordsAtPos(n.selection.anchor),a=s.top-r.top;this.isActive=!0,this.top=a,this.sendUpdate()}else this.hide()}else this.hide()}},{key:"sendUpdate",value:function(){this.options.onUpdate({isActive:this.isActive,top:this.top})}},{key:"hide",value:function(t){t&&t.relatedTarget||(this.isActive=!1,this.sendUpdate())}},{key:"destroy",value:function(){this.options.element.removeEventListener("mousedown",this.handleClick),this.resizeObserver&&this.resizeObserver.unobserve(this.editorView.dom)}}]),t}();function ct(t){return new r["Plugin"]({key:new r["PluginKey"]("floating_menu"),view:function(e){return new at({editorView:e,options:t})}})}var lt={components:{EditorContent:et},data:function(){return{editor:null}},mounted:function(){this.editor=new tt({content:"<p>This is just a boring paragraph</p>"})},beforeDestroy:function(){this.editor.destroy()}},ht=lt,ut=n("2877"),dt=Object(ut["a"])(ht,i,o,!1,null,null,null);e["default"]=dt.exports},e76e:function(t,e,n){"use strict";var i=n("2b3c"),o=n.n(i);o.a},f820:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("h1",[t._v("Über Theresienstadt Explained")]),n("div",{staticClass:"page"},[n("h2",[t._v("Idee und Konzept")]),n("ul",{staticClass:"page-list"},[n("li",[t._v("Niels Seidel")]),n("li",[t._v("Armin Pietsch, "),n("a",{attrs:{href:"https://jugendbegegnung.de/dresden/"}},[t._v("Förderverein Jugendbegegnung in Theresienstadt/Terezin")])])]),n("h2",[t._v("Realisierung")]),n("ul",{staticClass:"page-list"},[n("li",[n("strong",[t._v("Recherchen:")]),t._v(" Niels Seidel, Armin Pietsch, Janick Baumann")]),n("li",[n("strong",[t._v("Filmbearbeitung:")]),t._v(" Niels Seidel")]),n("li",[n("strong",[t._v("Filmprotokoll und filmästhetische Analyse:")]),n("a",{attrs:{href:"https://scholar.princeton.edu/dennisschaefer/home"}},[t._v(" Dennis Schäfer, Princton University")])]),n("li",{attrs:{hidden:""}},[n("strong",[t._v("Fotos:")]),t._v(" xxx")]),n("li",[n("strong",[t._v("Software und Architektur:")]),n("a",{attrs:{href:"https://www.fernuni-hagen.de/ks/team/niels.seidel.shtml"}},[t._v("Niels Seidel, FernUniversität in Hagen")]),t._v("  sowie die Studierenden Michael Dittwald und Michael Desch")]),n("li",[n("strong",[t._v("Design:")]),n("a",{attrs:{href:"http://dioptrin.de/"}},[t._v("Marcel Hüsni, dioptrin")])]),n("li",{attrs:{hidden:""}},[n("strong",[t._v("Inhaltliche Begutachtung:")]),t._v(" Dr. Karel Margry")]),n("li",[n("strong",[t._v("PR:")]),t._v(" Frauke Wenzel")])]),n("h2",[t._v("Unterstützer, Förderer und Kooperationspartner")]),n("ul",{staticClass:"page-list"},[n("li",[n("strong",[t._v("StartNext-Unterstützer:")]),t._v(" BeDiTo e.V. Potsdam, Stefan Richter, Richard Weigelt, Heinz Meixner, Renate Stein, Patrick Weißig, Heike Bacher, Thomas Zenker, Uwe Hobler, Jan Kout, Sonja Bloß, Oliver Graf, Christoph Bittmann, Robert Kruschel, Matthias Siebel")]),n("li",[n("strong",[t._v("Bundesarchiv Berlin:")]),t._v(" Reproduktion des Films\n        ")]),n("li",[n("strong",[t._v("Google.org:")]),t._v(" Gewinner der Google Impact Challenge 2018\n        ")]),n("li",[n("strong",[t._v("FernUniversität in Hagen:")]),t._v(" Lehrgebiet für Kooperative Systeme\n        ")])]),n("h2",[t._v("Ressourcen")]),n("ul",{staticClass:"page-list"},[n("li",[n("a",{attrs:{href:"https://github.com/nise/theresienstadt-explained"}},[t._v("Quellcode des Software Projekts")])])])])])}],r=(n("e76e"),n("2877")),s={},a=Object(r["a"])(s,i,o,!1,null,null,null);e["default"]=a.exports},f9e3:function(t,e,n){},faa1:function(t,e){function n(t){this.content=t}n.prototype={constructor:n,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,i){var o=i&&i!=t?this.remove(i):this,r=o.find(t),s=o.content.slice();return-1==r?s.push(i||t,e):(s[r+1]=e,i&&(s[r]=i)),new n(s)},remove:function(t){var e=this.find(t);if(-1==e)return this;var i=this.content.slice();return i.splice(e,2),new n(i)},addToStart:function(t,e){return new n([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var i=this.remove(t).content.slice();return i.push(t,e),new n(i)},addBefore:function(t,e,i){var o=this.remove(e),r=o.content.slice(),s=o.find(t);return r.splice(-1==s?r.length:s,0,e,i),new n(r)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=n.from(t),t.size?new n(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=n.from(t),t.size?new n(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=n.from(t);for(var i=0;i<t.content.length;i+=2)e=e.remove(t.content[i]);return e},get size(){return this.content.length>>1}},n.from=function(t){if(t instanceof n)return t;var e=[];if(t)for(var i in t)e.push(i,t[i]);return new n(e)},t.exports=n},fbea:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("b923"),o=n("6f27"),r=n("6ffb");function s(t,e){return!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function a(t,e,n){var o=t.selection,s=o.$cursor;if(!s||(n?!n.endOfTextblock("backward",t):s.parentOffset>0))return!1;var a=h(s);if(!a){var l=s.blockRange(),u=l&&i.liftTarget(l);return null!=u&&(e&&e(t.tr.lift(l,u).scrollIntoView()),!0)}var d=a.nodeBefore;if(!d.type.spec.isolating&&T(t,a,e))return!0;if(0==s.parent.content.size&&(c(d,"end")||r.NodeSelection.isSelectable(d))){if(e){var p=t.tr.deleteRange(s.before(),s.after());p.setSelection(c(d,"end")?r.Selection.findFrom(p.doc.resolve(p.mapping.map(a.pos,-1)),-1):r.NodeSelection.create(p.doc,a.pos-d.nodeSize)),e(p.scrollIntoView())}return!0}return!(!d.isAtom||a.depth!=s.depth-1)&&(e&&e(t.tr.delete(a.pos-d.nodeSize,a.pos).scrollIntoView()),!0)}function c(t,e){for(;t;t="start"==e?t.firstChild:t.lastChild)if(t.isTextblock)return!0;return!1}function l(t,e,n){var i=t.selection,o=i.$cursor;if(!o||(n?!n.endOfTextblock("backward",t):o.parentOffset>0))return!1;var s=h(o),a=s&&s.nodeBefore;return!(!a||!r.NodeSelection.isSelectable(a))&&(e&&e(t.tr.setSelection(r.NodeSelection.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)}function h(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function u(t,e,n){var i=t.selection,o=i.$cursor;if(!o||(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size))return!1;var s=p(o);if(!s)return!1;var a=s.nodeAfter;if(T(t,s,e))return!0;if(0==o.parent.content.size&&(c(a,"start")||r.NodeSelection.isSelectable(a))){if(e){var l=t.tr.deleteRange(o.before(),o.after());l.setSelection(c(a,"start")?r.Selection.findFrom(l.doc.resolve(l.mapping.map(s.pos)),1):r.NodeSelection.create(l.doc,l.mapping.map(s.pos))),e(l.scrollIntoView())}return!0}return!(!a.isAtom||s.depth!=o.depth-1)&&(e&&e(t.tr.delete(s.pos,s.pos+a.nodeSize).scrollIntoView()),!0)}function d(t,e,n){var i=t.selection,o=i.$cursor;if(!o||(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size))return!1;var s=p(o),a=s&&s.nodeAfter;return!(!a||!r.NodeSelection.isSelectable(a))&&(e&&e(t.tr.setSelection(r.NodeSelection.create(t.doc,s.pos)).scrollIntoView()),!0)}function p(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function f(t,e){var n,o=t.selection,s=o instanceof r.NodeSelection;if(s){if(o.node.isTextblock||!i.canJoin(t.doc,o.from))return!1;n=o.from}else if(n=i.joinPoint(t.doc,o.from,-1),null==n)return!1;if(e){var a=t.tr.join(n);s&&a.setSelection(r.NodeSelection.create(a.doc,n-t.doc.resolve(n).nodeBefore.nodeSize)),e(a.scrollIntoView())}return!0}function m(t,e){var n,o=t.selection;if(o instanceof r.NodeSelection){if(o.node.isTextblock||!i.canJoin(t.doc,o.to))return!1;n=o.to}else if(n=i.joinPoint(t.doc,o.to,1),null==n)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0}function v(t,e){var n=t.selection,o=n.$from,r=n.$to,s=o.blockRange(r),a=s&&i.liftTarget(s);return null!=a&&(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}function g(t,e){var n=t.selection,i=n.$head,o=n.$anchor;return!(!i.parent.type.spec.code||!i.sameParent(o))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}function y(t,e){var n=t.selection,i=n.$head,o=n.$anchor;if(!i.parent.type.spec.code||!i.sameParent(o))return!1;var s=i.node(-1),a=i.indexAfter(-1),c=s.contentMatchAt(a).defaultType;if(!s.canReplaceWith(a,a,c))return!1;if(e){var l=i.after(),h=t.tr.replaceWith(l,l,c.createAndFill());h.setSelection(r.Selection.near(h.doc.resolve(l),1)),e(h.scrollIntoView())}return!0}function _(t,e){var n=t.selection,i=n.$from,o=n.$to;if(i.parent.inlineContent||o.parent.inlineContent)return!1;var s=i.parent.contentMatchAt(o.indexAfter()).defaultType;if(!s||!s.isTextblock)return!1;if(e){var a=(!i.parentOffset&&o.index()<o.parent.childCount?i:o).pos,c=t.tr.insert(a,s.createAndFill());c.setSelection(r.TextSelection.create(c.doc,a+1)),e(c.scrollIntoView())}return!0}function b(t,e){var n=t.selection,o=n.$cursor;if(!o||o.parent.content.size)return!1;if(o.depth>1&&o.after()!=o.end(-1)){var r=o.before();if(i.canSplit(t.doc,r))return e&&e(t.tr.split(r).scrollIntoView()),!0}var s=o.blockRange(),a=s&&i.liftTarget(s);return null!=a&&(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}function w(t,e){var n=t.selection,s=n.$from,a=n.$to;if(t.selection instanceof r.NodeSelection&&t.selection.node.isBlock)return!(!s.parentOffset||!i.canSplit(t.doc,s.pos))&&(e&&e(t.tr.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;if(e){var c=a.parentOffset==a.parent.content.size,l=t.tr;t.selection instanceof r.TextSelection&&l.deleteSelection();var h=0==s.depth?null:s.node(-1).contentMatchAt(s.indexAfter(-1)).defaultType,u=c&&h?[{type:h}]:null,d=i.canSplit(l.doc,l.mapping.map(s.pos),1,u);u||d||!i.canSplit(l.doc,l.mapping.map(s.pos),1,h&&[{type:h}])||(u=[{type:h}],d=!0),d&&(l.split(l.mapping.map(s.pos),1,u),c||s.parentOffset||s.parent.type==h||!s.node(-1).canReplace(s.index(-1),s.indexAfter(-1),o.Fragment.from(h.create(),s.parent))||l.setNodeMarkup(l.mapping.map(s.before()),h)),e(l.scrollIntoView())}return!0}function x(t,e){return w(t,e&&function(n){var i=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();i&&n.ensureMarks(i),e(n)})}function S(t,e){var n,i=t.selection,o=i.$from,s=i.to,a=o.sharedDepth(s);return 0!=a&&(n=o.before(a),e&&e(t.tr.setSelection(r.NodeSelection.create(t.doc,n))),!0)}function k(t,e){return e&&e(t.tr.setSelection(new r.AllSelection(t.doc))),!0}function C(t,e,n){var o=e.nodeBefore,r=e.nodeAfter,s=e.index();return!!(o&&r&&o.type.compatibleContent(r.type))&&(!o.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-o.nodeSize,e.pos).scrollIntoView()),!0):!(!e.parent.canReplace(s,s+1)||!r.isTextblock&&!i.canJoin(t.doc,e.pos))&&(n&&n(t.tr.clearIncompatible(e.pos,o.type,o.contentMatchAt(o.childCount)).join(e.pos).scrollIntoView()),!0))}function T(t,e,n){var s,a,c=e.nodeBefore,l=e.nodeAfter;if(c.type.spec.isolating||l.type.spec.isolating)return!1;if(C(t,e,n))return!0;if(e.parent.canReplace(e.index(),e.index()+1)&&(s=(a=c.contentMatchAt(c.childCount)).findWrapping(l.type))&&a.matchType(s[0]||l.type).validEnd){if(n){for(var h=e.pos+l.nodeSize,u=o.Fragment.empty,d=s.length-1;d>=0;d--)u=o.Fragment.from(s[d].create(null,u));u=o.Fragment.from(c.copy(u));var p=t.tr.step(new i.ReplaceAroundStep(e.pos-1,h,e.pos,h,new o.Slice(u,1,0),s.length,!0)),f=h+2*s.length;i.canJoin(p.doc,f)&&p.join(f),n(p.scrollIntoView())}return!0}var m=r.Selection.findFrom(e,1),v=m&&m.$from.blockRange(m.$to),g=v&&i.liftTarget(v);return null!=g&&g>=e.depth&&(n&&n(t.tr.lift(v,g).scrollIntoView()),!0)}function M(t,e){return function(n,o){var r=n.selection,s=r.$from,a=r.$to,c=s.blockRange(a),l=c&&i.findWrapping(c,t,e);return!!l&&(o&&o(n.tr.wrap(c,l).scrollIntoView()),!0)}}function O(t,e){return function(n,i){var o=n.selection,r=o.from,s=o.to,a=!1;return n.doc.nodesBetween(r,s,function(i,o){if(a)return!1;if(i.isTextblock&&!i.hasMarkup(t,e))if(i.type==t)a=!0;else{var r=n.doc.resolve(o),s=r.index();a=r.parent.canReplaceWith(s,s+1,t)}}),!!a&&(i&&i(n.tr.setBlockType(r,s,t,e).scrollIntoView()),!0)}}function P(t,e,n){for(var i=function(i){var o=e[i],r=o.$from,s=o.$to,a=0==r.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(r.pos,s.pos,function(t){if(a)return!1;a=t.inlineContent&&t.type.allowsMarkType(n)}),a)return{v:!0}},o=0;o<e.length;o++){var r=i(o);if(r)return r.v}return!1}function A(t,e){return function(n,i){var o=n.selection,r=o.empty,s=o.$cursor,a=o.ranges;if(r&&!s||!P(n.doc,a,t))return!1;if(i)if(s)t.isInSet(n.storedMarks||s.marks())?i(n.tr.removeStoredMark(t)):i(n.tr.addStoredMark(t.create(e)));else{for(var c=!1,l=n.tr,h=0;!c&&h<a.length;h++){var u=a[h],d=u.$from,p=u.$to;c=n.doc.rangeHasMark(d.pos,p.pos,t)}for(var f=0;f<a.length;f++){var m=a[f],v=m.$from,g=m.$to;c?l.removeMark(v.pos,g.pos,t):l.addMark(v.pos,g.pos,t.create(e))}i(l.scrollIntoView())}return!0}}function z(t,e){return function(n){if(!n.isGeneric)return t(n);for(var o=[],r=0;r<n.mapping.maps.length;r++){for(var s=n.mapping.maps[r],a=0;a<o.length;a++)o[a]=s.map(o[a]);s.forEach(function(t,e,n,i){return o.push(n,i)})}for(var c=[],l=0;l<o.length;l+=2)for(var h=o[l],u=o[l+1],d=n.doc.resolve(h),p=d.sharedDepth(u),f=d.node(p),m=d.indexAfter(p),v=d.after(p+1);v<=u;++m){var g=f.maybeChild(m);if(!g)break;if(m&&-1==c.indexOf(v)){var y=f.child(m-1);y.type==g.type&&e(y,g)&&c.push(v)}v+=g.nodeSize}c.sort(function(t,e){return t-e});for(var _=c.length-1;_>=0;_--)i.canJoin(n.doc,c[_])&&n.join(c[_]);t(n)}}function L(t,e){if(Array.isArray(e)){var n=e;e=function(t){return n.indexOf(t.type.name)>-1}}return function(n,i){return t(n,i&&z(i,e))}}function E(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return function(e,n,i){for(var o=0;o<t.length;o++)if(t[o](e,n,i))return!0;return!1}}var N=E(s,a,l),R=E(s,u,d),D={Enter:E(g,_,b,w),"Mod-Enter":y,Backspace:N,"Mod-Backspace":N,Delete:R,"Mod-Delete":R,"Mod-a":k},B={"Ctrl-h":D["Backspace"],"Alt-Backspace":D["Mod-Backspace"],"Ctrl-d":D["Delete"],"Ctrl-Alt-Backspace":D["Mod-Delete"],"Alt-Delete":D["Mod-Delete"],"Alt-d":D["Mod-Delete"]};for(var I in D)B[I]=D[I];var $="undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform(),j=$?B:D;e.deleteSelection=s,e.joinBackward=a,e.selectNodeBackward=l,e.joinForward=u,e.selectNodeForward=d,e.joinUp=f,e.joinDown=m,e.lift=v,e.newlineInCode=g,e.exitCode=y,e.createParagraphNear=_,e.liftEmptyBlock=b,e.splitBlock=w,e.splitBlockKeepMarks=x,e.selectParentNode=S,e.selectAll=k,e.wrapIn=M,e.setBlockType=O,e.toggleMark=A,e.autoJoin=L,e.chainCommands=E,e.pcBaseKeymap=D,e.macBaseKeymap=B,e.baseKeymap=j},fc88:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o,r=n("6ffb"),s=n("703f"),a=n("6f27"),c=n("b923"),l=n("56ec");if("undefined"!=typeof WeakMap){var h=new WeakMap;i=function(t){return h.get(t)},o=function(t,e){return h.set(t,e),e}}else{var u=[],d=10,p=0;i=function(t){for(var e=0;e<u.length;e+=2)if(u[e]==t)return u[e+1]},o=function(t,e){return p==d&&(p=0),u[p++]=t,u[p++]=e}}var f=function(t,e,n,i){this.left=t,this.top=e,this.right=n,this.bottom=i},m=function(t,e,n,i){this.width=t,this.height=e,this.map=n,this.problems=i};function v(t){if("table"!=t.type.spec.tableRole)throw new RangeError("Not a table node: "+t.type.name);for(var e=g(t),n=t.childCount,i=[],o=0,r=null,s=[],a=0,c=e*n;a<c;a++)i[a]=0;for(var l=0,h=0;l<n;l++){var u=t.child(l);h++;for(var d=0;;d++){while(o<i.length&&0!=i[o])o++;if(d==u.childCount)break;for(var p=u.child(d),f=p.attrs,v=f.colspan,_=f.rowspan,b=f.colwidth,w=0;w<_;w++){if(w+l>=n){(r||(r=[])).push({type:"overlong_rowspan",pos:h,n:_-w});break}for(var x=o+w*e,S=0;S<v;S++){0==i[x+S]?i[x+S]=h:(r||(r=[])).push({type:"collision",row:l,pos:h,n:v-S});var k=b&&b[S];if(k){var C=(x+S)%e*2,T=s[C];null==T||T!=k&&1==s[C+1]?(s[C]=k,s[C+1]=1):T==k&&s[C+1]++}}}o+=v,h+=p.nodeSize}var M=(l+1)*e,O=0;while(o<M)0==i[o++]&&O++;O&&(r||(r=[])).push({type:"missing",row:l,n:O}),h++}for(var P=new m(e,n,i,r),A=!1,z=0;!A&&z<s.length;z+=2)null!=s[z]&&s[z+1]<n&&(A=!0);return A&&y(P,s,t),P}function g(t){for(var e=-1,n=!1,i=0;i<t.childCount;i++){var o=t.child(i),r=0;if(n)for(var s=0;s<i;s++)for(var a=t.child(s),c=0;c<a.childCount;c++){var l=a.child(c);s+l.attrs.rowspan>i&&(r+=l.attrs.colspan)}for(var h=0;h<o.childCount;h++){var u=o.child(h);r+=u.attrs.colspan,u.attrs.rowspan>1&&(n=!0)}-1==e?e=r:e!=r&&(e=Math.max(e,r))}return e}function y(t,e,n){t.problems||(t.problems=[]);for(var i=0,o={};i<t.map.length;i++){var r=t.map[i];if(!o[r]){o[r]=!0;for(var s=n.nodeAt(r),a=null,c=0;c<s.attrs.colspan;c++){var l=(i+c)%t.width,h=e[2*l];null==h||s.attrs.colwidth&&s.attrs.colwidth[c]==h||((a||(a=_(s.attrs)))[c]=h)}a&&t.problems.unshift({type:"colwidth mismatch",pos:r,colwidth:a})}}}function _(t){if(t.colwidth)return t.colwidth.slice();for(var e=[],n=0;n<t.colspan;n++)e.push(0);return e}m.prototype.findCell=function(t){for(var e=0;e<this.map.length;e++){var n=this.map[e];if(n==t){for(var i=e%this.width,o=e/this.width|0,r=i+1,s=o+1,a=1;r<this.width&&this.map[e+a]==n;a++)r++;for(var c=1;s<this.height&&this.map[e+this.width*c]==n;c++)s++;return new f(i,o,r,s)}}throw new RangeError("No cell with offset "+t+" found")},m.prototype.colCount=function(t){for(var e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError("No cell with offset "+t+" found")},m.prototype.nextCell=function(t,e,n){var i=this.findCell(t),o=i.left,r=i.right,s=i.top,a=i.bottom;return"horiz"==e?(n<0?0==o:r==this.width)?null:this.map[s*this.width+(n<0?o-1:r)]:(n<0?0==s:a==this.height)?null:this.map[o+this.width*(n<0?s-1:a)]},m.prototype.rectBetween=function(t,e){var n=this.findCell(t),i=n.left,o=n.right,r=n.top,s=n.bottom,a=this.findCell(e),c=a.left,l=a.right,h=a.top,u=a.bottom;return new f(Math.min(i,c),Math.min(r,h),Math.max(o,l),Math.max(s,u))},m.prototype.cellsInRect=function(t){for(var e=[],n={},i=t.top;i<t.bottom;i++)for(var o=t.left;o<t.right;o++){var r=i*this.width+o,s=this.map[r];n[s]||(n[s]=!0,o==t.left&&o&&this.map[r-1]==s||i==t.top&&i&&this.map[r-this.width]==s||e.push(s))}return e},m.prototype.positionAt=function(t,e,n){for(var i=0,o=0;;i++){var r=o+n.child(i).nodeSize;if(i==t){var s=e+t*this.width,a=(t+1)*this.width;while(s<a&&this.map[s]<o)s++;return s==a?r-1:this.map[s]}o=r}},m.get=function(t){return i(t)||o(t,v(t))};var b=new r.PluginKey("selectingCells");function w(t){for(var e=t.depth-1;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return t.node(0).resolve(t.before(e+1));return null}function x(t){for(var e=t.depth-1;e>0;e--){var n=t.node(e).type.spec.tableRole;if("cell"===n||"header_cell"===n)return t.node(e)}return null}function S(t){for(var e=t.selection.$head,n=e.depth;n>0;n--)if("row"==e.node(n).type.spec.tableRole)return!0;return!1}function k(t){var e=t.selection;return e.$anchorCell?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e.node&&"cell"==e.node.type.spec.tableRole?e.$anchor:w(e.$head)||C(e.$head)}function C(t){for(var e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){var i=e.type.spec.tableRole;if("cell"==i||"header_cell"==i)return t.doc.resolve(n)}for(var o=t.nodeBefore,r=t.pos;o;o=o.lastChild,r--){var s=o.type.spec.tableRole;if("cell"==s||"header_cell"==s)return t.doc.resolve(r-o.nodeSize)}}function T(t){return"row"==t.parent.type.spec.tableRole&&t.nodeAfter}function M(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function O(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function P(t){return m.get(t.node(-1)).findCell(t.pos-t.start(-1))}function A(t){return m.get(t.node(-1)).colCount(t.pos-t.start(-1))}function z(t,e,n){var i=t.start(-1),o=m.get(t.node(-1)),r=o.nextCell(t.pos-i,e,n);return null==r?null:t.node(0).resolve(i+r)}function L(t,e,n){var i={};for(var o in t)i[o]=t[o];return i[e]=n,i}function E(t,e,n){void 0===n&&(n=1);var i=L(t,"colspan",t.colspan-n);return i.colwidth&&(i.colwidth=i.colwidth.slice(),i.colwidth.splice(e,n),i.colwidth.some(function(t){return t>0})||(i.colwidth=null)),i}function N(t,e,n){void 0===n&&(n=1);var i=L(t,"colspan",t.colspan+n);if(i.colwidth){i.colwidth=i.colwidth.slice();for(var o=0;o<n;o++)i.colwidth.splice(e,0,0)}return i}var R=function(t){function e(e,n){void 0===n&&(n=e);var i=e.node(-1),o=m.get(i),s=e.start(-1),a=o.rectBetween(e.pos-s,n.pos-s),c=e.node(0),l=o.cellsInRect(a).filter(function(t){return t!=n.pos-s});l.unshift(n.pos-s);var h=l.map(function(t){var e=i.nodeAt(t),n=t+s+1;return new r.SelectionRange(c.resolve(n),c.resolve(n+e.content.size))});t.call(this,h[0].$from,h[0].$to,h),this.$anchorCell=e,this.$headCell=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t,n){var i=t.resolve(n.map(this.$anchorCell.pos)),o=t.resolve(n.map(this.$headCell.pos));if(T(i)&&T(o)&&O(i,o)){var s=this.$anchorCell.node(-1)!=i.node(-1);return s&&this.isRowSelection()?e.rowSelection(i,o):s&&this.isColSelection()?e.colSelection(i,o):new e(i,o)}return r.TextSelection.between(i,o)},e.prototype.content=function(){for(var t=this.$anchorCell.node(-1),e=m.get(t),n=this.$anchorCell.start(-1),i=e.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},r=[],s=i.top;s<i.bottom;s++){for(var c=[],l=s*e.width+i.left,h=i.left;h<i.right;h++,l++){var u=e.map[l];if(!o[u]){o[u]=!0;var d=e.findCell(u),p=t.nodeAt(u),f=i.left-d.left,v=d.right-i.right;if(f>0||v>0){var g=p.attrs;f>0&&(g=E(g,0,f)),v>0&&(g=E(g,g.colspan-v,v)),p=d.left<i.left?p.type.createAndFill(g):p.type.create(g,p.content)}if(d.top<i.top||d.bottom>i.bottom){var y=L(p.attrs,"rowspan",Math.min(d.bottom,i.bottom)-Math.max(d.top,i.top));p=d.top<i.top?p.type.createAndFill(y):p.type.create(y,p.content)}c.push(p)}}r.push(t.child(s).copy(a.Fragment.from(c)))}var _=this.isColSelection()&&this.isRowSelection()?t:r;return new a.Slice(a.Fragment.from(_),1,1)},e.prototype.replace=function(e,n){void 0===n&&(n=a.Slice.empty);for(var i=e.steps.length,o=this.ranges,r=0;r<o.length;r++){var s=o[r],c=s.$from,l=s.$to,h=e.mapping.slice(i);e.replace(h.map(c.pos),h.map(l.pos),r?a.Slice.empty:n)}var u=t.findFrom(e.doc.resolve(e.mapping.slice(i).map(this.to)),-1);u&&e.setSelection(u)},e.prototype.replaceWith=function(t,e){this.replace(t,new a.Slice(a.Fragment.from(e),0,0))},e.prototype.forEachCell=function(t){for(var e=this.$anchorCell.node(-1),n=m.get(e),i=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i)),r=0;r<o.length;r++)t(e.nodeAt(o[r]),i+o[r])},e.prototype.isColSelection=function(){var t=this.$anchorCell.index(-1),e=this.$headCell.index(-1);if(Math.min(t,e)>0)return!1;var n=t+this.$anchorCell.nodeAfter.attrs.rowspan,i=e+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,i)==this.$headCell.node(-1).childCount},e.colSelection=function(t,n){void 0===n&&(n=t);var i=m.get(t.node(-1)),o=t.start(-1),r=i.findCell(t.pos-o),s=i.findCell(n.pos-o),a=t.node(0);return r.top<=s.top?(r.top>0&&(t=a.resolve(o+i.map[r.left])),s.bottom<i.height&&(n=a.resolve(o+i.map[i.width*(i.height-1)+s.right-1]))):(s.top>0&&(n=a.resolve(o+i.map[s.left])),r.bottom<i.height&&(t=a.resolve(o+i.map[i.width*(i.height-1)+r.right-1]))),new e(t,n)},e.prototype.isRowSelection=function(){var t=m.get(this.$anchorCell.node(-1)),e=this.$anchorCell.start(-1),n=t.colCount(this.$anchorCell.pos-e),i=t.colCount(this.$headCell.pos-e);if(Math.min(n,i)>0)return!1;var o=n+this.$anchorCell.nodeAfter.attrs.colspan,r=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,r)==t.width},e.prototype.eq=function(t){return t instanceof e&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos},e.rowSelection=function(t,n){void 0===n&&(n=t);var i=m.get(t.node(-1)),o=t.start(-1),r=i.findCell(t.pos-o),s=i.findCell(n.pos-o),a=t.node(0);return r.left<=s.left?(r.left>0&&(t=a.resolve(o+i.map[r.top*i.width])),s.right<i.width&&(n=a.resolve(o+i.map[i.width*(s.top+1)-1]))):(s.left>0&&(n=a.resolve(o+i.map[s.top*i.width])),r.right<i.width&&(t=a.resolve(o+i.map[i.width*(r.top+1)-1]))),new e(t,n)},e.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},e.fromJSON=function(t,n){return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,n,i){return void 0===i&&(i=n),new e(t.resolve(n),t.resolve(i))},e.prototype.getBookmark=function(){return new D(this.$anchorCell.pos,this.$headCell.pos)},e}(r.Selection);R.prototype.visible=!1,r.Selection.jsonID("cell",R);var D=function(t,e){this.anchor=t,this.head=e};function B(t){if(!(t.selection instanceof R))return null;var e=[];return t.selection.forEachCell(function(t,n){e.push(s.Decoration.node(n,n+t.nodeSize,{class:"selectedCell"}))}),s.DecorationSet.create(t.doc,e)}function I(t){var e=t.$from,n=t.$to;if(e.pos==n.pos||e.pos<e.pos-6)return!1;for(var i=e.pos,o=n.pos,r=e.depth;r>=0;r--,i++)if(e.after(r+1)<e.end(r))break;for(var s=n.depth;s>=0;s--,o--)if(n.before(s+1)>n.start(s))break;return i==o&&/row|table/.test(e.node(r).type.spec.tableRole)}function $(t){for(var e,n,i=t.$from,o=t.$to,r=i.depth;r>0;r--){var s=i.node(r);if("cell"===s.type.spec.tableRole||"header_cell"===s.type.spec.tableRole){e=s;break}}for(var a=o.depth;a>0;a--){var c=o.node(a);if("cell"===c.type.spec.tableRole||"header_cell"===c.type.spec.tableRole){n=c;break}}return e!==n&&0===o.parentOffset}function j(t,e,n){var i,o,s=(e||t).selection,a=(e||t).doc;if(s instanceof r.NodeSelection&&(o=s.node.type.spec.tableRole)){if("cell"==o||"header_cell"==o)i=R.create(a,s.from);else if("row"==o){var c=a.resolve(s.from+1);i=R.rowSelection(c,c)}else if(!n){var l=m.get(s.node),h=s.from+1,u=h+l.map[l.width*l.height-1];i=R.create(a,h+1,u)}}else s instanceof r.TextSelection&&I(s)?i=r.TextSelection.create(a,s.from):s instanceof r.TextSelection&&$(s)&&(i=r.TextSelection.create(a,s.$from.start(),s.$from.end()));return i&&(e||(e=t.tr)).setSelection(i),e}function Z(t,e){var n=t.getAttribute("data-colwidth"),i=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map(function(t){return Number(t)}):null,o=Number(t.getAttribute("colspan")||1),r={colspan:o,rowspan:Number(t.getAttribute("rowspan")||1),colwidth:i&&i.length==o?i:null};for(var s in e){var a=e[s].getFromDOM,c=a&&a(t);null!=c&&(r[s]=c)}return r}function F(t,e){var n={};for(var i in 1!=t.attrs.colspan&&(n.colspan=t.attrs.colspan),1!=t.attrs.rowspan&&(n.rowspan=t.attrs.rowspan),t.attrs.colwidth&&(n["data-colwidth"]=t.attrs.colwidth.join(",")),e){var o=e[i].setDOMAttr;o&&o(t.attrs[i],n)}return n}function V(t){var e=t.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var i in e)n[i]={default:e[i].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:t.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:t.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(t){return Z(t,e)}}],toDOM:function(t){return["td",F(t,e),0]}},table_header:{content:t.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(t){return Z(t,e)}}],toDOM:function(t){return["th",F(t,e),0]}}}}function W(t){var e=t.cached.tableNodeTypes;if(!e)for(var n in e=t.cached.tableNodeTypes={},t.nodes){var i=t.nodes[n],o=i.spec.tableRole;o&&(e[o]=i)}return e}function K(t){if(!t.size)return null;var e=t.content,n=t.openStart,i=t.openEnd;while(1==e.childCount&&(n>0&&i>0||"table"==e.firstChild.type.spec.tableRole))n--,i--,e=e.firstChild.content;var o=e.firstChild,r=o.type.spec.tableRole,s=o.type.schema,c=[];if("row"==r)for(var l=0;l<e.childCount;l++){var h=e.child(l).content,u=l?0:Math.max(0,n-1),d=l<e.childCount-1?0:Math.max(0,i-1);(u||d)&&(h=J(W(s).row,new a.Slice(h,u,d)).content),c.push(h)}else{if("cell"!=r&&"header_cell"!=r)return null;c.push(n||i?J(W(s).row,new a.Slice(e,n,i)).content:e)}return H(s,c)}function H(t,e){for(var n=[],i=0;i<e.length;i++)for(var o=e[i],r=o.childCount-1;r>=0;r--)for(var s=o.child(r).attrs,c=s.rowspan,l=s.colspan,h=i;h<i+c;h++)n[h]=(n[h]||0)+l;for(var u=0,d=0;d<n.length;d++)u=Math.max(u,n[d]);for(var p=0;p<n.length;p++)if(p>=e.length&&e.push(a.Fragment.empty),n[p]<u){for(var f=W(t).cell.createAndFill(),m=[],v=n[p];v<u;v++)m.push(f);e[p]=e[p].append(a.Fragment.from(m))}return{height:e.length,width:u,rows:e}}function J(t,e){var n=t.createAndFill(),i=new c.Transform(n).replace(0,n.content.size,e);return i.doc}function U(t,e,n){var i=t.width,o=t.height,r=t.rows;if(i!=e){for(var s=[],c=[],l=0;l<r.length;l++){for(var h=r[l],u=[],d=s[l]||0,p=0;d<e;p++){var f=h.child(p%h.childCount);d+f.attrs.colspan>e&&(f=f.type.create(E(f.attrs,f.attrs.colspan,d+f.attrs.colspan-e),f.content)),u.push(f),d+=f.attrs.colspan;for(var m=1;m<f.attrs.rowspan;m++)s[l+m]=(s[l+m]||0)+f.attrs.colspan}c.push(a.Fragment.from(u))}r=c,i=e}if(o!=n){for(var v=[],g=0,y=0;g<n;g++,y++){for(var _=[],b=r[y%o],w=0;w<b.childCount;w++){var x=b.child(w);g+x.attrs.rowspan>n&&(x=x.type.create(L(x.attrs,"rowspan",n-x.attrs.rowspan),x.content)),_.push(x)}v.push(a.Fragment.from(_))}r=v,o=n}return{width:i,height:o,rows:r}}function q(t,e,n,i,o,r,s){var c,l,h=t.doc.type.schema,u=W(h);if(o>e.width)for(var d=0,p=0;d<e.height;d++){var f=n.child(d);p+=f.nodeSize;var m=[],v=void 0;v=null==f.lastChild||f.lastChild.type==u.cell?c||(c=u.cell.createAndFill()):l||(l=u.header_cell.createAndFill());for(var g=e.width;g<o;g++)m.push(v);t.insert(t.mapping.slice(s).map(p-1+i),m)}if(r>e.height){for(var y=[],_=0,b=(e.height-1)*e.width;_<Math.max(e.width,o);_++){var w=!(_>=e.width)&&n.nodeAt(e.map[b+_]).type==u.header_cell;y.push(w?l||(l=u.header_cell.createAndFill()):c||(c=u.cell.createAndFill()))}for(var x=u.row.create(null,a.Fragment.from(y)),S=[],k=e.height;k<r;k++)S.push(x);t.insert(t.mapping.slice(s).map(i+n.nodeSize-2),S)}return!(!c&&!l)}function G(t,e,n,i,o,r,s,a){if(0==s||s==e.height)return!1;for(var c=!1,l=o;l<r;l++){var h=s*e.width+l,u=e.map[h];if(e.map[h-e.width]==u){c=!0;var d=n.nodeAt(u),p=e.findCell(u),f=p.top,m=p.left;t.setNodeMarkup(t.mapping.slice(a).map(u+i),null,L(d.attrs,"rowspan",s-f)),t.insert(t.mapping.slice(a).map(e.positionAt(s,m,n)),d.type.createAndFill(L(d.attrs,"rowspan",f+d.attrs.rowspan-s))),l+=d.attrs.colspan-1}}return c}function X(t,e,n,i,o,r,s,a){if(0==s||s==e.width)return!1;for(var c=!1,l=o;l<r;l++){var h=l*e.width+s,u=e.map[h];if(e.map[h-1]==u){c=!0;var d=n.nodeAt(u),p=e.colCount(u),f=t.mapping.slice(a).map(u+i);t.setNodeMarkup(f,null,E(d.attrs,s-p,d.attrs.colspan-(s-p))),t.insert(f+d.nodeSize,d.type.createAndFill(E(d.attrs,0,s-p))),l+=d.attrs.rowspan-1}}return c}function Y(t,e,n,i,o){var r=n?t.doc.nodeAt(n-1):t.doc,s=m.get(r),c=i.top,l=i.left,h=l+o.width,u=c+o.height,d=t.tr,p=0;function f(){r=n?d.doc.nodeAt(n-1):d.doc,s=m.get(r),p=d.mapping.maps.length}q(d,s,r,n,h,u,p)&&f(),G(d,s,r,n,l,h,c,p)&&f(),G(d,s,r,n,l,h,u,p)&&f(),X(d,s,r,n,c,u,l,p)&&f(),X(d,s,r,n,c,u,h,p)&&f();for(var v=c;v<u;v++){var g=s.positionAt(v,l,r),y=s.positionAt(v,h,r);d.replace(d.mapping.slice(p).map(g+n),d.mapping.slice(p).map(y+n),new a.Slice(o.rows[v-c],0,0))}f(),d.setSelection(new R(d.doc.resolve(n+s.positionAt(c,l,r)),d.doc.resolve(n+s.positionAt(u-1,h-1,r)))),e(d)}D.prototype.map=function(t){return new D(t.map(this.anchor),t.map(this.head))},D.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=t.resolve(this.head);return"row"==e.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&e.index()<e.parent.childCount&&n.index()<n.parent.childCount&&O(e,n)?new R(e,n):r.Selection.near(n,1)};var Q=l.keydownHandler({ArrowLeft:et("horiz",-1),ArrowRight:et("horiz",1),ArrowUp:et("vert",-1),ArrowDown:et("vert",1),"Shift-ArrowLeft":nt("horiz",-1),"Shift-ArrowRight":nt("horiz",1),"Shift-ArrowUp":nt("vert",-1),"Shift-ArrowDown":nt("vert",1),Backspace:it,"Mod-Backspace":it,Delete:it,"Mod-Delete":it});function tt(t,e,n){return!n.eq(t.selection)&&(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function et(t,e){return function(n,i,o){var s=n.selection;if(s instanceof R)return tt(n,i,r.Selection.near(s.$headCell,e));if("horiz"!=t&&!s.empty)return!1;var a=at(o,t,e);if(null==a)return!1;if("horiz"==t)return tt(n,i,r.Selection.near(n.doc.resolve(s.head+e),e));var c,l=n.doc.resolve(a),h=z(l,t,e);return c=h?r.Selection.near(h,1):e<0?r.Selection.near(n.doc.resolve(l.before(-1)),-1):r.Selection.near(n.doc.resolve(l.after(-1)),1),tt(n,i,c)}}function nt(t,e){return function(n,i,o){var r=n.selection;if(!(r instanceof R)){var s=at(o,t,e);if(null==s)return!1;r=new R(n.doc.resolve(s))}var a=z(r.$headCell,t,e);return!!a&&tt(n,i,new R(r.$anchorCell,a))}}function it(t,e){var n=t.selection;if(!(n instanceof R))return!1;if(e){var i=t.tr,o=W(t.schema).cell.createAndFill().content;n.forEachCell(function(t,e){t.content.eq(o)||i.replace(i.mapping.map(e+1),i.mapping.map(e+t.nodeSize-1),new a.Slice(o,0,0))}),i.docChanged&&e(i)}return!0}function ot(t,e){var n=t.state.doc,i=w(n.resolve(e));return!!i&&(t.dispatch(t.state.tr.setSelection(new R(i))),!0)}function rt(t,e,n){if(!S(t.state))return!1;var i=K(n),o=t.state.selection;if(o instanceof R){i||(i={width:1,height:1,rows:[a.Fragment.from(J(W(t.state.schema).cell,n))]});var r=o.$anchorCell.node(-1),s=o.$anchorCell.start(-1),c=m.get(r).rectBetween(o.$anchorCell.pos-s,o.$headCell.pos-s);return i=U(i,c.right-c.left,c.bottom-c.top),Y(t.state,t.dispatch,s,c,i),!0}if(i){var l=k(t.state),h=l.start(-1);return Y(t.state,t.dispatch,h,m.get(l.node(-1)).findCell(l.pos-h),i),!0}return!1}function st(t,e){if(!e.ctrlKey&&!e.metaKey){var n,i=ct(t,e.target);if(e.shiftKey&&t.state.selection instanceof R)o(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&i&&null!=(n=w(t.state.selection.$anchor))&&lt(t,e).pos!=n.pos)o(n,e),e.preventDefault();else if(!i)return;t.root.addEventListener("mouseup",r),t.root.addEventListener("dragstart",r),t.root.addEventListener("mousemove",s)}function o(e,n){var i=lt(t,n),o=null==b.getState(t.state);if(!i||!O(e,i)){if(!o)return;i=e}var r=new R(e,i);if(o||!t.state.selection.eq(r)){var s=t.state.tr.setSelection(r);o&&s.setMeta(b,e.pos),t.dispatch(s)}}function r(){t.root.removeEventListener("mouseup",r),t.root.removeEventListener("dragstart",r),t.root.removeEventListener("mousemove",s),null!=b.getState(t.state)&&t.dispatch(t.state.tr.setMeta(b,-1))}function s(n){var s,a=b.getState(t.state);if(null!=a)s=t.state.doc.resolve(a);else if(ct(t,n.target)!=i&&(s=lt(t,e),!s))return r();s&&o(s,n)}}function at(t,e,n){if(!(t.state.selection instanceof r.TextSelection))return null;for(var i=t.state.selection,o=i.$head,s=o.depth-1;s>=0;s--){var a=o.node(s),c=n<0?o.index(s):o.indexAfter(s);if(c!=(n<0?0:a.childCount))return null;if("cell"==a.type.spec.tableRole||"header_cell"==a.type.spec.tableRole){var l=o.before(s),h="vert"==e?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(h)?l:null}}return null}function ct(t,e){for(;e&&e!=t.dom;e=e.parentNode)if("TD"==e.nodeName||"TH"==e.nodeName)return e}function lt(t,e){var n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?w(t.state.doc.resolve(n.pos)):null}function ht(t,e,n,i){var o=t.childCount,r=e.childCount;t:for(var s=0,a=0;s<r;s++){for(var c=e.child(s),l=a,h=Math.min(o,s+3);l<h;l++)if(t.child(l)==c){a=l+1,n+=c.nodeSize;continue t}i(c,n),a<o&&t.child(a).sameMarkup(c)?ht(t.child(a),c,n+1,i):c.nodesBetween(0,c.content.size,i,n+1),n+=c.nodeSize}}function ut(t,e){var n,i=function(e,i){"table"==e.type.spec.tableRole&&(n=dt(t,e,i,n))};return e?e.doc!=t.doc&&ht(e.doc,t.doc,0,i):t.doc.descendants(i),n}function dt(t,e,n,i){var o=m.get(e);if(!o.problems)return i;i||(i=t.tr);for(var r,s,a=[],c=0;c<o.height;c++)a.push(0);for(var l=0;l<o.problems.length;l++){var h=o.problems[l];if("collision"==h.type){for(var u=e.nodeAt(h.pos),d=0;d<u.attrs.rowspan;d++)a[h.row+d]+=h.n;i.setNodeMarkup(i.mapping.map(n+1+h.pos),null,E(u.attrs,u.attrs.colspan-h.n,h.n))}else if("missing"==h.type)a[h.row]+=h.n;else if("overlong_rowspan"==h.type){var p=e.nodeAt(h.pos);i.setNodeMarkup(i.mapping.map(n+1+h.pos),null,L(p.attrs,"rowspan",p.attrs.rowspan-h.n))}else if("colwidth mismatch"==h.type){var f=e.nodeAt(h.pos);i.setNodeMarkup(i.mapping.map(n+1+h.pos),null,L(f.attrs,"colwidth",h.colwidth))}}for(var v=0;v<a.length;v++)a[v]&&(null==r&&(r=v),s=v);for(var g=0,y=n+1;g<o.height;g++){var _=e.child(g),b=y+_.nodeSize,w=a[g];if(w>0){var x="cell";_.firstChild&&(x=_.firstChild.type.spec.tableRole);for(var S=[],k=0;k<w;k++)S.push(W(t.schema)[x].createAndFill());var C=0!=g&&r!=g-1||s!=g?b-1:y+1;i.insert(i.mapping.map(C),S)}y=b}return i}function pt(t){var e,n=t.selection,i=k(t),o=i.node(-1),r=i.start(-1),s=m.get(o);return e=n instanceof R?s.rectBetween(n.$anchorCell.pos-r,n.$headCell.pos-r):s.findCell(i.pos-r),e.tableStart=r,e.map=s,e.table=o,e}function ft(t,e,n){for(var i=W(e.type.schema).header_cell,o=0;o<t.height;o++)if(e.nodeAt(t.map[n+o*t.width]).type!=i)return!1;return!0}function mt(t,e,n){var i=e.map,o=e.tableStart,r=e.table,s=n>0?-1:0;ft(i,r,n+s)&&(s=0==n||n==i.width?null:0);for(var a=0;a<i.height;a++){var c=a*i.width+n;if(n>0&&n<i.width&&i.map[c-1]==i.map[c]){var l=i.map[c],h=r.nodeAt(l);t.setNodeMarkup(t.mapping.map(o+l),null,N(h.attrs,n-i.colCount(l))),a+=h.attrs.rowspan-1}else{var u=null==s?W(r.type.schema).cell:r.nodeAt(i.map[c+s]).type,d=i.positionAt(a,n,r);t.insert(t.mapping.map(o+d),u.createAndFill())}}return t}function vt(t,e){if(!S(t))return!1;if(e){var n=pt(t);e(mt(t.tr,n,n.left))}return!0}function gt(t,e){if(!S(t))return!1;if(e){var n=pt(t);e(mt(t.tr,n,n.right))}return!0}function yt(t,e,n){for(var i=e.map,o=e.table,r=e.tableStart,s=t.mapping.maps.length,a=0;a<i.height;){var c=a*i.width+n,l=i.map[c],h=o.nodeAt(l);if(n>0&&i.map[c-1]==l||n<i.width-1&&i.map[c+1]==l)t.setNodeMarkup(t.mapping.slice(s).map(r+l),null,E(h.attrs,n-i.colCount(l)));else{var u=t.mapping.slice(s).map(r+l);t.delete(u,u+h.nodeSize)}a+=h.attrs.rowspan}}function _t(t,e){if(!S(t))return!1;if(e){var n=pt(t),i=t.tr;if(0==n.left&&n.right==n.map.width)return!1;for(var o=n.right-1;;o--){if(yt(i,n,o),o==n.left)break;n.table=n.tableStart?i.doc.nodeAt(n.tableStart-1):i.doc,n.map=m.get(n.table)}e(i)}return!0}function bt(t,e,n){for(var i=W(e.type.schema).header_cell,o=0;o<t.width;o++)if(e.nodeAt(t.map[o+n*t.width]).type!=i)return!1;return!0}function wt(t,e,n){for(var i=e.map,o=e.tableStart,r=e.table,s=o,a=0;a<n;a++)s+=r.child(a).nodeSize;var c=[],l=n>0?-1:0;bt(i,r,n+l)&&(l=0==n||n==i.height?null:0);for(var h=0,u=i.width*n;h<i.width;h++,u++)if(n>0&&n<i.height&&i.map[u]==i.map[u-i.width]){var d=i.map[u],p=r.nodeAt(d).attrs;t.setNodeMarkup(o+d,null,L(p,"rowspan",p.rowspan+1)),h+=p.colspan-1}else{var f=null==l?W(r.type.schema).cell:r.nodeAt(i.map[u+l*i.width]).type;c.push(f.createAndFill())}return t.insert(s,W(r.type.schema).row.create(null,c)),t}function xt(t,e){if(!S(t))return!1;if(e){var n=pt(t);e(wt(t.tr,n,n.top))}return!0}function St(t,e){if(!S(t))return!1;if(e){var n=pt(t);e(wt(t.tr,n,n.bottom))}return!0}function kt(t,e,n){for(var i=e.map,o=e.table,r=e.tableStart,s=0,a=0;a<n;a++)s+=o.child(a).nodeSize;var c=s+o.child(n).nodeSize,l=t.mapping.maps.length;t.delete(s+r,c+r);for(var h=0,u=n*i.width;h<i.width;h++,u++){var d=i.map[u];if(n>0&&d==i.map[u-i.width]){var p=o.nodeAt(d).attrs;t.setNodeMarkup(t.mapping.slice(l).map(d+r),null,L(p,"rowspan",p.rowspan-1)),h+=p.colspan-1}else if(n<i.width&&d==i.map[u+i.width]){var f=o.nodeAt(d),m=f.type.create(L(f.attrs,"rowspan",f.attrs.rowspan-1),f.content),v=i.positionAt(n+1,h,o);t.insert(t.mapping.slice(l).map(r+v),m),h+=f.attrs.colspan-1}}}function Ct(t,e){if(!S(t))return!1;if(e){var n=pt(t),i=t.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(var o=n.bottom-1;;o--){if(kt(i,n,o),o==n.top)break;n.table=n.tableStart?i.doc.nodeAt(n.tableStart-1):i.doc,n.map=m.get(n.table)}e(i)}return!0}function Tt(t){var e=t.content;return 1==e.childCount&&e.firstChild.isTextblock&&0==e.firstChild.childCount}function Mt(t,e){for(var n=t.width,i=t.height,o=t.map,r=e.top*n+e.left,s=r,a=(e.bottom-1)*n+e.left,c=r+(e.right-e.left-1),l=e.top;l<e.bottom;l++){if(e.left>0&&o[s]==o[s-1]||e.right<n&&o[c]==o[c+1])return!0;s+=n,c+=n}for(var h=e.left;h<e.right;h++){if(e.top>0&&o[r]==o[r-n]||e.bottom<i&&o[a]==o[a+n])return!0;r++,a++}return!1}function Ot(t,e){var n=t.selection;if(!(n instanceof R)||n.$anchorCell.pos==n.$headCell.pos)return!1;var i=pt(t),o=i.map;if(Mt(o,i))return!1;if(e){for(var r,s,c=t.tr,l={},h=a.Fragment.empty,u=i.top;u<i.bottom;u++)for(var d=i.left;d<i.right;d++){var p=o.map[u*o.width+d],f=i.table.nodeAt(p);if(!l[p])if(l[p]=!0,null==r)r=p,s=f;else{Tt(f)||(h=h.append(f.content));var m=c.mapping.map(p+i.tableStart);c.delete(m,m+f.nodeSize)}}if(c.setNodeMarkup(r+i.tableStart,null,L(N(s.attrs,s.attrs.colspan,i.right-i.left-s.attrs.colspan),"rowspan",i.bottom-i.top)),h.size){var v=r+1+s.content.size,g=Tt(s)?r+1:v;c.replaceWith(g+i.tableStart,v+i.tableStart,h)}c.setSelection(new R(c.doc.resolve(r+i.tableStart))),e(c)}return!0}function Pt(t,e){var n,i,o=t.selection;if(o instanceof R){if(o.$anchorCell.pos!=o.$headCell.pos)return!1;n=o.$anchorCell.nodeAfter,i=o.$anchorCell.pos}else{if(n=x(o.$from),!n)return!1;i=w(o.$from).pos}if(1==n.attrs.colspan&&1==n.attrs.rowspan)return!1;if(e){var r=n.attrs,s=[],a=r.colwidth;r.rowspan>1&&(r=L(r,"rowspan",1)),r.colspan>1&&(r=L(r,"colspan",1));for(var c=pt(t),l=t.tr,h=0;h<c.right-c.left;h++)s.push(a?L(r,"colwidth",a&&a[h]?[a[h]]:null):r);for(var u,d=W(t.schema)[n.type.spec.tableRole],p=0;p<c.bottom;p++)if(p>=c.top){var f=c.map.positionAt(p,c.left,c.table);p==c.top&&(f+=n.nodeSize);for(var m=c.left,v=0;m<c.right;m++,v++)m==c.left&&p==c.top||l.insert(u=l.mapping.map(f+c.tableStart,1),d.createAndFill(s[v]))}l.setNodeMarkup(i,null,s[0]),o instanceof R&&l.setSelection(new R(l.doc.resolve(o.$anchorCell.pos),u&&l.doc.resolve(u))),e(l)}return!0}function At(t,e){return function(n,i){if(!S(n))return!1;var o=k(n);if(o.nodeAfter.attrs[t]===e)return!1;if(i){var r=n.tr;n.selection instanceof R?n.selection.forEachCell(function(n,i){n.attrs[t]!==e&&r.setNodeMarkup(i,null,L(n.attrs,t,e))}):r.setNodeMarkup(o.pos,null,L(o.nodeAfter.attrs,t,e)),i(r)}return!0}}function zt(t){return function(e,n){if(!S(e))return!1;if(n){for(var i=W(e.schema),o=pt(e),r=e.tr,s=o.map.cellsInRect("column"==t?new f(o.left,0,o.right,o.map.height):"row"==t?new f(0,o.top,o.map.width,o.bottom):o),a=s.map(function(t){return o.table.nodeAt(t)}),c=0;c<s.length;c++)a[c].type==i.header_cell&&r.setNodeMarkup(o.tableStart+s[c],i.cell,a[c].attrs);if(0==r.steps.length)for(var l=0;l<s.length;l++)r.setNodeMarkup(o.tableStart+s[l],i.header_cell,a[l].attrs);n(r)}return!0}}function Lt(t,e,n){for(var i=e.map.cellsInRect({left:0,top:0,right:"row"==t?e.map.width:1,bottom:"column"==t?e.map.height:1}),o=0;o<i.length;o++){var r=e.table.nodeAt(i[o]);if(r&&r.type!==n.header_cell)return!1}return!0}function Et(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?zt(t):function(e,n){if(!S(e))return!1;if(n){var i=W(e.schema),o=pt(e),r=e.tr,s=Lt("row",o,i),a=Lt("column",o,i),c="column"===t?s:"row"===t&&a,l=c?1:0,h="column"==t?new f(0,l,1,o.map.height):"row"==t?new f(l,0,o.map.width,1):o,u="column"==t?a?i.cell:i.header_cell:"row"==t?s?i.cell:i.header_cell:i.cell;o.map.cellsInRect(h).forEach(function(t){var e=t+o.tableStart,n=r.doc.nodeAt(e);n&&r.setNodeMarkup(e,u,n.attrs)}),n(r)}return!0}}var Nt=Et("row",{useDeprecatedLogic:!0}),Rt=Et("column",{useDeprecatedLogic:!0}),Dt=Et("cell",{useDeprecatedLogic:!0});function Bt(t,e){if(e<0){var n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(var i=t.index(-1)-1,o=t.before();i>=0;i--){var r=t.node(-1).child(i);if(r.childCount)return o-1-r.lastChild.nodeSize;o-=r.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;for(var s=t.node(-1),a=t.indexAfter(-1),c=t.after();a<s.childCount;a++){var l=s.child(a);if(l.childCount)return c+1;c+=l.nodeSize}}}function It(t){return function(e,n){if(!S(e))return!1;var i=Bt(k(e),t);if(null!=i){if(n){var o=e.doc.resolve(i);n(e.tr.setSelection(r.TextSelection.between(o,M(o))).scrollIntoView())}return!0}}}function $t(t,e){for(var n=t.selection.$anchor,i=n.depth;i>0;i--){var o=n.node(i);if("table"==o.type.spec.tableRole)return e&&e(t.tr.delete(n.before(i),n.after(i)).scrollIntoView()),!0}return!1}var jt=function(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Zt(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};function Zt(t,e,n,i,o,r){for(var s=0,a=!0,c=e.firstChild,l=t.firstChild,h=0,u=0;h<l.childCount;h++)for(var d=l.child(h).attrs,p=d.colspan,f=d.colwidth,m=0;m<p;m++,u++){var v=o==u?r:f&&f[m],g=v?v+"px":"";s+=v||i,v||(a=!1),c?(c.style.width!=g&&(c.style.width=g),c=c.nextSibling):e.appendChild(document.createElement("col")).style.width=g}while(c){var y=c.nextSibling;c.parentNode.removeChild(c),c=y}a?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}jt.prototype.update=function(t){return t.type==this.node.type&&(this.node=t,Zt(t,this.colgroup,this.table,this.cellMinWidth),!0)},jt.prototype.ignoreMutation=function(t){return"attributes"==t.type&&(t.target==this.table||this.colgroup.contains(t.target))};var Ft=new r.PluginKey("tableColumnResizing");function Vt(t){void 0===t&&(t={});var e=t.handleWidth;void 0===e&&(e=5);var n=t.cellMinWidth;void 0===n&&(n=25);var i=t.View;void 0===i&&(i=jt);var o=t.lastColumnResizable;void 0===o&&(o=!0);var s=new r.Plugin({key:Ft,state:{init:function(t,e){return this.spec.props.nodeViews[W(e.schema).table.name]=function(t,e){return new i(t,n,e)},new Wt(-1,!1)},apply:function(t,e){return e.apply(t)}},props:{attributes:function(t){var e=Ft.getState(t);return e.activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(t,i){Kt(t,i,e,n,o)},mouseleave:function(t){Ht(t)},mousedown:function(t,e){Jt(t,e,n)}},decorations:function(t){var e=Ft.getState(t);if(e.activeHandle>-1)return ne(t,e.activeHandle)},nodeViews:{}}});return s}var Wt=function(t,e){this.activeHandle=t,this.dragging=e};function Kt(t,e,n,i,o){var r=Ft.getState(t.state);if(!r.dragging){var s=qt(e.target),a=-1;if(s){var c=s.getBoundingClientRect(),l=c.left,h=c.right;e.clientX-l<=n?a=Gt(t,e,"left"):h-e.clientX<=n&&(a=Gt(t,e,"right"))}if(a!=r.activeHandle){if(!o&&-1!==a){var u=t.state.doc.resolve(a),d=u.node(-1),p=m.get(d),f=u.start(-1),v=p.colCount(u.pos-f)+u.nodeAfter.attrs.colspan-1;if(v==p.width-1)return}Yt(t,a)}}}function Ht(t){var e=Ft.getState(t.state);e.activeHandle>-1&&!e.dragging&&Yt(t,-1)}function Jt(t,e,n){var i=Ft.getState(t.state);if(-1==i.activeHandle||i.dragging)return!1;var o=t.state.doc.nodeAt(i.activeHandle),r=Ut(t,i.activeHandle,o.attrs);function s(e){window.removeEventListener("mouseup",s),window.removeEventListener("mousemove",a);var i=Ft.getState(t.state);i.dragging&&(Qt(t,i.activeHandle,Xt(i.dragging,e,n)),t.dispatch(t.state.tr.setMeta(Ft,{setDragging:null})))}function a(e){if(!e.which)return s(e);var i=Ft.getState(t.state),o=Xt(i.dragging,e,n);te(t,i.activeHandle,o,n)}return t.dispatch(t.state.tr.setMeta(Ft,{setDragging:{startX:e.clientX,startWidth:r}})),window.addEventListener("mouseup",s),window.addEventListener("mousemove",a),e.preventDefault(),!0}function Ut(t,e,n){var i=n.colspan,o=n.colwidth,r=o&&o[o.length-1];if(r)return r;var s=t.domAtPos(e),a=s.node.childNodes[s.offset],c=a.offsetWidth,l=i;if(o)for(var h=0;h<i;h++)o[h]&&(c-=o[h],l--);return c/l}function qt(t){while(t&&"TD"!=t.nodeName&&"TH"!=t.nodeName)t=t.classList.contains("ProseMirror")?null:t.parentNode;return t}function Gt(t,e,n){var i=t.posAtCoords({left:e.clientX,top:e.clientY}),o=i.pos,r=w(t.state.doc.resolve(o));if(!r)return-1;if("right"==n)return r.pos;var s=m.get(r.node(-1)),a=r.start(-1),c=s.map.indexOf(r.pos-a);return c%s.width==0?-1:a+s.map[c-1]}function Xt(t,e,n){var i=e.clientX-t.startX;return Math.max(n,t.startWidth+i)}function Yt(t,e){t.dispatch(t.state.tr.setMeta(Ft,{setHandle:e}))}function Qt(t,e,n){for(var i=t.state.doc.resolve(e),o=i.node(-1),r=m.get(o),s=i.start(-1),a=r.colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1,c=t.state.tr,l=0;l<r.height;l++){var h=l*r.width+a;if(!l||r.map[h]!=r.map[h-r.width]){var u=r.map[h],d=o.nodeAt(u),p=d.attrs,f=1==p.colspan?0:a-r.colCount(u);if(!p.colwidth||p.colwidth[f]!=n){var v=p.colwidth?p.colwidth.slice():ee(p.colspan);v[f]=n,c.setNodeMarkup(s+u,null,L(p,"colwidth",v))}}}c.docChanged&&t.dispatch(c)}function te(t,e,n,i){var o=t.state.doc.resolve(e),r=o.node(-1),s=o.start(-1),a=m.get(r).colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1,c=t.domAtPos(o.start(-1)).node;while("TABLE"!=c.nodeName)c=c.parentNode;Zt(r,c.firstChild,c,i,a,n)}function ee(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}function ne(t,e){for(var n=[],i=t.doc.resolve(e),o=i.node(-1),r=m.get(o),a=i.start(-1),c=r.colCount(i.pos-a)+i.nodeAfter.attrs.colspan,l=0;l<r.height;l++){var h=c+l*r.width-1;if((c==r.width||r.map[h]!=r.map[h+1])&&(0==l||r.map[h-1]!=r.map[h-1-r.width])){var u=r.map[h],d=a+u+o.nodeAt(u).nodeSize-1,p=document.createElement("div");p.className="column-resize-handle",n.push(s.Decoration.widget(d,p))}}return s.DecorationSet.create(t.doc,n)}function ie(t){void 0===t&&(t={});var e=t.allowTableNodeSelection;return void 0===e&&(e=!1),new r.Plugin({key:b,state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(b);if(null!=n)return-1==n?null:n;if(null==e||!t.docChanged)return e;var i=t.mapping.mapResult(e),o=i.deleted,r=i.pos;return o?null:r}},props:{decorations:B,handleDOMEvents:{mousedown:st},createSelectionBetween:function(t){if(null!=b.getState(t.state))return t.state.selection},handleTripleClick:ot,handleKeyDown:Q,handlePaste:rt},appendTransaction:function(t,n,i){return j(i,ut(i,n),e)}})}Wt.prototype.apply=function(t){var e=this,n=t.getMeta(Ft);if(n&&null!=n.setHandle)return new Wt(n.setHandle,null);if(n&&void 0!==n.setDragging)return new Wt(e.activeHandle,n.setDragging);if(e.activeHandle>-1&&t.docChanged){var i=t.mapping.map(e.activeHandle,-1);T(t.doc.resolve(i))||(i=null),e=new Wt(i,e.dragging)}return e},e.tableEditing=ie,e.fixTables=ut,e.handlePaste=rt,e.cellAround=w,e.isInTable=S,e.selectionCell=k,e.moveCellForward=M,e.inSameTable=O,e.findCell=P,e.colCount=A,e.nextCell=z,e.tableNodes=V,e.CellSelection=R,e.TableMap=m,e.columnResizing=Vt,e.columnResizingPluginKey=Ft,e.updateColumnsOnResize=Zt,e.__pastedCells=K,e.__insertCells=Y,e.__clipCells=U,e.addColumn=mt,e.addColumnBefore=vt,e.addColumnAfter=gt,e.removeColumn=yt,e.deleteColumn=_t,e.addRow=wt,e.addRowBefore=xt,e.addRowAfter=St,e.removeRow=kt,e.deleteRow=Ct,e.mergeCells=Ot,e.splitCell=Pt,e.setCellAttr=At,e.toggleHeader=Et,e.toggleHeaderRow=Nt,e.toggleHeaderColumn=Rt,e.toggleHeaderCell=Dt,e.goToNextCell=It,e.deleteTable=$t}}]);
//# sourceMappingURL=about.3cdb9000.js.map